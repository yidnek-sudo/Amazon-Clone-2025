function lV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function UE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qv={exports:{}},Qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function uV(){if(GA)return Qh;GA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Qh.Fragment=e,Qh.jsx=t,Qh.jsxs=t,Qh}var KA;function cV(){return KA||(KA=1,qv.exports=uV()),qv.exports}var z=cV(),Hv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function hV(){if(WA)return Le;WA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function x(q,oe,be){this.props=q,this.context=oe,this.refs=I,this.updater=be||T}x.prototype.isReactComponent={},x.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=x.prototype;function M(q,oe,be){this.props=q,this.context=oe,this.refs=I,this.updater=be||T}var U=M.prototype=new L;U.constructor=M,w(U,x.prototype),U.isPureReactComponent=!0;var H=Array.isArray,j={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function V(q,oe,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:q,key:oe,ref:be!==void 0?be:null,props:Oe}}function C(q,oe){return V(q.type,oe,void 0,void 0,void 0,q.props)}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function b(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(be){return oe[be]})}var P=/\/+/g;function O(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?b(""+q.key):oe.toString(36)}function D(){}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(oe){q.status==="pending"&&(q.status="fulfilled",q.value=oe)},function(oe){q.status==="pending"&&(q.status="rejected",q.reason=oe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,oe,be,ve,ye){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var De=!1;if(q===null)De=!0;else switch(Oe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(q.$$typeof){case n:case e:De=!0;break;case g:return De=q._init,B(De(q._payload),oe,be,ve,ye)}}if(De)return ye=ye(q),De=ve===""?"."+O(q,0):ve,H(ye)?(be="",De!=null&&(be=De.replace(P,"$&/")+"/"),B(ye,oe,be,"",function(bt){return bt})):ye!=null&&(R(ye)&&(ye=C(ye,be+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+De)),oe.push(ye)),1;De=0;var xt=ve===""?".":ve+":";if(H(q))for(var qe=0;qe<q.length;qe++)ve=q[qe],Oe=xt+O(ve,qe),De+=B(ve,oe,be,Oe,ye);else if(qe=v(q),typeof qe=="function")for(q=qe.call(q),qe=0;!(ve=q.next()).done;)ve=ve.value,Oe=xt+O(ve,qe++),De+=B(ve,oe,be,Oe,ye);else if(Oe==="object"){if(typeof q.then=="function")return B(te(q),oe,be,ve,ye);throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(q,oe,be){if(q==null)return q;var ve=[],ye=0;return B(q,ve,"","",function(Oe){return oe.call(be,Oe,ye++)}),ve}function ie(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(be){(q._status===0||q._status===-1)&&(q._status=1,q._result=be)},function(be){(q._status===0||q._status===-1)&&(q._status=2,q._result=be)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var ae=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function we(){}return Le.Children={map:Z,forEach:function(q,oe,be){Z(q,function(){oe.apply(this,arguments)},be)},count:function(q){var oe=0;return Z(q,function(){oe++}),oe},toArray:function(q){return Z(q,function(oe){return oe})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=M,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,oe,be){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=w({},q.props),ye=q.key,Oe=void 0;if(oe!=null)for(De in oe.ref!==void 0&&(Oe=void 0),oe.key!==void 0&&(ye=""+oe.key),oe)!$.call(oe,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&oe.ref===void 0||(ve[De]=oe[De]);var De=arguments.length-2;if(De===1)ve.children=be;else if(1<De){for(var xt=Array(De),qe=0;qe<De;qe++)xt[qe]=arguments[qe+2];ve.children=xt}return V(q.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,oe,be){var ve,ye={},Oe=null;if(oe!=null)for(ve in oe.key!==void 0&&(Oe=""+oe.key),oe)$.call(oe,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=oe[ve]);var De=arguments.length-2;if(De===1)ye.children=be;else if(1<De){for(var xt=Array(De),qe=0;qe<De;qe++)xt[qe]=arguments[qe+2];ye.children=xt}if(q&&q.defaultProps)for(ve in De=q.defaultProps,De)ye[ve]===void 0&&(ye[ve]=De[ve]);return V(q,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=R,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ie}},Le.memo=function(q,oe){return{$$typeof:f,type:q,compare:oe===void 0?null:oe}},Le.startTransition=function(q){var oe=j.T,be={};j.T=be;try{var ve=q(),ye=j.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(we,ae)}catch(Oe){ae(Oe)}finally{j.T=oe}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(q){return j.H.use(q)},Le.useActionState=function(q,oe,be){return j.H.useActionState(q,oe,be)},Le.useCallback=function(q,oe){return j.H.useCallback(q,oe)},Le.useContext=function(q){return j.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,oe){return j.H.useDeferredValue(q,oe)},Le.useEffect=function(q,oe){return j.H.useEffect(q,oe)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(q,oe,be){return j.H.useImperativeHandle(q,oe,be)},Le.useInsertionEffect=function(q,oe){return j.H.useInsertionEffect(q,oe)},Le.useLayoutEffect=function(q,oe){return j.H.useLayoutEffect(q,oe)},Le.useMemo=function(q,oe){return j.H.useMemo(q,oe)},Le.useOptimistic=function(q,oe){return j.H.useOptimistic(q,oe)},Le.useReducer=function(q,oe,be){return j.H.useReducer(q,oe,be)},Le.useRef=function(q){return j.H.useRef(q)},Le.useState=function(q){return j.H.useState(q)},Le.useSyncExternalStore=function(q,oe,be){return j.H.useSyncExternalStore(q,oe,be)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.0.0",Le}var QA;function co(){return QA||(QA=1,Hv.exports=hV()),Hv.exports}var W=co();const Ke=UE(W),O0=lV({__proto__:null,default:Ke},[W]);var $v={exports:{}},Yh={},Gv={exports:{}},Kv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function dV(){return YA||(YA=1,function(n){function e(Z,ie){var ae=Z.length;Z.push(ie);e:for(;0<ae;){var we=ae-1>>>1,q=Z[we];if(0<i(q,ie))Z[we]=ie,Z[ae]=q,ae=we;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ie=Z[0],ae=Z.pop();if(ae!==ie){Z[0]=ae;e:for(var we=0,q=Z.length,oe=q>>>1;we<oe;){var be=2*(we+1)-1,ve=Z[be],ye=be+1,Oe=Z[ye];if(0>i(ve,ae))ye<q&&0>i(Oe,ve)?(Z[we]=Oe,Z[ye]=ae,we=ye):(Z[we]=ve,Z[be]=ae,we=be);else if(ye<q&&0>i(Oe,ae))Z[we]=Oe,Z[ye]=ae,we=ye;else break e}}return ie}function i(Z,ie){var ae=Z.sortIndex-ie.sortIndex;return ae!==0?ae:Z.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,I=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(Z){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=Z)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function H(Z){if(I=!1,U(Z),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&B(H,ie.startTime-Z)}}var j=!1,$=-1,V=5,C=-1;function R(){return!(n.unstable_now()-C<V)}function b(){if(j){var Z=n.unstable_now();C=Z;var ie=!0;try{e:{w=!1,I&&(I=!1,L($),$=-1),T=!0;var ae=v;try{t:{for(U(Z),_=t(d);_!==null&&!(_.expirationTime>Z&&R());){var we=_.callback;if(typeof we=="function"){_.callback=null,v=_.priorityLevel;var q=we(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof q=="function"){_.callback=q,U(Z),ie=!0;break t}_===t(d)&&r(d),U(Z)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var oe=t(f);oe!==null&&B(H,oe.startTime-Z),ie=!1}}break e}finally{_=null,v=ae,T=!1}ie=void 0}}finally{ie?P():j=!1}}}var P;if(typeof M=="function")P=function(){M(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=b,P=function(){D.postMessage(null)}}else P=function(){x(b,0)};function te(){j||(j=!0,P())}function B(Z,ie){$=x(function(){Z(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ae=v;v=ie;try{return Z()}finally{v=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ae=v;v=Z;try{return ie()}finally{v=ae}},n.unstable_scheduleCallback=function(Z,ie,ae){var we=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,Z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ae+q,Z={id:g++,callback:ie,priorityLevel:Z,startTime:ae,expirationTime:q,sortIndex:-1},ae>we?(Z.sortIndex=ae,e(f,Z),t(d)===null&&Z===t(f)&&(I?(L($),$=-1):I=!0,B(H,ae-we))):(Z.sortIndex=q,e(d,Z),w||T||(w=!0,te())),Z},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(Z){var ie=v;return function(){var ae=v;v=ie;try{return Z.apply(this,arguments)}finally{v=ae}}}}(Kv)),Kv}var XA;function fV(){return XA||(XA=1,Gv.exports=dV()),Gv.exports}var Wv={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function pV(){if(JA)return jn;JA=1;var n=co();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},jn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},jn.version="19.0.0",jn}var ZA;function mV(){if(ZA)return Wv.exports;ZA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wv.exports=pV(),Wv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function gV(){if(eI)return Yh;eI=1;var n=fV(),e=co(),t=mV();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case I:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,P,O;function D(s){if(P===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+O}var te=!1;function B(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ue){var ee=ue}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(ue){ee=ue}s.call(fe.prototype)}}else{try{throw Error()}catch(ue){ee=ue}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ue){if(ue&&ee&&typeof ue.stack=="string")return[ue.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],k=y[1];if(A&&k){var F=A.split(`
`),K=k.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===K.length)for(c=F.length-1,m=K.length-1;1<=c&&0<=m&&F[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==K[m]){var ce=`
`+F[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?D(l):""}function Z(s){switch(s.tag){case 26:case 27:case 5:return D(s.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return s=B(s.type,!1),s;case 11:return s=B(s.type.render,!1),s;case 1:return s=B(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=Z(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ae(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function we(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function q(s){if(ae(s)!==s)throw Error(r(188))}function oe(s){var a=s.alternate;if(!a){if(a=ae(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return q(m),s;if(y===c)return q(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,k=m.child;k;){if(k===l){A=!0,l=m,c=y;break}if(k===c){A=!0,c=m,l=y;break}k=k.sibling}if(!A){for(k=y.child;k;){if(k===l){A=!0,l=y,c=m;break}if(k===c){A=!0,c=y,l=m;break}k=k.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},De=[],xt=-1;function qe(s){return{current:s}}function bt(s){0>xt||(s.current=De[xt],De[xt]=null,xt--)}function nt(s,a){xt++,De[xt]=s.current,s.current=a}var vn=qe(null),Wn=qe(null),Wt=qe(null),Pr=qe(null);function di(s,a){switch(nt(Wt,a),nt(Wn,s),nt(vn,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?bA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=bA(s),a=wA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}bt(vn),nt(vn,a)}function Zr(){bt(vn),bt(Wn),bt(Wt)}function Eo(s){s.memoizedState!==null&&nt(Pr,s);var a=vn.current,l=wA(a,s.type);a!==l&&(nt(Wn,s),nt(vn,l))}function Ys(s){Wn.current===s&&(bt(vn),bt(Wn)),Pr.current===s&&(bt(Pr),Hh._currentValue=Oe)}var Xs=Object.prototype.hasOwnProperty,fi=n.unstable_scheduleCallback,Fe=n.unstable_cancelCallback,mt=n.unstable_shouldYield,Pt=n.unstable_requestPaint,hn=n.unstable_now,ei=n.unstable_getCurrentPriorityLevel,gt=n.unstable_ImmediatePriority,lt=n.unstable_UserBlockingPriority,Pn=n.unstable_NormalPriority,Js=n.unstable_LowPriority,Gc=n.unstable_IdlePriority,Gy=n.log,bo=n.unstable_setDisableYieldValue,Zs=null,Bn=null;function Kc(s){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}function pi(s){if(typeof Gy=="function"&&bo(s),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(Zs,s)}catch{}}var Qn=Math.clz32?Math.clz32:Qf,Wc=Math.log,Wf=Math.LN2;function Qf(s){return s>>>=0,s===0?32:31-(Wc(s)/Wf|0)|0}var mi=128,ea=4194304;function ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Or(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~m,l!==0?c=ti(l):(y&=k,y!==0?c=ti(y):s||(A=k&~A,A!==0&&(c=ti(A))))):(k=l&~m,k!==0?c=ti(k):y!==0?c=ti(y):s||(A=l&~A,A!==0&&(c=ti(A)))),c===0?0:a!==0&&a!==c&&(a&m)===0&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function ta(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ll(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var s=mi;return mi<<=1,(mi&4194176)===0&&(mi=128),s}function na(){var s=ea;return ea<<=1,(ea&62914560)===0&&(ea=4194304),s}function Ul(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Qt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yf(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,F=s.expirationTimes,K=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Qn(l),fe=1<<ce;k[ce]=0,F[ce]=-1;var ee=K[ce];if(ee!==null)for(K[ce]=null,ce=0;ce<ee.length;ce++){var ue=ee[ce];ue!==null&&(ue.lane&=-536870913)}l&=~fe}c!==0&&ra(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function ra(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Qn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function ia(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Qn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Xf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jf(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:FA(s.type))}function sa(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var gi=Math.random().toString(36).slice(2),En="__reactFiber$"+gi,dn="__reactProps$"+gi,ts="__reactContainer$"+gi,wo="__reactEvents$"+gi,Bl="__reactListeners$"+gi,yi="__reactHandles$"+gi,Yc="__reactResources$"+gi,aa="__reactMarker$"+gi;function To(s){delete s[En],delete s[dn],delete s[wo],delete s[Bl],delete s[yi]}function ni(s){var a=s[En];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ts]||l[En]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=AA(s);s!==null;){if(l=s[En])return l;s=AA(s)}return a}s=l,l=s.parentNode}return null}function ns(s){if(s=s[En]||s[ts]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function oa(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function la(s){var a=s[Yc];return a||(a=s[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(s){s[aa]=!0}var Xc=new Set,Fl={};function fr(s,a){sr(s,a),sr(s+"Capture",a)}function sr(s,a){for(Fl[s]=a,s=0;s<a.length;s++)Xc.add(a[s])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},Zc={};function Zf(s){return Xs.call(Zc,s)?!0:Xs.call(Jc,s)?!1:Ky.test(s)?Zc[s]=!0:(Jc[s]=!0,!1)}function ua(s,a,l){if(Zf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ca(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Dr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ep(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Wy(s){var a=ep(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function So(s){s._valueTracker||(s._valueTracker=Wy(s))}function eh(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=ep(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function jl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var rs=/[\n"\\]/g;function Bt(s){return s.replace(rs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ha(s,a,l,c,m,y,A,k){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Yn(a)):s.value!==""+Yn(a)&&(s.value=""+Yn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?zl(s,A,Yn(a)):l!=null?zl(s,A,Yn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Yn(k):s.removeAttribute("name")}function Ao(s,a,l,c,m,y,A,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Yn(l):"",a=a!=null?""+Yn(a):l,k||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=k?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function zl(s,a,l){a==="number"&&jl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Je(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Yn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Io(s,a,l){if(a!=null&&(a=""+Yn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Yn(l):""}function da(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Yn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function kr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Qy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Qy.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function tp(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&th(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&th(s,y,a[y])}function nh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(s){return Xy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Nr=null;function ql(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,ss=null;function as(s){var a=ns(s);if(a&&(s=a.stateNode)){var l=s[dn]||null;e:switch(s=a.stateNode,a.type){case"input":if(ha(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Bt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[dn]||null;if(!m)throw Error(r(90));ha(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&eh(c)}break e;case"textarea":Io(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Je(s,!!l.multiple,a,!1)}}}var rh=!1;function np(s,a,l){if(rh)return s(a,l);rh=!0;try{var c=s(a);return c}finally{if(rh=!1,(is!==null||ss!==null)&&(Kp(),is&&(a=is,s=ss,ss=is=null,as(a),s)))for(a=0;a<s.length;a++)as(s[a])}}function Ro(s,a){var l=s.stateNode;if(l===null)return null;var c=l[dn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Vr=!1;if(pr)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Vr=!1}var vi=null,fa=null,os=null;function ih(){if(os)return os;var s,a=fa,l=a.length,c,m="value"in vi?vi.value:vi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return os=m.slice(s,1<c?1-c:void 0)}function Ei(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function bi(){return!0}function sh(){return!1}function bn(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bi:sh,this.isPropagationStopped=sh,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=bn(st),xo=b({},st,{view:0,detail:0}),rp=bn(xo),$l,Gl,wi,Po=b({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wi&&(wi&&s.type==="mousemove"?($l=s.screenX-wi.screenX,Gl=s.screenY-wi.screenY):Gl=$l=0,wi=s),$l)},movementY:function(s){return"movementY"in s?s.movementY:Gl}}),Mr=bn(Po),ip=b({},Po,{dataTransfer:0}),Jy=bn(ip),Oo=b({},xo,{relatedTarget:0}),Kl=bn(Oo),ah=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=bn(ah),sp=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ql=bn(sp),Zy=b({},st,{data:0}),oh=bn(Zy),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=op[s])?!!a[s]:!1}function ko(){return lh}var lp=b({},xo,{key:function(s){if(s.key){var a=Do[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ei(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ap[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(s){return s.type==="keypress"?Ei(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ei(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yl=bn(lp),up=b({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=bn(up),ls=b({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),cp=bn(ls),hp=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=bn(hp),fp=b({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=bn(fp),Xn=b({},st,{newState:0,oldState:0}),pp=bn(Xn),mp=[9,13,27,32],Ti=pr&&"CompositionEvent"in window,p=null;pr&&"documentMode"in document&&(p=document.documentMode);var E=pr&&"TextEvent"in window&&!p,S=pr&&(!Ti||p&&8<p&&11>=p),N=" ",Y=!1;function re(s,a){switch(s){case"keyup":return mp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function fn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,N);case"textInput":return s=a.data,s===N&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!Ti&&re(s,a)?(s=ih(),os=fa=vi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!wn[s.type]:a==="textarea"}function us(s,a,l,c){is?ss?ss.push(c):ss=[c]:is=c,a=Jp(a,"onChange"),0<a.length&&(l=new Hl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var On=null,Si=null;function ch(s){gA(s,0)}function gp(s){var a=oa(s);if(eh(a))return s}function $w(s,a){if(s==="change")return a}var Gw=!1;if(pr){var e_;if(pr){var t_="oninput"in document;if(!t_){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),t_=typeof Kw.oninput=="function"}e_=t_}else e_=!1;Gw=e_&&(!document.documentMode||9<document.documentMode)}function Ww(){On&&(On.detachEvent("onpropertychange",Qw),Si=On=null)}function Qw(s){if(s.propertyName==="value"&&gp(Si)){var a=[];us(a,Si,s,ql(s)),np(ch,a)}}function UN(s,a,l){s==="focusin"?(Ww(),On=a,Si=l,On.attachEvent("onpropertychange",Qw)):s==="focusout"&&Ww()}function BN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gp(Si)}function FN(s,a){if(s==="click")return gp(a)}function jN(s,a){if(s==="input"||s==="change")return gp(a)}function zN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mr=typeof Object.is=="function"?Object.is:zN;function hh(s,a){if(mr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Xs.call(a,m)||!mr(s[m],a[m]))return!1}return!0}function Yw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xw(s,a){var l=Yw(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Yw(l)}}function Jw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Jw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Zw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=jl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=jl(s.document)}return a}function n_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function qN(s,a){var l=Zw(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&Jw(a.ownerDocument.documentElement,a)){if(c!==null&&n_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=Xw(a,y);var A=Xw(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var HN=pr&&"documentMode"in document&&11>=document.documentMode,Jl=null,r_=null,dh=null,i_=!1;function eT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;i_||Jl==null||Jl!==jl(c)||(c=Jl,"selectionStart"in c&&n_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),dh&&hh(dh,c)||(dh=c,c=Jp(r_,"onSelect"),0<c.length&&(a=new Hl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Jl)))}function No(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Zl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},s_={},tT={};pr&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Vo(s){if(s_[s])return s_[s];if(!Zl[s])return s;var a=Zl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in tT)return s_[s]=a[l];return s}var nT=Vo("animationend"),rT=Vo("animationiteration"),iT=Vo("animationstart"),$N=Vo("transitionrun"),GN=Vo("transitionstart"),KN=Vo("transitioncancel"),sT=Vo("transitionend"),aT=new Map,oT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ri(s,a){aT.set(s,a),fr(a,[s])}var Lr=[],eu=0,a_=0;function yp(){for(var s=eu,a=a_=eu=0;a<s;){var l=Lr[a];Lr[a++]=null;var c=Lr[a];Lr[a++]=null;var m=Lr[a];Lr[a++]=null;var y=Lr[a];if(Lr[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&lT(l,m,y)}}function _p(s,a,l,c){Lr[eu++]=s,Lr[eu++]=a,Lr[eu++]=l,Lr[eu++]=c,a_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function o_(s,a,l,c){return _p(s,a,l,c),vp(s)}function pa(s,a){return _p(s,null,null,a),vp(s)}function lT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Qn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function vp(s){if(50<Lh)throw Lh=0,fv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var tu={},uT=new WeakMap;function Ur(s,a){if(typeof s=="object"&&s!==null){var l=uT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},uT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var nu=[],ru=0,Ep=null,bp=0,Br=[],Fr=0,Mo=null,cs=1,hs="";function Lo(s,a){nu[ru++]=bp,nu[ru++]=Ep,Ep=s,bp=a}function cT(s,a,l){Br[Fr++]=cs,Br[Fr++]=hs,Br[Fr++]=Mo,Mo=s;var c=cs;s=hs;var m=32-Qn(c)-1;c&=~(1<<m),l+=1;var y=32-Qn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,cs=1<<32-Qn(a)+m|l<<m|c,hs=y+s}else cs=1<<y|l<<m|c,hs=s}function l_(s){s.return!==null&&(Lo(s,1),cT(s,1,0))}function u_(s){for(;s===Ep;)Ep=nu[--ru],nu[ru]=null,bp=nu[--ru],nu[ru]=null;for(;s===Mo;)Mo=Br[--Fr],Br[Fr]=null,hs=Br[--Fr],Br[Fr]=null,cs=Br[--Fr],Br[Fr]=null}var Jn=null,Dn=null,Ze=!1,ii=null,Ai=!1,c_=Error(r(519));function Uo(s){var a=Error(r(418,""));throw mh(Ur(a,s)),c_}function hT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[En]=s,a[dn]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Bh.length;l++)Ge(Bh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Ao(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),So(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),da(a,c.value,c.defaultValue,c.children),So(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||EA(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=Zp),a=!0):a=!1,a||Uo(s)}function dT(s){for(Jn=s.return;Jn;)switch(Jn.tag){case 3:case 27:Ai=!0;return;case 5:case 13:Ai=!1;return;default:Jn=Jn.return}}function fh(s){if(s!==Jn)return!1;if(!Ze)return dT(s),Ze=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Pv(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&Dn&&Uo(s),dT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Dn=ai(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Dn=null}}else Dn=Jn?ai(s.stateNode.nextSibling):null;return!0}function ph(){Dn=Jn=null,Ze=!1}function mh(s){ii===null?ii=[s]:ii.push(s)}var gh=Error(r(460)),fT=Error(r(474)),h_={then:function(){}};function pT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function wp(){}function mT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(wp,wp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===gh?Error(r(483)):s;default:if(typeof a.status=="string")a.then(wp,wp);else{if(s=yt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===gh?Error(r(483)):s}throw yh=a,gh}}var yh=null;function gT(){if(yh===null)throw Error(r(459));var s=yh;return yh=null,s}var iu=null,_h=0;function Tp(s){var a=_h;return _h+=1,iu===null&&(iu=[]),mT(iu,s,a)}function vh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Sp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function yT(s){var a=s._init;return a(s._payload)}function _T(s){function a(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=Ia(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=33554434,G):J):(Q.flags|=33554434,G)):(Q.flags|=1048576,G)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=33554434),Q}function k(Q,G,J,he){return G===null||G.tag!==6?(G=sv(J,Q.mode,he),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function F(Q,G,J,he){var Se=J.type;return Se===d?ce(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&yT(Se)===G.type)?(G=m(G,J.props),vh(G,J),G.return=Q,G):(G=zp(J.type,J.key,J.props,null,Q.mode,he),vh(G,J),G.return=Q,G)}function K(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=av(J,Q.mode,he),G.return=Q,G):(G=m(G,J.children||[]),G.return=Q,G)}function ce(Q,G,J,he,Se){return G===null||G.tag!==7?(G=Wo(J,Q.mode,he,Se),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=sv(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return J=zp(G.type,G.key,G.props,null,Q.mode,J),vh(J,G),J.return=Q,J;case h:return G=av(G,Q.mode,J),G.return=Q,G;case M:var he=G._init;return G=he(G._payload),fe(Q,G,J)}if(ve(G)||$(G))return G=Wo(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Tp(G),J);if(G.$$typeof===T)return fe(Q,Bp(Q,G),J);Sp(Q,G)}return null}function ee(Q,G,J,he){var Se=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:k(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return J.key===Se?F(Q,G,J,he):null;case h:return J.key===Se?K(Q,G,J,he):null;case M:return Se=J._init,J=Se(J._payload),ee(Q,G,J,he)}if(ve(J)||$(J))return Se!==null?null:ce(Q,G,J,he,null);if(typeof J.then=="function")return ee(Q,G,Tp(J),he);if(J.$$typeof===T)return ee(Q,G,Bp(Q,J),he);Sp(Q,J)}return null}function ue(Q,G,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,k(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return Q=Q.get(he.key===null?J:he.key)||null,F(G,Q,he,Se);case h:return Q=Q.get(he.key===null?J:he.key)||null,K(G,Q,he,Se);case M:var Be=he._init;return he=Be(he._payload),ue(Q,G,J,he,Se)}if(ve(he)||$(he))return Q=Q.get(J)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return ue(Q,G,J,Tp(he),Se);if(he.$$typeof===T)return ue(Q,G,J,Bp(G,he),Se);Sp(G,he)}return null}function Ie(Q,G,J,he){for(var Se=null,Be=null,Ce=G,Pe=G=0,An=null;Ce!==null&&Pe<J.length;Pe++){Ce.index>Pe?(An=Ce,Ce=null):An=Ce.sibling;var et=ee(Q,Ce,J[Pe],he);if(et===null){Ce===null&&(Ce=An);break}s&&Ce&&et.alternate===null&&a(Q,Ce),G=y(et,G,Pe),Be===null?Se=et:Be.sibling=et,Be=et,Ce=An}if(Pe===J.length)return l(Q,Ce),Ze&&Lo(Q,Pe),Se;if(Ce===null){for(;Pe<J.length;Pe++)Ce=fe(Q,J[Pe],he),Ce!==null&&(G=y(Ce,G,Pe),Be===null?Se=Ce:Be.sibling=Ce,Be=Ce);return Ze&&Lo(Q,Pe),Se}for(Ce=c(Ce);Pe<J.length;Pe++)An=ue(Ce,Q,Pe,J[Pe],he),An!==null&&(s&&An.alternate!==null&&Ce.delete(An.key===null?Pe:An.key),G=y(An,G,Pe),Be===null?Se=An:Be.sibling=An,Be=An);return s&&Ce.forEach(function(ka){return a(Q,ka)}),Ze&&Lo(Q,Pe),Se}function Ne(Q,G,J,he){if(J==null)throw Error(r(151));for(var Se=null,Be=null,Ce=G,Pe=G=0,An=null,et=J.next();Ce!==null&&!et.done;Pe++,et=J.next()){Ce.index>Pe?(An=Ce,Ce=null):An=Ce.sibling;var ka=ee(Q,Ce,et.value,he);if(ka===null){Ce===null&&(Ce=An);break}s&&Ce&&ka.alternate===null&&a(Q,Ce),G=y(ka,G,Pe),Be===null?Se=ka:Be.sibling=ka,Be=ka,Ce=An}if(et.done)return l(Q,Ce),Ze&&Lo(Q,Pe),Se;if(Ce===null){for(;!et.done;Pe++,et=J.next())et=fe(Q,et.value,he),et!==null&&(G=y(et,G,Pe),Be===null?Se=et:Be.sibling=et,Be=et);return Ze&&Lo(Q,Pe),Se}for(Ce=c(Ce);!et.done;Pe++,et=J.next())et=ue(Ce,Q,Pe,et.value,he),et!==null&&(s&&et.alternate!==null&&Ce.delete(et.key===null?Pe:et.key),G=y(et,G,Pe),Be===null?Se=et:Be.sibling=et,Be=et);return s&&Ce.forEach(function(oV){return a(Q,oV)}),Ze&&Lo(Q,Pe),Se}function zt(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case u:e:{for(var Se=J.key;G!==null;){if(G.key===Se){if(Se=J.type,Se===d){if(G.tag===7){l(Q,G.sibling),he=m(G,J.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&yT(Se)===G.type){l(Q,G.sibling),he=m(G,J.props),vh(he,J),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}J.type===d?(he=Wo(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=zp(J.type,J.key,J.props,null,Q.mode,he),vh(he,J),he.return=Q,Q=he)}return A(Q);case h:e:{for(Se=J.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),he=m(G,J.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=av(J,Q.mode,he),he.return=Q,Q=he}return A(Q);case M:return Se=J._init,J=Se(J._payload),zt(Q,G,J,he)}if(ve(J))return Ie(Q,G,J,he);if($(J)){if(Se=$(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),Ne(Q,G,J,he)}if(typeof J.then=="function")return zt(Q,G,Tp(J),he);if(J.$$typeof===T)return zt(Q,G,Bp(Q,J),he);Sp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,J),he.return=Q,Q=he):(l(Q,G),he=sv(J,Q.mode,he),he.return=Q,Q=he),A(Q)):l(Q,G)}return function(Q,G,J,he){try{_h=0;var Se=zt(Q,G,J,he);return iu=null,Se}catch(Ce){if(Ce===gh)throw Ce;var Be=Hr(29,Ce,null,Q.mode);return Be.lanes=he,Be.return=Q,Be}finally{}}}var Bo=_T(!0),vT=_T(!1),su=qe(null),Ap=qe(0);function ET(s,a){s=ws,nt(Ap,s),nt(su,a),ws=s|a.baseLanes}function d_(){nt(Ap,ws),nt(su,su.current)}function f_(){ws=Ap.current,bt(su),bt(Ap)}var jr=qe(null),Ii=null;function ma(s){var a=s.alternate;nt(mn,mn.current&1),nt(jr,s),Ii===null&&(a===null||su.current!==null||a.memoizedState!==null)&&(Ii=s)}function bT(s){if(s.tag===22){if(nt(mn,mn.current),nt(jr,s),Ii===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ii=s)}}else ga()}function ga(){nt(mn,mn.current),nt(jr,jr.current)}function ds(s){bt(jr),Ii===s&&(Ii=null),bt(mn)}var mn=qe(0);function Ip(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var WN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},QN=n.unstable_scheduleCallback,YN=n.unstable_NormalPriority,gn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p_(){return{controller:new WN,data:new Map,refCount:0}}function Eh(s){s.refCount--,s.refCount===0&&QN(YN,function(){s.controller.abort()})}var bh=null,m_=0,au=0,ou=null;function XN(s,a){if(bh===null){var l=bh=[];m_=0,au=bv(),ou={status:"pending",value:void 0,then:function(c){l.push(c)}}}return m_++,a.then(wT,wT),a}function wT(){if(--m_===0&&bh!==null){ou!==null&&(ou.status="fulfilled");var s=bh;bh=null,au=0,ou=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function JN(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var TT=R.S;R.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&XN(s,a),TT!==null&&TT(s,a)};var Fo=qe(null);function g_(){var s=Fo.current;return s!==null?s:yt.pooledCache}function Rp(s,a){a===null?nt(Fo,Fo.current):nt(Fo,a.pool)}function ST(){var s=g_();return s===null?null:{parent:gn._currentValue,pool:s}}var ya=0,Ue=null,ut=null,tn=null,Cp=!1,lu=!1,jo=!1,xp=0,wh=0,uu=null,ZN=0;function Yt(){throw Error(r(321))}function y_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!mr(s[l],a[l]))return!1;return!0}function __(s,a,l,c,m,y){return ya=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=s===null||s.memoizedState===null?zo:_a,jo=!1,y=l(c,m),jo=!1,lu&&(y=IT(a,l,c,m)),AT(s),y}function AT(s){R.H=Ri;var a=ut!==null&&ut.next!==null;if(ya=0,tn=ut=Ue=null,Cp=!1,wh=0,uu=null,a)throw Error(r(300));s===null||Tn||(s=s.dependencies,s!==null&&Up(s)&&(Tn=!0))}function IT(s,a,l,c){Ue=s;var m=0;do{if(lu&&(uu=null),wh=0,lu=!1,25<=m)throw Error(r(301));if(m+=1,tn=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=qo,y=a(l,c)}while(lu);return y}function e2(){var s=R.H,a=s.useState()[0];return a=typeof a.then=="function"?Th(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function v_(){var s=xp!==0;return xp=0,s}function E_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function b_(s){if(Cp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Cp=!1}ya=0,tn=ut=Ue=null,lu=!1,wh=xp=0,uu=null}function ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ue.memoizedState=tn=s:tn=tn.next=s,tn}function nn(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=tn===null?Ue.memoizedState:tn.next;if(a!==null)tn=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},tn===null?Ue.memoizedState=tn=s:tn=tn.next=s}return tn}var Pp;Pp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Th(s){var a=wh;return wh+=1,uu===null&&(uu=[]),s=mT(uu,s,a),a=Ue,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?zo:_a),s}function Op(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Th(s);if(s.$$typeof===T)return Fn(s)}throw Error(r(438,String(s)))}function w_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Pp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=H;return a.index++,l}function fs(s,a){return typeof a=="function"?a(s):a}function Dp(s){var a=nn();return T_(a,ut,s)}function T_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var k=A=null,F=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ye&fe)===fe:(ya&fe)===fe){var ee=K.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===au&&(ce=!0);else if((ya&ee)===ee){K=K.next,ee===au&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},F===null?(k=F=fe,A=y):F=F.next=fe,Ue.lanes|=ee,Ra|=ee;fe=K.action,jo&&l(y,fe),y=K.hasEagerState?K.eagerState:l(y,fe)}else ee={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},F===null?(k=F=ee,A=y):F=F.next=ee,Ue.lanes|=fe,Ra|=fe;K=K.next}while(K!==null&&K!==a);if(F===null?A=y:F.next=k,!mr(y,s.memoizedState)&&(Tn=!0,ce&&(l=ou,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function S_(s){var a=nn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);mr(y,a.memoizedState)||(Tn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function RT(s,a,l){var c=Ue,m=nn(),y=Ze;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!mr((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,Tn=!0),m=m.queue,R_(PT.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,cu(9,xT.bind(null,c,m,l,a),{destroy:void 0},null),yt===null)throw Error(r(349));y||(ya&60)!==0||CT(c,a,l)}return l}function CT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=Pp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function xT(s,a,l,c){a.value=l,a.getSnapshot=c,OT(a)&&DT(s)}function PT(s,a,l){return l(function(){OT(a)&&DT(s)})}function OT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!mr(s,l)}catch{return!0}}function DT(s){var a=pa(s,2);a!==null&&Zn(a,s,2)}function A_(s){var a=ar();if(typeof s=="function"){var l=s;if(s=l(),jo){pi(!0);try{l()}finally{pi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},a}function kT(s,a,l,c){return s.baseState=l,T_(s,ut,typeof c=="function"?c:fs)}function t2(s,a,l,c,m){if(Vp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};R.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,NT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function NT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=R.T,A={};R.T=A;try{var k=l(m,c),F=R.S;F!==null&&F(A,k),VT(s,a,k)}catch(K){I_(s,a,K)}finally{R.T=y}}else try{y=l(m,c),VT(s,a,y)}catch(K){I_(s,a,K)}}function VT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){MT(s,a,c)},function(c){return I_(s,a,c)}):MT(s,a,l)}function MT(s,a,l){a.status="fulfilled",a.value=l,LT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,NT(s,l)))}function I_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,LT(a),a=a.next;while(a!==c)}s.action=null}function LT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function UT(s,a){return a}function BT(s,a){if(Ze){var l=yt.formState;if(l!==null){e:{var c=Ue;if(Ze){if(Dn){t:{for(var m=Dn,y=Ai;m.nodeType!==8;){if(!y){m=null;break t}if(m=ai(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Dn=ai(m.nextSibling),c=m.data==="F!";break e}}Uo(c)}c=!1}c&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UT,lastRenderedState:a},l.queue=c,l=rS.bind(null,Ue,c),c.dispatch=l,c=A_(!1),y=D_.bind(null,Ue,!1,c.queue),c=ar(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=t2.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function FT(s){var a=nn();return jT(a,ut,s)}function jT(s,a,l){a=T_(s,a,UT)[0],s=Dp(fs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Th(a):a;var c=nn(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,cu(9,n2.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function n2(s,a){s.action=a}function zT(s){var a=nn(),l=ut;if(l!==null)return jT(a,l,s);nn(),a=a.memoizedState,l=nn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function cu(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=Pp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function qT(){return nn().memoizedState}function kp(s,a,l,c){var m=ar();Ue.flags|=s,m.memoizedState=cu(1|a,l,{destroy:void 0},c===void 0?null:c)}function Np(s,a,l,c){var m=nn();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&y_(c,ut.memoizedState.deps)?m.memoizedState=cu(a,l,y,c):(Ue.flags|=s,m.memoizedState=cu(1|a,l,y,c))}function HT(s,a){kp(8390656,8,s,a)}function R_(s,a){Np(2048,8,s,a)}function $T(s,a){return Np(4,2,s,a)}function GT(s,a){return Np(4,4,s,a)}function KT(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function WT(s,a,l){l=l!=null?l.concat([s]):null,Np(4,4,KT.bind(null,a,s),l)}function C_(){}function QT(s,a){var l=nn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&y_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function YT(s,a){var l=nn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&y_(a,c[1]))return c[0];if(c=s(),jo){pi(!0);try{s()}finally{pi(!1)}}return l.memoizedState=[c,a],c}function x_(s,a,l){return l===void 0||(ya&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=JS(),Ue.lanes|=s,Ra|=s,l)}function XT(s,a,l,c){return mr(l,a)?l:su.current!==null?(s=x_(s,l,c),mr(s,a)||(Tn=!0),s):(ya&42)===0?(Tn=!0,s.memoizedState=l):(s=JS(),Ue.lanes|=s,Ra|=s,a)}function JT(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=R.T,k={};R.T=k,D_(s,!1,a,l);try{var F=m(),K=R.S;if(K!==null&&K(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=JN(F,c);Sh(s,a,ce,vr(s))}else Sh(s,a,c,vr(s))}catch(fe){Sh(s,a,{then:function(){},status:"rejected",reason:fe},vr())}finally{ye.p=y,R.T=A}}function r2(){}function P_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=ZT(s).queue;JT(s,m,a,Oe,l===null?r2:function(){return eS(s),l(c)})}function ZT(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:Oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function eS(s){var a=ZT(s).next.queue;Sh(s,a,{},vr())}function O_(){return Fn(Hh)}function tS(){return nn().memoizedState}function nS(){return nn().memoizedState}function i2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=vr();s=ba(l);var c=wa(a,s,l);c!==null&&(Zn(c,a,l),Rh(c,a,l)),a={cache:p_()},s.payload=a;return}a=a.return}}function s2(s,a,l){var c=vr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vp(s)?iS(a,l):(l=o_(s,a,l,c),l!==null&&(Zn(l,s,c),sS(l,a,c)))}function rS(s,a,l){var c=vr();Sh(s,a,l,c)}function Sh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vp(s))iS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,k=y(A,l);if(m.hasEagerState=!0,m.eagerState=k,mr(k,A))return _p(s,a,m,0),yt===null&&yp(),!1}catch{}finally{}if(l=o_(s,a,m,c),l!==null)return Zn(l,s,c),sS(l,a,c),!0}return!1}function D_(s,a,l,c){if(c={lane:2,revertLane:bv(),action:c,hasEagerState:!1,eagerState:null,next:null},Vp(s)){if(a)throw Error(r(479))}else a=o_(s,l,c,2),a!==null&&Zn(a,s,2)}function Vp(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function iS(s,a){lu=Cp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function sS(s,a,l){if((l&4194176)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ia(s,l)}}var Ri={readContext:Fn,use:Op,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};Ri.useCacheRefresh=Yt,Ri.useMemoCache=Yt,Ri.useHostTransitionStatus=Yt,Ri.useFormState=Yt,Ri.useActionState=Yt,Ri.useOptimistic=Yt;var zo={readContext:Fn,use:Op,useCallback:function(s,a){return ar().memoizedState=[s,a===void 0?null:a],s},useContext:Fn,useEffect:HT,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,kp(4194308,4,KT.bind(null,a,s),l)},useLayoutEffect:function(s,a){return kp(4194308,4,s,a)},useInsertionEffect:function(s,a){kp(4,2,s,a)},useMemo:function(s,a){var l=ar();a=a===void 0?null:a;var c=s();if(jo){pi(!0);try{s()}finally{pi(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=ar();if(l!==void 0){var m=l(a);if(jo){pi(!0);try{l(a)}finally{pi(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=s2.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=ar();return s={current:s},a.memoizedState=s},useState:function(s){s=A_(s);var a=s.queue,l=rS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:C_,useDeferredValue:function(s,a){var l=ar();return x_(l,s,a)},useTransition:function(){var s=A_(!1);return s=JT.bind(null,Ue,s.queue,!0,!1),ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=ar();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),yt===null)throw Error(r(349));(Ye&60)!==0||CT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,HT(PT.bind(null,c,y,s),[s]),c.flags|=2048,cu(9,xT.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=ar(),a=yt.identifierPrefix;if(Ze){var l=hs,c=cs;l=(c&~(1<<32-Qn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=xp++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=ZN++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return ar().memoizedState=i2.bind(null,Ue)}};zo.useMemoCache=w_,zo.useHostTransitionStatus=O_,zo.useFormState=BT,zo.useActionState=BT,zo.useOptimistic=function(s){var a=ar();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=D_.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var _a={readContext:Fn,use:Op,useCallback:QT,useContext:Fn,useEffect:R_,useImperativeHandle:WT,useInsertionEffect:$T,useLayoutEffect:GT,useMemo:YT,useReducer:Dp,useRef:qT,useState:function(){return Dp(fs)},useDebugValue:C_,useDeferredValue:function(s,a){var l=nn();return XT(l,ut.memoizedState,s,a)},useTransition:function(){var s=Dp(fs)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:RT,useId:tS};_a.useCacheRefresh=nS,_a.useMemoCache=w_,_a.useHostTransitionStatus=O_,_a.useFormState=FT,_a.useActionState=FT,_a.useOptimistic=function(s,a){var l=nn();return kT(l,ut,s,a)};var qo={readContext:Fn,use:Op,useCallback:QT,useContext:Fn,useEffect:R_,useImperativeHandle:WT,useInsertionEffect:$T,useLayoutEffect:GT,useMemo:YT,useReducer:S_,useRef:qT,useState:function(){return S_(fs)},useDebugValue:C_,useDeferredValue:function(s,a){var l=nn();return ut===null?x_(l,s,a):XT(l,ut.memoizedState,s,a)},useTransition:function(){var s=S_(fs)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:RT,useId:tS};qo.useCacheRefresh=nS,qo.useMemoCache=w_,qo.useHostTransitionStatus=O_,qo.useFormState=zT,qo.useActionState=zT,qo.useOptimistic=function(s,a){var l=nn();return ut!==null?kT(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function k_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var N_={isMounted:function(s){return(s=s._reactInternals)?ae(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=vr(),m=ba(c);m.payload=a,l!=null&&(m.callback=l),a=wa(s,m,c),a!==null&&(Zn(a,s,c),Rh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=vr(),m=ba(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=wa(s,m,c),a!==null&&(Zn(a,s,c),Rh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=vr(),c=ba(l);c.tag=2,a!=null&&(c.callback=a),a=wa(s,c,l),a!==null&&(Zn(a,s,l),Rh(a,s,l))}};function aS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!hh(l,c)||!hh(m,y):!0}function oS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&N_.enqueueReplaceState(a,a.state,null)}function Ho(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Mp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function lS(s){Mp(s)}function uS(s){console.error(s)}function cS(s){Mp(s)}function Lp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function hS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function V_(s,a,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){Lp(s,a)},l}function dS(s){return s=ba(s),s.tag=3,s}function fS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){hS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){hS(a,l,c),typeof m!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function a2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ih(a,l,m,!0),l=jr.current,l!==null){switch(l.tag){case 13:return Ii===null?gv():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===h_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),_v(s,c,m)),!1;case 22:return l.flags|=65536,c===h_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),_v(s,c,m)),!1}throw Error(r(435,l.tag))}return _v(s,c,m),gv(),!1}if(Ze)return a=jr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==c_&&(s=Error(r(422),{cause:c}),mh(Ur(s,l)))):(c!==c_&&(a=Error(r(423),{cause:c}),mh(Ur(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Ur(c,l),m=V_(s.stateNode,c,m),Y_(s,m),jt!==4&&(jt=2)),!1;var y=Error(r(520),{cause:c});if(y=Ur(y,l),Vh===null?Vh=[y]:Vh.push(y),jt!==4&&(jt=2),a===null)return!0;c=Ur(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=V_(l.stateNode,c,s),Y_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=dS(m),fS(m,s,l,c),Y_(l,m),!1}l=l.return}while(l!==null);return!1}var pS=Error(r(461)),Tn=!1;function kn(s,a,l,c){a.child=s===null?vT(a,null,l,c):Bo(a,s.child,l,c)}function mS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var k in c)k!=="ref"&&(A[k]=c[k])}else A=c;return Go(a),c=__(s,a,l,A,y,m),k=v_(),s!==null&&!Tn?(E_(s,a,m),ps(s,a,m)):(Ze&&k&&l_(a),a.flags|=1,kn(s,a,c,m),a.child)}function gS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!iv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,yS(s,a,y,c,m)):(s=zp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!H_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:hh,l(A,c)&&s.ref===a.ref)return ps(s,a,m)}return a.flags|=1,s=Ia(y,c),s.ref=a.ref,s.return=a,a.child=s}function yS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(hh(y,c)&&s.ref===a.ref)if(Tn=!1,a.pendingProps=c=y,H_(s,m))(s.flags&131072)!==0&&(Tn=!0);else return a.lanes=s.lanes,ps(s,a,m)}return M_(s,a,l,c,m)}function _S(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(Ah(s,a),c.mode==="hidden"||y){if((a.flags&128)!==0){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return vS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rp(a,A!==null?A.cachePool:null),A!==null?ET(a,A):d_(),bT(a);else return a.lanes=a.childLanes=536870912,vS(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Rp(a,A.cachePool),ET(a,A),ga(),a.memoizedState=null):(s!==null&&Rp(a,null),d_(),ga());return kn(s,a,m,l),a.child}function vS(s,a,l,c){var m=g_();return m=m===null?null:{parent:gn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Rp(a,null),d_(),bT(a),s!==null&&Ih(s,a,c,!0),null}function Ah(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function M_(s,a,l,c,m){return Go(a),l=__(s,a,l,c,void 0,m),c=v_(),s!==null&&!Tn?(E_(s,a,m),ps(s,a,m)):(Ze&&c&&l_(a),a.flags|=1,kn(s,a,l,m),a.child)}function ES(s,a,l,c,m,y){return Go(a),a.updateQueue=null,l=IT(a,c,l,m),AT(s),c=v_(),s!==null&&!Tn?(E_(s,a,y),ps(s,a,y)):(Ze&&c&&l_(a),a.flags|=1,kn(s,a,l,y),a.child)}function bS(s,a,l,c,m){if(Go(a),a.stateNode===null){var y=tu,A=l.contextType;typeof A=="object"&&A!==null&&(y=Fn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=N_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},W_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Fn(A):tu,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(k_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&N_.enqueueReplaceState(y,y.state,null),xh(a,c,y,m),Ch(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var k=a.memoizedProps,F=Ho(l,k);y.props=F;var K=y.context,ce=l.contextType;A=tu,typeof ce=="object"&&ce!==null&&(A=Fn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||K!==A)&&oS(a,y,c,A),Ea=!1;var ee=a.memoizedState;y.state=ee,xh(a,c,y,m),Ch(),K=a.memoizedState,k||ee!==K||Ea?(typeof fe=="function"&&(k_(a,l,fe,c),K=a.memoizedState),(F=Ea||aS(a,l,F,c,ee,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=A,c=F):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Q_(s,a),A=a.memoizedProps,ce=Ho(l,A),y.props=ce,fe=a.pendingProps,ee=y.context,K=l.contextType,F=tu,typeof K=="object"&&K!==null&&(F=Fn(K)),k=l.getDerivedStateFromProps,(K=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||ee!==F)&&oS(a,y,c,F),Ea=!1,ee=a.memoizedState,y.state=ee,xh(a,c,y,m),Ch();var ue=a.memoizedState;A!==fe||ee!==ue||Ea||s!==null&&s.dependencies!==null&&Up(s.dependencies)?(typeof k=="function"&&(k_(a,l,k,c),ue=a.memoizedState),(ce=Ea||aS(a,l,ce,c,ee,ue,F)||s!==null&&s.dependencies!==null&&Up(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ue,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ue,F)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ue),y.props=c,y.state=ue,y.context=F,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Ah(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=Bo(a,s.child,null,m),a.child=Bo(a,null,l,m)):kn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=ps(s,a,m),s}function wS(s,a,l,c){return ph(),a.flags|=256,kn(s,a,l,c),a.child}var L_={dehydrated:null,treeContext:null,retryLane:0};function U_(s){return{baseLanes:s,cachePool:ST()}}function B_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=$r),s}function TS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(mn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ze){if(m?ma(a):ga(),Ze){var k=Dn,F;if(F=k){e:{for(F=k,k=Ai;F.nodeType!==8;){if(!k){k=null;break e}if(F=ai(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(a.memoizedState={dehydrated:k,treeContext:Mo!==null?{id:cs,overflow:hs}:null,retryLane:536870912},F=Hr(18,null,null,0),F.stateNode=k,F.return=a,a.child=F,Jn=a,Dn=null,F=!0):F=!1}F||Uo(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?a.lanes=16:a.lanes=536870912,null;ds(a)}return k=c.children,c=c.fallback,m?(ga(),m=a.mode,k=j_({mode:"hidden",children:k},m),c=Wo(c,m,l,null),k.return=a,c.return=a,k.sibling=c,a.child=k,m=a.child,m.memoizedState=U_(l),m.childLanes=B_(s,A,l),a.memoizedState=L_,c):(ma(a),F_(a,k))}if(F=s.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(y)a.flags&256?(ma(a),a.flags&=-257,a=z_(s,a,l)):a.memoizedState!==null?(ga(),a.child=s.child,a.flags|=128,a=null):(ga(),m=c.fallback,k=a.mode,c=j_({mode:"visible",children:c.children},k),m=Wo(m,k,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Bo(a,s.child,null,l),c=a.child,c.memoizedState=U_(l),c.childLanes=B_(s,A,l),a.memoizedState=L_,a=m);else if(ma(a),k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(r(419)),c.stack="",c.digest=A,mh({value:c,source:null,stack:null}),a=z_(s,a,l)}else if(Tn||Ih(s,a,l,!1),A=(l&s.childLanes)!==0,Tn||A){if(A=yt,A!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane)throw F.retryLane=c,pa(s,c),Zn(A,s,c),pS}k.data==="$?"||gv(),a=z_(s,a,l)}else k.data==="$?"?(a.flags|=128,a.child=s.child,a=b2.bind(null,s),k._reactRetry=a,a=null):(s=F.treeContext,Dn=ai(k.nextSibling),Jn=a,Ze=!0,ii=null,Ai=!1,s!==null&&(Br[Fr++]=cs,Br[Fr++]=hs,Br[Fr++]=Mo,cs=s.id,hs=s.overflow,Mo=a),a=F_(a,c.children),a.flags|=4096);return a}return m?(ga(),m=c.fallback,k=a.mode,F=s.child,K=F.sibling,c=Ia(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&31457280,K!==null?m=Ia(K,m):(m=Wo(m,k,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,k=s.child.memoizedState,k===null?k=U_(l):(F=k.cachePool,F!==null?(K=gn._currentValue,F=F.parent!==K?{parent:K,pool:K}:F):F=ST(),k={baseLanes:k.baseLanes|l,cachePool:F}),m.memoizedState=k,m.childLanes=B_(s,A,l),a.memoizedState=L_,c):(ma(a),l=s.child,s=l.sibling,l=Ia(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function F_(s,a){return a=j_({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function j_(s,a){return QS(s,a,0,null)}function z_(s,a,l){return Bo(a,s.child,null,l),s=F_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function SS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),G_(s.return,a,l)}function q_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function AS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(kn(s,a,c.children,l),c=mn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&SS(s,l,a);else if(s.tag===19)SS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(nt(mn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Ip(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),q_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Ip(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}q_(a,!0,l,null,y);break;case"together":q_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ra|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ih(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Ia(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ia(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function H_(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Up(s)))}function o2(s,a,l){switch(a.tag){case 3:di(a,a.stateNode.containerInfo),va(a,gn,s.memoizedState.cache),ph();break;case 27:case 5:Eo(a);break;case 4:di(a,a.stateNode.containerInfo);break;case 10:va(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ma(a),a.flags|=128,null):(l&a.child.childLanes)!==0?TS(s,a,l):(ma(a),s=ps(s,a,l),s!==null?s.sibling:null);ma(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ih(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return AS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(mn,mn.current),c)break;return null;case 22:case 23:return a.lanes=0,_S(s,a,l);case 24:va(a,gn,s.memoizedState.cache)}return ps(s,a,l)}function IS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Tn=!0;else{if(!H_(s,l)&&(a.flags&128)===0)return Tn=!1,o2(s,a,l);Tn=(s.flags&131072)!==0}else Tn=!1,Ze&&(a.flags&1048576)!==0&&cT(a,bp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")iv(c)?(s=Ho(c,s),a.tag=1,a=bS(null,a,c,s,l)):(a.tag=0,a=M_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===w){a.tag=11,a=mS(null,a,c,s,l);break e}else if(m===L){a.tag=14,a=gS(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return M_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Ho(c,a.pendingProps),bS(s,a,c,m,l);case 3:e:{if(di(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,Q_(s,a),xh(a,y,null,l);var A=a.memoizedState;if(y=A.cache,va(a,gn,y),y!==m.cache&&K_(a,[gn],l,!0),Ch(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=wS(s,a,y,l);break e}else if(y!==c){c=Ur(Error(r(424)),a),mh(c),a=wS(s,a,y,l);break e}else for(Dn=ai(a.stateNode.containerInfo.firstChild),Jn=a,Ze=!0,ii=null,Ai=!0,l=vT(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ph(),y===c){a=ps(s,a,l);break e}kn(s,a,y,l)}a=a.child}return a;case 26:return Ah(s,a),s===null?(l=xA(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,s=a.pendingProps,c=em(Wt.current).createElement(l),c[En]=a,c[dn]=s,Nn(c,l,s),Ot(c),a.stateNode=c):a.memoizedState=xA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Eo(a),s===null&&Ze&&(c=a.stateNode=IA(a.type,a.pendingProps,Wt.current),Jn=a,Ai=!0,Dn=ai(c.firstChild)),c=a.pendingProps.children,s!==null||Ze?kn(s,a,c,l):a.child=Bo(a,null,c,l),Ah(s,a),a.child;case 5:return s===null&&Ze&&((m=c=Dn)&&(c=L2(c,a.type,a.pendingProps,Ai),c!==null?(a.stateNode=c,Jn=a,Dn=ai(c.firstChild),Ai=!1,m=!0):m=!1),m||Uo(a)),Eo(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,Pv(m,y)?c=null:A!==null&&Pv(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=__(s,a,e2,null,null,l),Hh._currentValue=m),Ah(s,a),kn(s,a,c,l),a.child;case 6:return s===null&&Ze&&((s=l=Dn)&&(l=U2(l,a.pendingProps,Ai),l!==null?(a.stateNode=l,Jn=a,Dn=null,s=!0):s=!1),s||Uo(a)),null;case 13:return TS(s,a,l);case 4:return di(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Bo(a,null,c,l):kn(s,a,c,l),a.child;case 11:return mS(s,a,a.type,a.pendingProps,l);case 7:return kn(s,a,a.pendingProps,l),a.child;case 8:return kn(s,a,a.pendingProps.children,l),a.child;case 12:return kn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,va(a,a.type,c.value),kn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Go(a),m=Fn(m),c=c(m),a.flags|=1,kn(s,a,c,l),a.child;case 14:return gS(s,a,a.type,a.pendingProps,l);case 15:return yS(s,a,a.type,a.pendingProps,l);case 19:return AS(s,a,l);case 22:return _S(s,a,l);case 24:return Go(a),c=Fn(gn),s===null?(m=g_(),m===null&&(m=yt,y=p_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},W_(a),va(a,gn,m)):((s.lanes&l)!==0&&(Q_(s,a),xh(a,null,null,l),Ch()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),va(a,gn,c)):(c=y.cache,va(a,gn,c),c!==m.cache&&K_(a,[gn],l,!0))),kn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var $_=qe(null),$o=null,ms=null;function va(s,a,l){nt($_,a._currentValue),a._currentValue=l}function gs(s){s._currentValue=$_.current,bt($_)}function G_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function K_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var F=0;F<a.length;F++)if(k.context===a[F]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),G_(y.return,l,s),c||(A=null);break e}y=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),G_(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Ih(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var k=m.type;mr(m.pendingProps.value,A.value)||(s!==null?s.push(k):s=[k])}}else if(m===Pr.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Hh):s=[Hh])}m=m.return}s!==null&&K_(a,s,l,c),a.flags|=262144}function Up(s){for(s=s.firstContext;s!==null;){if(!mr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Go(s){$o=s,ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fn(s){return RS($o,s)}function Bp(s,a){return $o===null&&Go(s),RS(s,a)}function RS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ms===null){if(s===null)throw Error(r(308));ms=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ms=ms.next=a;return l}var Ea=!1;function W_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Q_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ba(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wa(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(kt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=vp(s),lT(s,null,l),a}return _p(s,c,a,l),vp(s)}function Rh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ia(s,l)}}function Y_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var X_=!1;function Ch(){if(X_){var s=ou;if(s!==null)throw s}}function xh(s,a,l,c){X_=!1;var m=s.updateQueue;Ea=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var F=k,K=F.next;F.next=null,A===null?y=K:A.next=K,A=F;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==A&&(k===null?ce.firstBaseUpdate=K:k.next=K,ce.lastBaseUpdate=F))}if(y!==null){var fe=m.baseState;A=0,ce=K=F=null,k=y;do{var ee=k.lane&-536870913,ue=ee!==k.lane;if(ue?(Ye&ee)===ee:(c&ee)===ee){ee!==0&&ee===au&&(X_=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ie=s,Ne=k;ee=a;var zt=l;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){fe=Ie.call(zt,fe,ee);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,ee=typeof Ie=="function"?Ie.call(zt,fe,ee):Ie,ee==null)break e;fe=b({},fe,ee);break e;case 2:Ea=!0}}ee=k.callback,ee!==null&&(s.flags|=64,ue&&(s.flags|=8192),ue=m.callbacks,ue===null?m.callbacks=[ee]:ue.push(ee))}else ue={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(K=ce=ue,F=fe):ce=ce.next=ue,A|=ee;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;ue=k,k=ue.next,ue.next=null,m.lastBaseUpdate=ue,m.shared.pending=null}}while(!0);ce===null&&(F=fe),m.baseState=F,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ra|=A,s.lanes=A,s.memoizedState=fe}}function CS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function xS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)CS(l[s],a)}function Ph(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(k){dt(a,a.return,k)}}function Ta(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=a;var F=l;try{k()}catch(K){dt(m,F,K)}}}c=c.next}while(c!==y)}}catch(K){dt(a,a.return,K)}}function PS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{xS(a,l)}catch(c){dt(s,s.return,c)}}}function OS(s,a,l){l.props=Ho(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function Ko(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function gr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function DS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function kS(s,a,l){try{var c=s.stateNode;D2(c,s.type,l,a),c[dn]=a}catch(m){dt(s,s.return,m)}}function NS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function J_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||NS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Z_(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Zp));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Z_(s,a,l),s=s.sibling;s!==null;)Z_(s,a,l),s=s.sibling}function Fp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Fp(s,a,l),s=s.sibling;s!==null;)Fp(s,a,l),s=s.sibling}var ys=!1,Ft=!1,ev=!1,VS=typeof WeakSet=="function"?WeakSet:Set,Sn=null,MS=!1;function l2(s,a){if(s=s.containerInfo,Cv=am,s=Zw(s),n_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,k=-1,F=-1,K=0,ce=0,fe=s,ee=null;t:for(;;){for(var ue;fe!==l||m!==0&&fe.nodeType!==3||(k=A+m),fe!==y||c!==0&&fe.nodeType!==3||(F=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(ue=fe.firstChild)!==null;)ee=fe,fe=ue;for(;;){if(fe===s)break t;if(ee===l&&++K===m&&(k=A),ee===y&&++ce===c&&(F=A),(ue=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=ue}l=k===-1||F===-1?null:{start:k,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(xv={focusedElem:s,selectionRange:l},am=!1,Sn=a;Sn!==null;)if(a=Sn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Sn=s;else for(;Sn!==null;){switch(a=Sn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ie=Ho(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(l,l.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)kv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Sn=s;break}Sn=a.return}return Ie=MS,MS=!1,Ie}function LS(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:vs(s,l),c&4&&Ph(5,l);break;case 1:if(vs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(k){dt(l,l.return,k)}else{var m=Ho(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){dt(l,l.return,k)}}c&64&&PS(l),c&512&&Ko(l,l.return);break;case 3:if(vs(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{xS(c,s)}catch(k){dt(l,l.return,k)}}break;case 26:vs(s,l),c&512&&Ko(l,l.return);break;case 27:case 5:vs(s,l),a===null&&c&4&&DS(l),c&512&&Ko(l,l.return);break;case 12:vs(s,l);break;case 13:vs(s,l),c&4&&FS(s,l);break;case 22:if(m=l.memoizedState!==null||ys,!m){a=a!==null&&a.memoizedState!==null||Ft;var y=ys,A=Ft;ys=m,(Ft=a)&&!A?Sa(s,l,(l.subtreeFlags&8772)!==0):vs(s,l),ys=y,Ft=A}c&512&&(l.memoizedProps.mode==="manual"?Ko(l,l.return):gr(l,l.return));break;default:vs(s,l)}}function US(s){var a=s.alternate;a!==null&&(s.alternate=null,US(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&To(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rn=null,yr=!1;function _s(s,a,l){for(l=l.child;l!==null;)BS(s,a,l),l=l.sibling}function BS(s,a,l){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Zs,l)}catch{}switch(l.tag){case 26:Ft||gr(l,a),_s(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||gr(l,a);var c=rn,m=yr;for(rn=l.stateNode,_s(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);To(l),rn=c,yr=m;break;case 5:Ft||gr(l,a);case 6:m=rn;var y=yr;if(rn=null,_s(s,a,l),rn=m,yr=y,rn!==null)if(yr)try{s=rn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{rn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:rn!==null&&(yr?(a=rn,l=l.stateNode,a.nodeType===8?Dv(a.parentNode,l):a.nodeType===1&&Dv(a,l),Wh(a)):Dv(rn,l.stateNode));break;case 4:c=rn,m=yr,rn=l.stateNode.containerInfo,yr=!0,_s(s,a,l),rn=c,yr=m;break;case 0:case 11:case 14:case 15:Ft||Ta(2,l,a),Ft||Ta(4,l,a),_s(s,a,l);break;case 1:Ft||(gr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&OS(l,a,c)),_s(s,a,l);break;case 21:_s(s,a,l);break;case 22:Ft||gr(l,a),Ft=(c=Ft)||l.memoizedState!==null,_s(s,a,l),Ft=c;break;default:_s(s,a,l)}}function FS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wh(s)}catch(l){dt(a,a.return,l)}}function u2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new VS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new VS),a;default:throw Error(r(435,s.tag))}}function tv(s,a){var l=u2(s);a.forEach(function(c){var m=w2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function zr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,k=A;e:for(;k!==null;){switch(k.tag){case 27:case 5:rn=k.stateNode,yr=!1;break e;case 3:rn=k.stateNode.containerInfo,yr=!0;break e;case 4:rn=k.stateNode.containerInfo,yr=!0;break e}k=k.return}if(rn===null)throw Error(r(160));BS(y,A,m),rn=null,yr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jS(a,s),a=a.sibling}var si=null;function jS(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zr(a,s),qr(s),c&4&&(Ta(3,s,s.return),Ph(3,s),Ta(5,s,s.return));break;case 1:zr(a,s),qr(s),c&512&&(Ft||l===null||gr(l,l.return)),c&64&&ys&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=si;if(zr(a,s),qr(s),c&512&&(Ft||l===null||gr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[aa]||y[En]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Nn(y,c,l),y[En]=s,Ot(y),c=y;break e;case"link":var A=DA("link","href",m).get(c+(l.href||""));if(A){for(var k=0;k<A.length;k++)if(y=A[k],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(k,1);break t}}y=m.createElement(c),Nn(y,c,l),m.head.appendChild(y);break;case"meta":if(A=DA("meta","content",m).get(c+(l.content||""))){for(k=0;k<A.length;k++)if(y=A[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(k,1);break t}}y=m.createElement(c),Nn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[En]=s,Ot(y),c=y}s.stateNode=c}else kA(m,s.type,s.stateNode);else s.stateNode=OA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?kA(m,s.type,s.stateNode):OA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&kS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var F=m.firstChild;F;){var K=F.nextSibling,ce=F.nodeName;F[aa]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&F.rel.toLowerCase()==="stylesheet"||m.removeChild(F),F=K}for(var fe=s.type,ee=m.attributes;ee.length;)m.removeAttributeNode(ee[0]);Nn(m,fe,y),m[En]=s,m[dn]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(zr(a,s),qr(s),c&512&&(Ft||l===null||gr(l,l.return)),s.flags&32){m=s.stateNode;try{kr(m,"")}catch(Ie){dt(s,s.return,Ie)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,kS(s,m,l!==null?l.memoizedProps:m)),c&1024&&(ev=!0);break;case 6:if(zr(a,s),qr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(rm=null,m=si,si=tm(a.containerInfo),zr(a,s),si=m,qr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Wh(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}ev&&(ev=!1,zS(s));break;case 4:c=si,si=tm(s.stateNode.containerInfo),zr(a,s),qr(s),si=c;break;case 12:zr(a,s),qr(s);break;case 13:zr(a,s),qr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cv=hn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,tv(s,c)));break;case 22:if(c&512&&(Ft||l===null||gr(l,l.return)),F=s.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ce=ys,fe=Ft,ys=ce||F,Ft=fe||K,zr(a,s),Ft=fe,ys=ce,qr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=F?a._visibility&-2:a._visibility|1,F&&(a=ys||Ft,l===null||K||a||hu(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){K=l=a;try{if(m=K.stateNode,F)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,k=K.memoizedProps.style;var ue=k!=null&&k.hasOwnProperty("display")?k.display:null;A.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Ie){dt(K,K.return,Ie)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(Ie){dt(K,K.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,tv(s,l))));break;case 19:zr(a,s),qr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,tv(s,c)));break;case 21:break;default:zr(a,s),qr(s)}}function qr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(NS(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=J_(s);Fp(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(kr(A,""),c.flags&=-33);var k=J_(s);Fp(s,k,A);break;case 3:case 4:var F=c.stateNode.containerInfo,K=J_(s);Z_(s,K,F);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function zS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;zS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function vs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)LS(s,a.alternate,a),a=a.sibling}function hu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ta(4,a,a.return),hu(a);break;case 1:gr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&OS(a,a.return,l),hu(a);break;case 26:case 27:case 5:gr(a,a.return),hu(a);break;case 22:gr(a,a.return),a.memoizedState===null&&hu(a);break;default:hu(a)}s=s.sibling}}function Sa(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:Sa(m,y,l),Ph(4,y);break;case 1:if(Sa(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var k=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)CS(F[m],k)}catch(K){dt(c,c.return,K)}}l&&A&64&&PS(y),Ko(y,y.return);break;case 26:case 27:case 5:Sa(m,y,l),l&&c===null&&A&4&&DS(y),Ko(y,y.return);break;case 12:Sa(m,y,l);break;case 13:Sa(m,y,l),l&&A&4&&FS(m,y);break;case 22:y.memoizedState===null&&Sa(m,y,l),Ko(y,y.return);break;default:Sa(m,y,l)}a=a.sibling}}function nv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Eh(l))}function rv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Eh(s))}function Aa(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qS(s,a,l,c),a=a.sibling}function qS(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Aa(s,a,l,c),m&2048&&Ph(9,a);break;case 3:Aa(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Eh(s)));break;case 12:if(m&2048){Aa(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,k=y.onPostCommit;typeof k=="function"&&k(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){dt(a,a.return,F)}}else Aa(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Aa(s,a,l,c):Oh(s,a):y._visibility&4?Aa(s,a,l,c):(y._visibility|=4,du(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&nv(a.alternate,a);break;case 24:Aa(s,a,l,c),m&2048&&rv(a.alternate,a);break;default:Aa(s,a,l,c)}}function du(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,k=l,F=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:du(y,A,k,F,m),Ph(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?du(y,A,k,F,m):Oh(y,A):(ce._visibility|=4,du(y,A,k,F,m)),m&&K&2048&&nv(A.alternate,A);break;case 24:du(y,A,k,F,m),m&&K&2048&&rv(A.alternate,A);break;default:du(y,A,k,F,m)}a=a.sibling}}function Oh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Oh(l,c),m&2048&&nv(c.alternate,c);break;case 24:Oh(l,c),m&2048&&rv(c.alternate,c);break;default:Oh(l,c)}a=a.sibling}}var Dh=8192;function fu(s){if(s.subtreeFlags&Dh)for(s=s.child;s!==null;)HS(s),s=s.sibling}function HS(s){switch(s.tag){case 26:fu(s),s.flags&Dh&&s.memoizedState!==null&&X2(si,s.memoizedState,s.memoizedProps);break;case 5:fu(s);break;case 3:case 4:var a=si;si=tm(s.stateNode.containerInfo),fu(s),si=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Dh,Dh=16777216,fu(s),Dh=a):fu(s));break;default:fu(s)}}function $S(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function kh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Sn=c,KS(c,s)}$S(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)GS(s),s=s.sibling}function GS(s){switch(s.tag){case 0:case 11:case 15:kh(s),s.flags&2048&&Ta(9,s,s.return);break;case 3:kh(s);break;case 12:kh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,jp(s)):kh(s);break;default:kh(s)}}function jp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Sn=c,KS(c,s)}$S(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ta(8,a,a.return),jp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,jp(a));break;default:jp(a)}s=s.sibling}}function KS(s,a){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Ta(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Eh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Sn=c;else e:for(l=s;Sn!==null;){c=Sn;var m=c.sibling,y=c.return;if(US(c),c===l){Sn=null;break e}if(m!==null){m.return=y,Sn=m;break e}Sn=y}}}function c2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(s,a,l,c){return new c2(s,a,l,c)}function iv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ia(s,a){var l=s.alternate;return l===null?(l=Hr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function WS(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function zp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")iv(s)&&(A=1);else if(typeof s=="string")A=Q2(s,l,vn.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return Wo(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=Hr(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case I:return s=Hr(13,l,a,m),s.elementType=I,s.lanes=y,s;case x:return s=Hr(19,l,a,m),s.elementType=x,s.lanes=y,s;case U:return QS(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case L:A=14;break e;case M:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=Hr(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Wo(s,a,l,c){return s=Hr(7,s,c,a),s.lanes=l,s}function QS(s,a,l,c){s=Hr(22,s,c,a),s.elementType=U,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if((m._pendingVisibility&2)===0){var A=pa(y,2);A!==null&&(m._pendingVisibility|=2,Zn(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if((m._pendingVisibility&2)!==0){var A=pa(y,2);A!==null&&(m._pendingVisibility&=-3,Zn(A,y,2))}}};return s.stateNode=m,s}function sv(s,a,l){return s=Hr(6,s,null,a),s.lanes=l,s}function av(s,a,l){return a=Hr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Es(s){s.flags|=4}function YS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!NA(a)){if(a=jr.current,a!==null&&((Ye&4194176)===Ye?Ii!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==Ii))throw yh=h_,fT;s.flags|=8192}}function qp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?na():536870912,s.lanes|=a,mu|=a)}function Nh(s,a){if(!Ze)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function h2(s,a,l){var c=a.pendingProps;switch(u_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),gs(gn),Zr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(fh(a)?Es(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ii!==null&&(pv(ii),ii=null))),Dt(a),null;case 26:return l=a.memoizedState,s===null?(Es(a),l!==null?(Dt(a),YS(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Es(a),Dt(a),YS(a,l)):(Dt(a),a.flags&=-16777217):(s.memoizedProps!==c&&Es(a),Dt(a),a.flags&=-16777217),null;case 27:Ys(a),l=Wt.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}s=vn.current,fh(a)?hT(a):(s=IA(m,c,l),a.stateNode=s,Es(a))}return Dt(a),null;case 5:if(Ys(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(s=vn.current,fh(a))hT(a);else{switch(m=em(Wt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[En]=a,s[dn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Nn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Es(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Es(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=Wt.current,fh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Jn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[En]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||EA(s.nodeValue,l)),s||Uo(a)}else s=em(s).createTextNode(c),s[En]=a,a.stateNode=s}return Dt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=fh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[En]=a}else ph(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),m=!1}else ii!==null&&(pv(ii),ii=null),m=!0;if(!m)return a.flags&256?(ds(a),a):(ds(a),null)}if(ds(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),qp(a,a.updateQueue),Dt(a),null;case 4:return Zr(),s===null&&Av(a.stateNode.containerInfo),Dt(a),null;case 10:return gs(a.type),Dt(a),null;case 19:if(bt(mn),m=a.memoizedState,m===null)return Dt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Nh(m,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ip(s),y!==null){for(a.flags|=128,Nh(m,!1),s=y.updateQueue,a.updateQueue=s,qp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)WS(l,s),l=l.sibling;return nt(mn,mn.current&1|2),a.child}s=s.sibling}m.tail!==null&&hn()>Hp&&(a.flags|=128,c=!0,Nh(m,!1),a.lanes=4194304)}else{if(!c)if(s=Ip(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,qp(a,s),Nh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ze)return Dt(a),null}else 2*hn()-m.renderingStartTime>Hp&&l!==536870912&&(a.flags|=128,c=!0,Nh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=hn(),a.sibling=null,s=mn.current,nt(mn,c?s&1|2:s&1),a):(Dt(a),null);case 22:case 23:return ds(a),f_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&qp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&bt(Fo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gs(gn),Dt(a),null;case 25:return null}throw Error(r(156,a.tag))}function d2(s,a){switch(u_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return gs(gn),Zr(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ys(a),null;case 13:if(ds(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ph()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return bt(mn),null;case 4:return Zr(),null;case 10:return gs(a.type),null;case 22:case 23:return ds(a),f_(),s!==null&&bt(Fo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return gs(gn),null;case 25:return null;default:return null}}function XS(s,a){switch(u_(a),a.tag){case 3:gs(gn),Zr();break;case 26:case 27:case 5:Ys(a);break;case 4:Zr();break;case 13:ds(a);break;case 19:bt(mn);break;case 10:gs(a.type);break;case 22:case 23:ds(a),f_(),s!==null&&bt(Fo);break;case 24:gs(gn)}}var f2={getCacheForType:function(s){var a=Fn(gn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},p2=typeof WeakMap=="function"?WeakMap:Map,kt=0,yt=null,je=null,Ye=0,_t=0,_r=null,bs=!1,pu=!1,ov=!1,ws=0,jt=0,Ra=0,Qo=0,lv=0,$r=0,mu=0,Vh=null,Ci=null,uv=!1,cv=0,Hp=1/0,$p=null,Ca=null,Gp=!1,Yo=null,Mh=0,hv=0,dv=null,Lh=0,fv=null;function vr(){if((kt&2)!==0&&Ye!==0)return Ye&-Ye;if(R.T!==null){var s=au;return s!==0?s:bv()}return Jf()}function JS(){$r===0&&($r=(Ye&536870912)===0||Ze?Qc():536870912);var s=jr.current;return s!==null&&(s.flags|=32),$r}function Zn(s,a,l){(s===yt&&_t===2||s.cancelPendingCommit!==null)&&(gu(s,0),Ts(s,Ye,$r,!1)),Qt(s,l),((kt&2)===0||s!==yt)&&(s===yt&&((kt&2)===0&&(Qo|=l),jt===4&&Ts(s,Ye,$r,!1)),xi(s))}function ZS(s,a,l){if((kt&6)!==0)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||ta(s,a),m=c?y2(s,a):yv(s,a,!0),y=c;do{if(m===0){pu&&!c&&Ts(s,a,0,!1);break}else if(m===6)Ts(s,a,0,!bs);else{if(l=s.current.alternate,y&&!m2(l)){m=yv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var k=s;m=Vh;var F=k.current.memoizedState.isDehydrated;if(F&&(gu(k,A).flags|=256),A=yv(k,A,!1),A!==2){if(ov&&!F){k.errorRecoveryDisabledLanes|=y,Qo|=y,m=4;break e}y=Ci,Ci=m,y!==null&&pv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){gu(s,0),Ts(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Ts(c,a,$r,!bs);break e}break;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=cv+300-hn(),10<y)){if(Ts(c,a,$r,!bs),Or(c,0)!==0)break e;c.timeoutHandle=TA(eA.bind(null,c,l,Ci,$p,uv,a,$r,Qo,mu,bs,2,-0,0),y);break e}eA(c,l,Ci,$p,uv,a,$r,Qo,mu,bs,0,-0,0)}}break}while(!0);xi(s)}function pv(s){Ci===null?Ci=s:Ci.push.apply(Ci,s)}function eA(s,a,l,c,m,y,A,k,F,K,ce,fe,ee){var ue=a.subtreeFlags;if((ue&8192||(ue&16785408)===16785408)&&(qh={stylesheets:null,count:0,unsuspend:Y2},HS(a),a=J2(),a!==null)){s.cancelPendingCommit=a(oA.bind(null,s,l,c,m,A,k,F,1,fe,ee)),Ts(s,y,A,!K);return}oA(s,l,c,m,A,k,F,ce,fe,ee)}function m2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!mr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a,l,c){a&=~lv,a&=~Qo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Qn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&ra(s,l,a)}function Kp(){return(kt&6)===0?(Uh(0),!1):!0}function mv(){if(je!==null){if(_t===0)var s=je.return;else s=je,ms=$o=null,b_(s),iu=null,_h=0,s=je;for(;s!==null;)XS(s.alternate,s),s=s.return;je=null}}function gu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,N2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),mv(),yt=s,je=l=Ia(s.current,null),Ye=a,_t=0,_r=null,bs=!1,pu=ta(s,a),ov=!1,mu=$r=lv=Qo=Ra=jt=0,Ci=Vh=null,uv=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Qn(c),y=1<<m;a|=s[m],c&=~y}return ws=a,yp(),l}function tA(s,a){Ue=null,R.H=Ri,a===gh?(a=gT(),_t=3):a===fT?(a=gT(),_t=4):_t=a===pS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_r=a,je===null&&(jt=1,Lp(s,Ur(a,s.current)))}function nA(){var s=R.H;return R.H=Ri,s===null?Ri:s}function rA(){var s=R.A;return R.A=f2,s}function gv(){jt=4,bs||(Ye&4194176)!==Ye&&jr.current!==null||(pu=!0),(Ra&134217727)===0&&(Qo&134217727)===0||yt===null||Ts(yt,Ye,$r,!1)}function yv(s,a,l){var c=kt;kt|=2;var m=nA(),y=rA();(yt!==s||Ye!==a)&&($p=null,gu(s,a)),a=!1;var A=jt;e:do try{if(_t!==0&&je!==null){var k=je,F=_r;switch(_t){case 8:mv(),A=6;break e;case 3:case 2:case 6:jr.current===null&&(a=!0);var K=_t;if(_t=0,_r=null,yu(s,k,F,K),l&&pu){A=0;break e}break;default:K=_t,_t=0,_r=null,yu(s,k,F,K)}}g2(),A=jt;break}catch(ce){tA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ms=$o=null,kt=c,R.H=m,R.A=y,je===null&&(yt=null,Ye=0,yp()),A}function g2(){for(;je!==null;)iA(je)}function y2(s,a){var l=kt;kt|=2;var c=nA(),m=rA();yt!==s||Ye!==a?($p=null,Hp=hn()+500,gu(s,a)):pu=ta(s,a);e:do try{if(_t!==0&&je!==null){a=je;var y=_r;t:switch(_t){case 1:_t=0,_r=null,yu(s,a,y,1);break;case 2:if(pT(y)){_t=0,_r=null,sA(a);break}a=function(){_t===2&&yt===s&&(_t=7),xi(s)},y.then(a,a);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:pT(y)?(_t=0,_r=null,sA(a)):(_t=0,_r=null,yu(s,a,y,7));break;case 5:var A=null;switch(je.tag){case 26:A=je.memoizedState;case 5:case 27:var k=je;if(!A||NA(A)){_t=0,_r=null;var F=k.sibling;if(F!==null)je=F;else{var K=k.return;K!==null?(je=K,Wp(K)):je=null}break t}}_t=0,_r=null,yu(s,a,y,5);break;case 6:_t=0,_r=null,yu(s,a,y,6);break;case 8:mv(),jt=6;break e;default:throw Error(r(462))}}_2();break}catch(ce){tA(s,ce)}while(!0);return ms=$o=null,R.H=c,R.A=m,kt=l,je!==null?0:(yt=null,Ye=0,yp(),jt)}function _2(){for(;je!==null&&!mt();)iA(je)}function iA(s){var a=IS(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?Wp(s):je=a}function sA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=ES(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=ES(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:b_(a);default:XS(l,a),a=je=WS(a,ws),a=IS(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?Wp(s):je=a}function yu(s,a,l,c){ms=$o=null,b_(a),iu=null,_h=0;var m=a.return;try{if(a2(s,m,a,l,Ye)){jt=1,Lp(s,Ur(l,s.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;jt=1,Lp(s,Ur(l,s.current)),je=null;return}a.flags&32768?(Ze||c===1?s=!0:pu||(Ye&536870912)!==0?s=!1:(bs=s=!0,(c===2||c===3||c===6)&&(c=jr.current,c!==null&&c.tag===13&&(c.flags|=16384))),aA(a,s)):Wp(a)}function Wp(s){var a=s;do{if((a.flags&32768)!==0){aA(a,bs);return}s=a.return;var l=h2(a.alternate,a,ws);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=s}while(a!==null);jt===0&&(jt=5)}function aA(s,a){do{var l=d2(s.alternate,s);if(l!==null){l.flags&=32767,je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){je=s;return}je=s=l}while(s!==null);jt=6,je=null}function oA(s,a,l,c,m,y,A,k,F,K){var ce=R.T,fe=ye.p;try{ye.p=2,R.T=null,v2(s,a,l,c,fe,m,y,A,k,F,K)}finally{R.T=ce,ye.p=fe}}function v2(s,a,l,c,m,y,A,k){do _u();while(Yo!==null);if((kt&6)!==0)throw Error(r(327));var F=s.finishedWork;if(c=s.finishedLanes,F===null)return null;if(s.finishedWork=null,s.finishedLanes=0,F===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=F.lanes|F.childLanes;if(K|=a_,Yf(s,c,K,y,A,k),s===yt&&(je=yt=null,Ye=0),(F.subtreeFlags&10256)===0&&(F.flags&10256)===0||Gp||(Gp=!0,hv=K,dv=l,T2(Pn,function(){return _u(),null})),l=(F.flags&15990)!==0,(F.subtreeFlags&15990)!==0||l?(l=R.T,R.T=null,y=ye.p,ye.p=2,A=kt,kt|=4,l2(s,F),jS(F,s),qN(xv,s.containerInfo),am=!!Cv,xv=Cv=null,s.current=F,LS(s,F.alternate,F),Pt(),kt=A,ye.p=y,R.T=l):s.current=F,Gp?(Gp=!1,Yo=s,Mh=c):lA(s,K),K=s.pendingLanes,K===0&&(Ca=null),Kc(F.stateNode),xi(s),a!==null)for(m=s.onRecoverableError,F=0;F<a.length;F++)K=a[F],m(K.value,{componentStack:K.stack});return(Mh&3)!==0&&_u(),K=s.pendingLanes,(c&4194218)!==0&&(K&42)!==0?s===fv?Lh++:(Lh=0,fv=s):Lh=0,Uh(0),null}function lA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Eh(a)))}function _u(){if(Yo!==null){var s=Yo,a=hv;hv=0;var l=Xf(Mh),c=R.T,m=ye.p;try{if(ye.p=32>l?32:l,R.T=null,Yo===null)var y=!1;else{l=dv,dv=null;var A=Yo,k=Mh;if(Yo=null,Mh=0,(kt&6)!==0)throw Error(r(331));var F=kt;if(kt|=4,GS(A.current),qS(A,A.current,k,l),kt=F,Uh(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Zs,A)}catch{}y=!0}return y}finally{ye.p=m,R.T=c,lA(s,a)}}return!1}function uA(s,a,l){a=Ur(l,a),a=V_(s.stateNode,a,2),s=wa(s,a,2),s!==null&&(Qt(s,2),xi(s))}function dt(s,a,l){if(s.tag===3)uA(s,s,l);else for(;a!==null;){if(a.tag===3){uA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){s=Ur(l,s),l=dS(2),c=wa(a,l,2),c!==null&&(fS(l,c,a,s),Qt(c,2),xi(c));break}}a=a.return}}function _v(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new p2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(ov=!0,m.add(l),s=E2.bind(null,s,a,l),a.then(s,s))}function E2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,yt===s&&(Ye&l)===l&&(jt===4||jt===3&&(Ye&62914560)===Ye&&300>hn()-cv?(kt&2)===0&&gu(s,0):lv|=l,mu===Ye&&(mu=0)),xi(s)}function cA(s,a){a===0&&(a=na()),s=pa(s,a),s!==null&&(Qt(s,a),xi(s))}function b2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),cA(s,l)}function w2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),cA(s,l)}function T2(s,a){return fi(s,a)}var Qp=null,vu=null,vv=!1,Yp=!1,Ev=!1,Xo=0;function xi(s){s!==vu&&s.next===null&&(vu===null?Qp=vu=s:vu=vu.next=s),Yp=!0,vv||(vv=!0,A2(S2))}function Uh(s,a){if(!Ev&&Yp){Ev=!0;do for(var l=!1,c=Qp;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-Qn(42|s)+1)-1,y&=m&~(A&~k),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,fA(c,y))}else y=Ye,y=Or(c,c===yt?y:0),(y&3)===0||ta(c,y)||(l=!0,fA(c,y));c=c.next}while(l);Ev=!1}}function S2(){Yp=vv=!1;var s=0;Xo!==0&&(k2()&&(s=Xo),Xo=0);for(var a=hn(),l=null,c=Qp;c!==null;){var m=c.next,y=hA(c,a);y===0?(c.next=null,l===null?Qp=m:l.next=m,m===null&&(vu=l)):(l=c,(s!==0||(y&3)!==0)&&(Yp=!0)),c=m}Uh(s)}function hA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Qn(y),k=1<<A,F=m[A];F===-1?((k&l)===0||(k&c)!==0)&&(m[A]=Ll(k,a)):F<=a&&(s.expiredLanes|=k),y&=~k}if(a=yt,l=Ye,l=Or(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&_t===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Fe(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ta(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Fe(c),Xf(l)){case 2:case 8:l=lt;break;case 32:l=Pn;break;case 268435456:l=Gc;break;default:l=Pn}return c=dA.bind(null,s),l=fi(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Fe(c),s.callbackPriority=2,s.callbackNode=null,2}function dA(s,a){var l=s.callbackNode;if(_u()&&s.callbackNode!==l)return null;var c=Ye;return c=Or(s,s===yt?c:0),c===0?null:(ZS(s,c,a),hA(s,hn()),s.callbackNode!=null&&s.callbackNode===l?dA.bind(null,s):null)}function fA(s,a){if(_u())return null;ZS(s,a,!0)}function A2(s){V2(function(){(kt&6)!==0?fi(gt,s):s()})}function bv(){return Xo===0&&(Xo=Qc()),Xo}function pA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_i(""+s)}function mA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function I2(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=pA((m[dn]||null).action),A=c.submitter;A&&(a=(a=A[dn]||null)?pA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var k=new Hl("action","action",null,c,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xo!==0){var F=A?mA(m,A):new FormData(m);P_(l,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(k.preventDefault(),F=A?mA(m,A):new FormData(m),P_(l,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var wv=0;wv<oT.length;wv++){var Tv=oT[wv],R2=Tv.toLowerCase(),C2=Tv[0].toUpperCase()+Tv.slice(1);ri(R2,"on"+C2)}ri(nT,"onAnimationEnd"),ri(rT,"onAnimationIteration"),ri(iT,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri($N,"onTransitionRun"),ri(GN,"onTransitionStart"),ri(KN,"onTransitionCancel"),ri(sT,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function gA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var k=c[A],F=k.instance,K=k.currentTarget;if(k=k.listener,F!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){Mp(ce)}m.currentTarget=null,y=F}else for(A=0;A<c.length;A++){if(k=c[A],F=k.instance,K=k.currentTarget,k=k.listener,F!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){Mp(ce)}m.currentTarget=null,y=F}}}}function Ge(s,a){var l=a[wo];l===void 0&&(l=a[wo]=new Set);var c=s+"__bubble";l.has(c)||(yA(a,s,2,!1),l.add(c))}function Sv(s,a,l){var c=0;a&&(c|=4),yA(l,s,c,a)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function Av(s){if(!s[Xp]){s[Xp]=!0,Xc.forEach(function(l){l!=="selectionchange"&&(x2.has(l)||Sv(l,!1,s),Sv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Xp]||(a[Xp]=!0,Sv("selectionchange",!1,a))}}function yA(s,a,l,c){switch(FA(a)){case 2:var m=tV;break;case 8:m=nV;break;default:m=Uv}l=m.bind(null,a,l,s),m=void 0,!Vr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Iv(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var F=A.tag;if((F===3||F===4)&&(F=A.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;A=A.return}for(;k!==null;){if(A=ni(k),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){c=y=A;continue e}k=k.parentNode}}c=c.return}np(function(){var K=y,ce=ql(l),fe=[];e:{var ee=aT.get(s);if(ee!==void 0){var ue=Hl,Ie=s;switch(s){case"keypress":if(Ei(l)===0)break e;case"keydown":case"keyup":ue=Yl;break;case"focusin":Ie="focus",ue=Kl;break;case"focusout":Ie="blur",ue=Kl;break;case"beforeblur":case"afterblur":ue=Kl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=cp;break;case nT:case rT:case iT:ue=Wl;break;case sT:ue=dp;break;case"scroll":case"scrollend":ue=rp;break;case"wheel":ue=Xl;break;case"copy":case"cut":case"paste":ue=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=uh;break;case"toggle":case"beforetoggle":ue=pp}var Ne=(a&4)!==0,zt=!Ne&&(s==="scroll"||s==="scrollend"),Q=Ne?ee!==null?ee+"Capture":null:ee;Ne=[];for(var G=K,J;G!==null;){var he=G;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=Ro(G,Q),he!=null&&Ne.push(Fh(G,he,J))),zt)break;G=G.return}0<Ne.length&&(ee=new ue(ee,Ie,null,l,ce),fe.push({event:ee,listeners:Ne}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",ee&&l!==Nr&&(Ie=l.relatedTarget||l.fromElement)&&(ni(Ie)||Ie[ts]))break e;if((ue||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(Ie=l.relatedTarget||l.toElement,ue=K,Ie=Ie?ni(Ie):null,Ie!==null&&(zt=ae(Ie),Ne=Ie.tag,Ie!==zt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(ue=null,Ie=K),ue!==Ie)){if(Ne=Mr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=uh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),zt=ue==null?ee:oa(ue),J=Ie==null?ee:oa(Ie),ee=new Ne(he,G+"leave",ue,l,ce),ee.target=zt,ee.relatedTarget=J,he=null,ni(ce)===K&&(Ne=new Ne(Q,G+"enter",Ie,l,ce),Ne.target=J,Ne.relatedTarget=zt,he=Ne),zt=he,ue&&Ie)t:{for(Ne=ue,Q=Ie,G=0,J=Ne;J;J=Eu(J))G++;for(J=0,he=Q;he;he=Eu(he))J++;for(;0<G-J;)Ne=Eu(Ne),G--;for(;0<J-G;)Q=Eu(Q),J--;for(;G--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=Eu(Ne),Q=Eu(Q)}Ne=null}else Ne=null;ue!==null&&_A(fe,ee,ue,Ne,!1),Ie!==null&&zt!==null&&_A(fe,zt,Ie,Ne,!0)}}e:{if(ee=K?oa(K):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var Se=$w;else if(pn(ee))if(Gw)Se=jN;else{Se=BN;var Be=UN}else ue=ee.nodeName,!ue||ue.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?K&&nh(K.elementType)&&(Se=$w):Se=FN;if(Se&&(Se=Se(s,K))){us(fe,Se,l,ce);break e}Be&&Be(s,ee,K),s==="focusout"&&K&&ee.type==="number"&&K.memoizedProps.value!=null&&zl(ee,"number",ee.value)}switch(Be=K?oa(K):window,s){case"focusin":(pn(Be)||Be.contentEditable==="true")&&(Jl=Be,r_=K,dh=null);break;case"focusout":dh=r_=Jl=null;break;case"mousedown":i_=!0;break;case"contextmenu":case"mouseup":case"dragend":i_=!1,eT(fe,l,ce);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":eT(fe,l,ce)}var Ce;if(Ti)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else We?re(s,l)&&(Pe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(S&&l.locale!=="ko"&&(We||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&We&&(Ce=ih()):(vi=ce,fa="value"in vi?vi.value:vi.textContent,We=!0)),Be=Jp(K,Pe),0<Be.length&&(Pe=new oh(Pe,s,null,l,ce),fe.push({event:Pe,listeners:Be}),Ce?Pe.data=Ce:(Ce=ge(l),Ce!==null&&(Pe.data=Ce)))),(Ce=E?fn(s,l):Qe(s,l))&&(Pe=Jp(K,"onBeforeInput"),0<Pe.length&&(Be=new oh("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Be,listeners:Pe}),Be.data=Ce)),I2(fe,s,K,l,ce)}gA(fe,a)})}function Fh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Jp(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ro(s,l),m!=null&&c.unshift(Fh(s,m,y)),m=Ro(s,a),m!=null&&c.push(Fh(s,m,y))),s=s.return}return c}function Eu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _A(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var k=l,F=k.alternate,K=k.stateNode;if(k=k.tag,F!==null&&F===c)break;k!==5&&k!==26&&k!==27||K===null||(F=K,m?(K=Ro(l,y),K!=null&&A.unshift(Fh(l,K,F))):m||(K=Ro(l,y),K!=null&&A.push(Fh(l,K,F)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var P2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function vA(s){return(typeof s=="string"?s:""+s).replace(P2,`
`).replace(O2,"")}function EA(s,a){return a=vA(a),vA(s)===a}function Zp(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||kr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&kr(s,""+c);break;case"className":ca(s,"class",c);break;case"tabIndex":ca(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(s,l,c);break;case"style":tp(s,c,y);break;case"data":if(a!=="object"){ca(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=_i(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=_i(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Zp);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=_i(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),ua(s,"popover",c);break;case"xlinkActuate":Dr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ua(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Yy.get(l)||l,ua(s,l,c))}}function Rv(s,a,l,c,m,y){switch(l){case"style":tp(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?kr(s,c):(typeof c=="number"||typeof c=="bigint")&&kr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Zp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[dn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ua(s,l,c)}}}function Nn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var k=y=A=m=null,F=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":F=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}Ao(s,y,k,F,K,A,m,!1),So(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":A=k;break;case"multiple":c=k;default:ct(s,a,m,k,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Je(s,!!c,a,!1):l!=null&&Je(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(k=l[A],k!=null))switch(A){case"value":c=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ct(s,a,A,k,l,null)}da(s,c,m,y),So(s);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,F,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<Bh.length;c++)Ge(Bh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,c,l,null)}return;default:if(nh(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Rv(s,a,ce,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&ct(s,a,k,c,l,null))}function D2(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,k=null,F=null,K=null,ce=null;for(ue in l){var fe=l[ue];if(l.hasOwnProperty(ue)&&fe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":F=fe;default:c.hasOwnProperty(ue)||ct(s,a,ue,null,c,fe)}}for(var ee in c){var ue=c[ee];if(fe=l[ee],c.hasOwnProperty(ee)&&(ue!=null||fe!=null))switch(ee){case"type":y=ue;break;case"name":m=ue;break;case"checked":K=ue;break;case"defaultChecked":ce=ue;break;case"value":A=ue;break;case"defaultValue":k=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:ue!==fe&&ct(s,a,ee,ue,c,fe)}}ha(s,A,k,F,K,ce,y,m);return;case"select":ue=A=k=ee=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":ue=F;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,F)}for(m in c)if(y=c[m],F=l[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":ee=y;break;case"defaultValue":k=y;break;case"multiple":A=y;default:y!==F&&ct(s,a,m,y,c,F)}a=k,l=A,c=ue,ee!=null?Je(s,!!l,ee,!1):!!c!=!!l&&(a!=null?Je(s,!!l,a,!0):Je(s,!!l,l?[]:"",!1));return;case"textarea":ue=ee=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(s,a,k,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":ee=m;break;case"defaultValue":ue=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}Io(s,ee,ue);return;case"option":for(var Ie in l)if(ee=l[Ie],l.hasOwnProperty(Ie)&&ee!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,c,ee)}for(F in c)if(ee=c[F],ue=l[F],c.hasOwnProperty(F)&&ee!==ue&&(ee!=null||ue!=null))switch(F){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ct(s,a,F,ee,c,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)ee=l[Ne],l.hasOwnProperty(Ne)&&ee!=null&&!c.hasOwnProperty(Ne)&&ct(s,a,Ne,null,c,ee);for(K in c)if(ee=c[K],ue=l[K],c.hasOwnProperty(K)&&ee!==ue&&(ee!=null||ue!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:ct(s,a,K,ee,c,ue)}return;default:if(nh(a)){for(var zt in l)ee=l[zt],l.hasOwnProperty(zt)&&ee!==void 0&&!c.hasOwnProperty(zt)&&Rv(s,a,zt,void 0,c,ee);for(ce in c)ee=c[ce],ue=l[ce],!c.hasOwnProperty(ce)||ee===ue||ee===void 0&&ue===void 0||Rv(s,a,ce,ee,c,ue);return}}for(var Q in l)ee=l[Q],l.hasOwnProperty(Q)&&ee!=null&&!c.hasOwnProperty(Q)&&ct(s,a,Q,null,c,ee);for(fe in c)ee=c[fe],ue=l[fe],!c.hasOwnProperty(fe)||ee===ue||ee==null&&ue==null||ct(s,a,fe,ee,c,ue)}var Cv=null,xv=null;function em(s){return s.nodeType===9?s:s.ownerDocument}function bA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Pv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ov=null;function k2(){var s=window.event;return s&&s.type==="popstate"?s===Ov?!1:(Ov=s,!0):(Ov=null,!1)}var TA=typeof setTimeout=="function"?setTimeout:void 0,N2=typeof clearTimeout=="function"?clearTimeout:void 0,SA=typeof Promise=="function"?Promise:void 0,V2=typeof queueMicrotask=="function"?queueMicrotask:typeof SA<"u"?function(s){return SA.resolve(null).then(s).catch(M2)}:TA;function M2(s){setTimeout(function(){throw s})}function Dv(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),Wh(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);Wh(a)}function kv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kv(l),To(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function L2(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[aa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ai(s.nextSibling),s===null)break}return null}function U2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ai(s.nextSibling),s===null))return null;return s}function ai(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function AA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function IA(s,a,l){switch(a=em(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Gr=new Map,RA=new Set;function tm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Ss=ye.d;ye.d={f:B2,r:F2,D:j2,C:z2,L:q2,m:H2,X:G2,S:$2,M:K2};function B2(){var s=Ss.f(),a=Kp();return s||a}function F2(s){var a=ns(s);a!==null&&a.tag===5&&a.type==="form"?eS(a):Ss.r(s)}var bu=typeof document>"u"?null:document;function CA(s,a,l){var c=bu;if(c&&typeof a=="string"&&a){var m=Bt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),RA.has(m)||(RA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Nn(a,"link",s),Ot(a),c.head.appendChild(a)))}}function j2(s){Ss.D(s),CA("dns-prefetch",s,null)}function z2(s,a){Ss.C(s,a),CA("preconnect",s,a)}function q2(s,a,l){Ss.L(s,a,l);var c=bu;if(c&&s&&a){var m='link[rel="preload"][as="'+Bt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Bt(l.imageSizes)+'"]')):m+='[href="'+Bt(s)+'"]';var y=m;switch(a){case"style":y=wu(s);break;case"script":y=Tu(s)}Gr.has(y)||(s=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Gr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(jh(y))||a==="script"&&c.querySelector(zh(y))||(a=c.createElement("link"),Nn(a,"link",s),Ot(a),c.head.appendChild(a)))}}function H2(s,a){Ss.m(s,a);var l=bu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Bt(c)+'"][href="'+Bt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tu(s)}if(!Gr.has(y)&&(s=b({rel:"modulepreload",href:s},a),Gr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zh(y)))return}c=l.createElement("link"),Nn(c,"link",s),Ot(c),l.head.appendChild(c)}}}function $2(s,a,l){Ss.S(s,a,l);var c=bu;if(c&&s){var m=la(c).hoistableStyles,y=wu(s);a=a||"default";var A=m.get(y);if(!A){var k={loading:0,preload:null};if(A=c.querySelector(jh(y)))k.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Gr.get(y))&&Nv(s,l);var F=A=c.createElement("link");Ot(F),Nn(F,"link",s),F._p=new Promise(function(K,ce){F.onload=K,F.onerror=ce}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,nm(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(y,A)}}}function G2(s,a){Ss.X(s,a);var l=bu;if(l&&s){var c=la(l).hoistableScripts,m=Tu(s),y=c.get(m);y||(y=l.querySelector(zh(m)),y||(s=b({src:s,async:!0},a),(a=Gr.get(m))&&Vv(s,a),y=l.createElement("script"),Ot(y),Nn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function K2(s,a){Ss.M(s,a);var l=bu;if(l&&s){var c=la(l).hoistableScripts,m=Tu(s),y=c.get(m);y||(y=l.querySelector(zh(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Gr.get(m))&&Vv(s,a),y=l.createElement("script"),Ot(y),Nn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function xA(s,a,l,c){var m=(m=Wt.current)?tm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=wu(l.href),l=la(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=wu(l.href);var y=la(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(jh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Gr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gr.set(s,l),y||W2(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tu(l),l=la(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function wu(s){return'href="'+Bt(s)+'"'}function jh(s){return'link[rel="stylesheet"]['+s+"]"}function PA(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function W2(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Nn(a,"link",l),Ot(a),s.head.appendChild(a))}function Tu(s){return'[src="'+Bt(s)+'"]'}function zh(s){return"script[async]"+s}function OA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Bt(l.href)+'"]');if(c)return a.instance=c,Ot(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ot(c),Nn(c,"style",m),nm(c,l.precedence,s),a.instance=c;case"stylesheet":m=wu(l.href);var y=s.querySelector(jh(m));if(y)return a.state.loading|=4,a.instance=y,Ot(y),y;c=PA(l),(m=Gr.get(m))&&Nv(c,m),y=(s.ownerDocument||s).createElement("link"),Ot(y);var A=y;return A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),Nn(y,"link",c),a.state.loading|=4,nm(y,l.precedence,s),a.instance=y;case"script":return y=Tu(l.src),(m=s.querySelector(zh(y)))?(a.instance=m,Ot(m),m):(c=l,(m=Gr.get(y))&&(c=b({},l),Vv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ot(m),Nn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,nm(c,l.precedence,s));return a.instance}function nm(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var k=c[A];if(k.dataset.precedence===a)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Nv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Vv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var rm=null;function DA(s,a,l){if(rm===null){var c=new Map,m=rm=new Map;m.set(l,c)}else m=rm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[aa]||y[En]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var k=c.get(A);k?k.push(y):c.set(A,[y])}}return c}function kA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function Q2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function NA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var qh=null;function Y2(){}function X2(s,a,l){if(qh===null)throw Error(r(475));var c=qh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=wu(l.href),y=s.querySelector(jh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=im.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Ot(y);return}y=s.ownerDocument||s,l=PA(l),(m=Gr.get(m))&&Nv(l,m),y=y.createElement("link"),Ot(y);var A=y;A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),Nn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=im.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function J2(){if(qh===null)throw Error(r(475));var s=qh;return s.stylesheets&&s.count===0&&Mv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Mv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function im(){if(this.count--,this.count===0){if(this.stylesheets)Mv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var sm=null;function Mv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,sm=new Map,a.forEach(Z2,s),sm=null,im.call(s))}function Z2(s,a){if(!(a.state.loading&4)){var l=sm.get(s);if(l)var c=l.get(null);else{l=new Map,sm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=im.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Hh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function eV(s,a,l,c,m,y,A,k){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ul(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.hiddenUpdates=Ul(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function VA(s,a,l,c,m,y,A,k,F,K,ce,fe){return s=new eV(s,a,l,A,k,F,K,fe),a=1,y===!0&&(a|=24),y=Hr(3,null,null,a),s.current=y,y.stateNode=s,a=p_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},W_(y),s}function MA(s){return s?(s=tu,s):tu}function LA(s,a,l,c,m,y){m=MA(m),c.context===null?c.context=m:c.pendingContext=m,c=ba(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=wa(s,c,a),l!==null&&(Zn(l,s,a),Rh(l,s,a))}function UA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Lv(s,a){UA(s,a),(s=s.alternate)&&UA(s,a)}function BA(s){if(s.tag===13){var a=pa(s,67108864);a!==null&&Zn(a,s,67108864),Lv(s,67108864)}}var am=!0;function tV(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=2,Uv(s,a,l,c)}finally{ye.p=y,R.T=m}}function nV(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=8,Uv(s,a,l,c)}finally{ye.p=y,R.T=m}}function Uv(s,a,l,c){if(am){var m=Bv(c);if(m===null)Iv(s,a,c,om,l),jA(s,c);else if(iV(m,s,a,l,c))c.stopPropagation();else if(jA(s,c),a&4&&-1<rV.indexOf(s)){for(;m!==null;){var y=ns(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ti(y.pendingLanes);if(A!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var F=1<<31-Qn(A);k.entanglements[1]|=F,A&=~F}xi(y),(kt&6)===0&&(Hp=hn()+500,Uh(0))}}break;case 13:k=pa(y,2),k!==null&&Zn(k,y,2),Kp(),Lv(y,2)}if(y=Bv(c),y===null&&Iv(s,a,c,om,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Iv(s,a,c,null,l)}}function Bv(s){return s=ql(s),Fv(s)}var om=null;function Fv(s){if(om=null,s=ni(s),s!==null){var a=ae(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=we(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return om=s,null}function FA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case gt:return 2;case lt:return 8;case Pn:case Js:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var jv=!1,xa=null,Pa=null,Oa=null,$h=new Map,Gh=new Map,Da=[],rV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jA(s,a){switch(s){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":$h.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(a.pointerId)}}function Kh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ns(a),a!==null&&BA(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function iV(s,a,l,c,m){switch(a){case"focusin":return xa=Kh(xa,s,a,l,c,m),!0;case"dragenter":return Pa=Kh(Pa,s,a,l,c,m),!0;case"mouseover":return Oa=Kh(Oa,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return $h.set(y,Kh($h.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Gh.set(y,Kh(Gh.get(y)||null,s,a,l,c,m)),!0}return!1}function zA(s){var a=ni(s.target);if(a!==null){var l=ae(a);if(l!==null){if(a=l.tag,a===13){if(a=we(l),a!==null){s.blockedOn=a,sa(s.priority,function(){if(l.tag===13){var c=vr(),m=pa(l,c);m!==null&&Zn(m,l,c),Lv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function lm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Bv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Nr=c,l.target.dispatchEvent(c),Nr=null}else return a=ns(l),a!==null&&BA(a),s.blockedOn=l,!1;a.shift()}return!0}function qA(s,a,l){lm(s)&&l.delete(a)}function sV(){jv=!1,xa!==null&&lm(xa)&&(xa=null),Pa!==null&&lm(Pa)&&(Pa=null),Oa!==null&&lm(Oa)&&(Oa=null),$h.forEach(qA),Gh.forEach(qA)}function um(s,a){s.blockedOn===a&&(s.blockedOn=null,jv||(jv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sV)))}var cm=null;function HA(s){cm!==s&&(cm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cm===s&&(cm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Fv(c||l)===null)continue;break}var y=ns(l);y!==null&&(s.splice(a,3),a-=3,P_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Wh(s){function a(F){return um(F,s)}xa!==null&&um(xa,s),Pa!==null&&um(Pa,s),Oa!==null&&um(Oa,s),$h.forEach(a),Gh.forEach(a);for(var l=0;l<Da.length;l++){var c=Da[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Da.length&&(l=Da[0],l.blockedOn===null);)zA(l),l.blockedOn===null&&Da.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[dn]||null;if(typeof y=="function")A||HA(l);else if(A){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[dn]||null)k=A.formAction;else if(Fv(m)!==null)continue}else k=A.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),HA(l)}}}function zv(s){this._internalRoot=s}hm.prototype.render=zv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=vr();LA(l,c,s,a,null,null)},hm.prototype.unmount=zv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&_u(),LA(s.current,2,null,s,null,null),Kp(),a[ts]=null}};function hm(s){this._internalRoot=s}hm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Jf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Da.length&&a!==0&&a<Da[l].priority;l++);Da.splice(l,0,s),l===0&&zA(s)}};var $A=e.version;if($A!=="19.0.0")throw Error(r(527,$A,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=oe(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var aV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{Zs=dm.inject(aV),Bn=dm}catch{}}return Yh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=lS,y=uS,A=cS,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=VA(s,1,!1,null,null,l,c,m,y,A,k,null),s[ts]=a.current,Av(s.nodeType===8?s.parentNode:s),new zv(a)},Yh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=lS,A=uS,k=cS,F=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=VA(s,1,!0,a,l??null,c,m,y,A,k,F,K),a.context=MA(null),l=a.current,c=vr(),m=ba(c),m.callback=null,wa(l,m,c),a.current.lanes=c,Qt(a,c),xi(a),s[ts]=a.current,Av(s),new hm(a)},Yh.version="19.0.0",Yh}var tI;function yV(){if(tI)return $v.exports;tI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$v.exports=gV(),$v.exports}var _V=yV(),Xh={},nI;function vV(){if(nI)return Xh;nI=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.parse=u,Xh.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,I=v.length;if(I<2)return w;const x=(T==null?void 0:T.decode)||g;let L=0;do{const M=v.indexOf("=",L);if(M===-1)break;const U=v.indexOf(";",L),H=U===-1?I:U;if(M>H){L=v.lastIndexOf(";",M-1)+1;continue}const j=h(v,L,M),$=d(v,M,j),V=v.slice(j,$);if(w[V]===void 0){let C=h(v,M+1,H),R=d(v,H,C);const b=x(v.slice(C,R));w[V]=b}L=H+1}while(L<I);return w}function h(v,T,w){do{const I=v.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const I=v.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return w}function f(v,T,w){const I=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=I(T);if(!e.test(x))throw new TypeError(`argument val is invalid: ${T}`);let L=v+"="+x;if(!w)return L;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);L+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);L+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);L+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);L+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(L+="; HttpOnly"),w.secure&&(L+="; Secure"),w.partitioned&&(L+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return L}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Xh}vV();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rI="popstate";function EV(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return D0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:qd(i)}return wV(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bV(){return Math.random().toString(36).substring(2,10)}function iI(n,e){return{usr:n.state,key:n.key,idx:e}}function D0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ac(e):e,state:t,key:e&&e.key||r||bV()}}function qd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function wV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),L=x==null?null:x-f;f=x,d&&d({action:h,location:I.location,delta:L})}function v(x,L){h="PUSH";let M=D0(I.location,x,L);f=g()+1;let U=iI(M,f),H=I.createHref(M);try{u.pushState(U,"",H)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(H)}o&&d&&d({action:h,location:I.location,delta:1})}function T(x,L){h="REPLACE";let M=D0(I.location,x,L);f=g();let U=iI(M,f),H=I.createHref(M);u.replaceState(U,"",H),o&&d&&d({action:h,location:I.location,delta:0})}function w(x){let L=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof x=="string"?x:qd(x);return M=M.replace(/ $/,"%20"),Vt(L,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,L)}let I={get action(){return h},get location(){return n(i,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(rI,_),d=x,()=>{i.removeEventListener(rI,_),d=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let L=w(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:T,go(x){return u.go(x)}};return I}function DC(n,e,t="/"){return TV(n,e,t,!1)}function TV(n,e,t,r){let i=typeof e=="string"?Ac(e):e,o=Vs(i.pathname||"/",t);if(o==null)return null;let u=kC(n);SV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=VV(o);h=kV(u[d],f,r)}return h}function kC(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Vt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=ks([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Vt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:OV(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of NC(o.path))i(o,u,d)}),e}function NC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=NC(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function SV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AV=/^:[\w-]+$/,IV=3,RV=2,CV=1,xV=10,PV=-2,sI=n=>n==="*";function OV(n,e){let t=n.split("/"),r=t.length;return t.some(sI)&&(r+=PV),e&&(r+=RV),t.filter(i=>!sI(i)).reduce((i,o)=>i+(AV.test(o)?IV:o===""?CV:xV),r)}function DV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function kV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ks([o,_.pathname]),pathnameBase:BV(ks([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=ks([o,_.pathnameBase]))}return u}function tg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=NV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function NV(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function MV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ac(n):n;return{pathname:t?t.startsWith("/")?t:LV(t,e):e,search:FV(r),hash:jV(i)}}function LV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Qv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VC(n){let e=UV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function MC(n,e,t,r=!1){let i;typeof n=="string"?i=Ac(n):(i={...n},Vt(!i.pathname||!i.pathname.includes("?"),Qv("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Qv("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Qv("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=MV(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var ks=n=>n.join("/").replace(/\/\/+/g,"/"),BV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var LC=["POST","PUT","PATCH","DELETE"];new Set(LC);var qV=["GET",...LC];new Set(qV);var Ic=W.createContext(null);Ic.displayName="DataRouter";var Lg=W.createContext(null);Lg.displayName="DataRouterState";var UC=W.createContext({isTransitioning:!1});UC.displayName="ViewTransition";var HV=W.createContext(new Map);HV.displayName="Fetchers";var $V=W.createContext(null);$V.displayName="Await";var Zi=W.createContext(null);Zi.displayName="Navigation";var _f=W.createContext(null);_f.displayName="Location";var es=W.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var BE=W.createContext(null);BE.displayName="RouteError";function GV(n,{relative:e}={}){Vt(vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Zi),{hash:i,pathname:o,search:u}=Ef(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ks([t,o])),r.createHref({pathname:h,search:u,hash:i})}function vf(){return W.useContext(_f)!=null}function ho(){return Vt(vf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(_f).location}var BC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FC(n){W.useContext(Zi).static||W.useLayoutEffect(n)}function Ug(){let{isDataRoute:n}=W.useContext(es);return n?sM():KV()}function KV(){Vt(vf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Ic),{basename:e,navigator:t}=W.useContext(Zi),{matches:r}=W.useContext(es),{pathname:i}=ho(),o=JSON.stringify(VC(r)),u=W.useRef(!1);return FC(()=>{u.current=!0}),W.useCallback((d,f={})=>{if(Ki(u.current,BC),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=MC(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ks([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}W.createContext(null);function jC(){let{matches:n}=W.useContext(es),e=n[n.length-1];return e?e.params:{}}function Ef(n,{relative:e}={}){let{matches:t}=W.useContext(es),{pathname:r}=ho(),i=JSON.stringify(VC(t));return W.useMemo(()=>MC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function WV(n,e){return zC(n,e)}function zC(n,e,t,r){var M;Vt(vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Zi),{matches:u}=W.useContext(es),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";qC(f,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=ho(),T;if(e){let U=typeof e=="string"?Ac(e):e;Vt(g==="/"||((M=U.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=v;let w=T.pathname||"/",I=w;if(g!=="/"){let U=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:DC(n,{pathname:I});Ki(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ki(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=ZV(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ks([g,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ks([g,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r);return e&&L?W.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function QV(){let n=iM(),e=zV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var YV=W.createElement(QV,null),XV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(es.Provider,{value:this.props.routeContext},W.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JV({routeContext:n,match:e,children:t}){let r=W.useContext(Ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(es.Provider,{value:n},t)}function ZV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Vt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||YV,u&&(h<0&&g===0?(qC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),x=()=>{let L;return _?L=T:v?L=w:f.route.Component?L=W.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,W.createElement(JV,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?W.createElement(XV,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:x(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):x()},null)}function FE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eM(n){let e=W.useContext(Ic);return Vt(e,FE(n)),e}function tM(n){let e=W.useContext(Lg);return Vt(e,FE(n)),e}function nM(n){let e=W.useContext(es);return Vt(e,FE(n)),e}function jE(n){let e=nM(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rM(){return jE("useRouteId")}function iM(){var r;let n=W.useContext(BE),e=tM("useRouteError"),t=jE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function sM(){let{router:n}=eM("useNavigate"),e=jE("useNavigate"),t=W.useRef(!1);return FC(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Ki(t.current,BC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var aI={};function qC(n,e,t){!e&&!aI[n]&&(aI[n]=!0,Ki(!1,t))}W.memo(aM);function aM({routes:n,future:e,state:t}){return zC(n,void 0,t,e)}function Ba(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Vt(!vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Ac(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let w=Vs(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return Ki(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Zi.Provider,{value:h},W.createElement(_f.Provider,{children:e,value:T}))}function lM({children:n,location:e}){return WV(k0(n),e)}function k0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,k0(r.props.children,o));return}Vt(r.type===Ba,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=k0(r.props.children,o)),t.push(u)}),t}var Pm="get",Om="application/x-www-form-urlencoded";function Bg(n){return n!=null&&typeof n.tagName=="string"}function uM(n){return Bg(n)&&n.tagName.toLowerCase()==="button"}function cM(n){return Bg(n)&&n.tagName.toLowerCase()==="form"}function hM(n){return Bg(n)&&n.tagName.toLowerCase()==="input"}function dM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fM(n,e){return n.button===0&&(!e||e==="_self")&&!dM(n)}var fm=null;function pM(){if(fm===null)try{new FormData(document.createElement("form"),0),fm=!1}catch{fm=!0}return fm}var mM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yv(n){return n!=null&&!mM.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Om}"`),null):n}function gM(n,e){let t,r,i,o,u;if(cM(n)){let h=n.getAttribute("action");r=h?Vs(h,e):null,t=n.getAttribute("method")||Pm,i=Yv(n.getAttribute("enctype"))||Om,o=new FormData(n)}else if(uM(n)||hM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Vs(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Pm,i=Yv(n.getAttribute("formenctype"))||Yv(h.getAttribute("enctype"))||Om,o=new FormData(h,n),!pM()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Bg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pm,r=null,i=Om,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function zE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _M(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vM(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await yM(o,t);return u.links?u.links():[]}return[]}));return TM(r.flat(1).filter(_M).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oI(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function EM(n,e,{includeHydrateFallback:t}={}){return bM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bM(n){return[...new Set(n)]}function wM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function TM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(wM(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function SM(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Vs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function HC(){let n=W.useContext(Ic);return zE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function AM(){let n=W.useContext(Lg);return zE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qE=W.createContext(void 0);qE.displayName="FrameworkContext";function $C(){let n=W.useContext(qE);return zE(n,"You must render this element inside a <HydratedRouter> element"),n}function IM(n,e){let t=W.useContext(qE),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=L=>{L.forEach(M=>{u(M.isIntersecting)})},x=new IntersectionObserver(I,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Jh(h,T),onBlur:Jh(d,w),onMouseEnter:Jh(f,T),onMouseLeave:Jh(g,w),onTouchStart:Jh(_,T)}]:[!1,v,{}]}function Jh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RM({page:n,...e}){let{router:t}=HC(),r=W.useMemo(()=>DC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(xM,{page:n,matches:r,...e}):null}function CM(n){let{manifest:e,routeModules:t}=$C(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return vM(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function xM({page:n,matches:e,...t}){let r=ho(),{manifest:i,routeModules:o}=$C(),{basename:u}=HC(),{loaderData:h,matches:d}=AM(),f=W.useMemo(()=>oI(n,e,d,i,r,"data"),[n,e,d,i,r]),g=W.useMemo(()=>oI(n,e,d,i,r,"assets"),[n,e,d,i,r]),_=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,I=!1;if(e.forEach(L=>{var U;let M=i.routes[L.route.id];!M||!M.hasLoader||(!f.some(H=>H.route.id===L.route.id)&&L.route.id in h&&((U=o[L.route.id])!=null&&U.shouldRevalidate)||M.hasClientLoader?I=!0:w.add(L.route.id))}),w.size===0)return[];let x=SM(n,u);return I&&w.size>0&&x.searchParams.set("_routes",e.filter(L=>w.has(L.route.id)).map(L=>L.route.id).join(",")),[x.pathname+x.search]},[u,h,r,i,f,e,n,o]),v=W.useMemo(()=>EM(g,i),[g,i]),T=CM(g);return W.createElement(W.Fragment,null,_.map(w=>W.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>W.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),T.map(({key:w,link:I})=>W.createElement("link",{key:w,...I})))}function PM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GC&&(window.__reactRouterVersion="7.3.0")}catch{}function OM({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=EV({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(d=>{W.startTransition(()=>u(d))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(oM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var KC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fi=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=W.useContext(Zi),I=typeof f=="string"&&KC.test(f),x,L=!1;if(typeof f=="string"&&I&&(x=f,GC))try{let R=new URL(window.location.href),b=f.startsWith("//")?new URL(R.protocol+f):new URL(f),P=Vs(b.pathname,w);b.origin===R.origin&&P!=null?f=P+b.search+b.hash:L=!0}catch{Ki(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=GV(f,{relative:i}),[U,H,j]=IM(r,v),$=VM(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function V(R){e&&e(R),R.defaultPrevented||$(R)}let C=W.createElement("a",{...v,...j,href:x||M,onClick:L||o?e:V,ref:PM(T,H),target:d,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?W.createElement(W.Fragment,null,C,W.createElement(RM,{page:M})):C});Fi.displayName="Link";var DM=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=Ef(u,{relative:f.relative}),v=ho(),T=W.useContext(Lg),{navigator:w,basename:I}=W.useContext(Zi),x=T!=null&&FM(_)&&h===!0,L=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,M=v.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(M=M.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&I&&(U=Vs(U,I)||U);const H=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let j=M===L||!i&&M.startsWith(L)&&M.charAt(H)==="/",$=U!=null&&(U===L||!i&&U.startsWith(L)&&U.charAt(L.length)==="/"),V={isActive:j,isPending:$,isTransitioning:x},C=j?e:void 0,R;typeof r=="function"?R=r(V):R=[r,j?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(V):o;return W.createElement(Fi,{...f,"aria-current":C,className:R,ref:g,style:b,to:u,viewTransition:h},typeof d=="function"?d(V):d)});DM.displayName="NavLink";var kM=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Pm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=UM(),I=BM(h,{relative:f}),x=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&KC.test(h),M=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let H=U.nativeEvent.submitter,j=(H==null?void 0:H.getAttribute("formmethod"))||u;w(H||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:x,action:I,onSubmit:r?d:M,...v,"data-discover":!L&&n==="render"?"true":void 0})});kM.displayName="Form";function NM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WC(n){let e=W.useContext(Ic);return Vt(e,NM(n)),e}function VM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Ug(),d=ho(),f=Ef(n,{relative:o});return W.useCallback(g=>{if(fM(g,e)){g.preventDefault();let _=t!==void 0?t:qd(d)===qd(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var MM=0,LM=()=>`__${String(++MM)}__`;function UM(){let{router:n}=WC("useSubmit"),{basename:e}=W.useContext(Zi),t=rM();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=gM(r,e);if(i.navigate===!1){let g=i.fetcherKey||LM();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function BM(n,{relative:e}={}){let{basename:t}=W.useContext(Zi),r=W.useContext(es);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ef(n||".",{relative:e})},u=ho();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ks([t,o.pathname])),qd(o)}function FM(n,e={}){let t=W.useContext(UC);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WC("useViewTransitionState"),i=Ef(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Vs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Vs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return tg(i.pathname,u)!=null||tg(i.pathname,o)!=null}new TextEncoder;const jM="_fixed_125j9_5",zM="_header_container_125j9_10",qM="_logo_container_125j9_18",HM="_delivery_125j9_30",$M="_search_125j9_41",GM="_order_container_125j9_75",KM="_language_125j9_89",WM="_cart_125j9_102",QM="_lower_container_125j9_117",Rs={fixed:jM,header_container:zM,logo_container:qM,delivery:HM,search:$M,order_container:GM,language:KM,cart:WM,lower_container:QM};var QC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lI=Ke.createContext&&Ke.createContext(QC),YM=["attr","size","title"];function XM(n,e){if(n==null)return{};var t=JM(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function JM(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ng(){return ng=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ng.apply(this,arguments)}function uI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(t),!0).forEach(function(r){ZM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZM(n,e,t){return e=eL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eL(n){var e=tL(n,"string");return typeof e=="symbol"?e:e+""}function tL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YC(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,rg({key:t},e.attr),YC(e.child)))}function Rc(n){return e=>Ke.createElement(nL,ng({attr:rg({},n.attr)},e),YC(n.child))}function nL(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=XM(n,YM),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:rg(rg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return lI!==void 0?Ke.createElement(lI.Consumer,null,t=>e(t)):e(QC)}function rL(n){return Rc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function iL(n){return Rc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function sL(n){return Rc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function aL(){return z.jsx("div",{className:Rs.lower_container,children:z.jsxs("ul",{children:[z.jsxs("li",{children:[z.jsx(sL,{}),z.jsx("p",{children:"All"})]}),z.jsx("li",{children:"Today's Deals"}),z.jsx("li",{children:"Customer Service"}),z.jsx("li",{children:" Registry"}),z.jsx("li",{children:"Gift Cards"}),z.jsx("li",{children:"Sell"})]})})}function oL(n){return Rc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const qs=W.createContext(),lL=({children:n,reducer:e,initialState:t})=>z.jsx(qs.Provider,{value:W.useReducer(e,t),children:n}),uL=()=>{};var cI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},cL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},JC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new hL;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dL=function(n){const e=XC(n);return JC.encodeByteArray(e,!0)},ig=function(n){return dL(n).replace(/\./g,"")},HE=function(n){try{return JC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!fL(t)||(n[t]=sg(n[t],e[t]));return n}function fL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=()=>ZC().__FIREBASE_DEFAULTS__,mL=()=>{if(typeof process>"u"||typeof cI>"u")return;const n=cI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HE(n[1]);return e&&JSON.parse(e)},Fg=()=>{try{return uL()||pL()||mL()||gL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yL=n=>{var e,t;return(t=(e=Fg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ex=()=>{var n;return(n=Fg())===null||n===void 0?void 0:n.config},tx=n=>{var e;return(e=Fg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ig(JSON.stringify(t)),ig(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function $E(){var n;const e=(n=Fg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bL(){return typeof window<"u"||nx()}function nx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function wL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ix(){const n=Lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sx(){return!$E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hd(){try{return typeof indexedDB=="object"}catch{return!1}}function TL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="FirebaseError";class nr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=SL,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?AL(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new nr(i,h,r)}}function AL(n,e){return n.replace(IL,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function RL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(dI(o)&&dI(u)){if(!Ms(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function dI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ax(n,e){const t=new CL(n,e);return t.subscribe.bind(t)}class CL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Xv),i.error===void 0&&(i.error=Xv),i.complete===void 0&&(i.complete=Xv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n){return n&&n._delegate?n._delegate:n}class Wi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _L;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DL(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OL(n){return n===el?void 0:n}function DL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=[];var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const lx={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},kL=ze.INFO,NL={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},VL=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=NL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=kL,this._logHandler=VL,this._userLogHandler=null,KE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}function ML(n){KE.forEach(e=>{e.setLogLevel(n)})}function LL(n,e){for(const t of KE){let r=null;e&&e.level&&(r=lx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:ze[o].toLowerCase(),message:h,args:u,type:i.name})}}}const UL=(n,e)=>e.some(t=>n instanceof t);let fI,pI;function BL(){return fI||(fI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FL(){return pI||(pI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ux=new WeakMap,N0=new WeakMap,cx=new WeakMap,Jv=new WeakMap,WE=new WeakMap;function jL(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ha(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ux.set(t,n)}).catch(()=>{}),WE.set(e,n),e}function zL(n){if(N0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});N0.set(n,e)}let V0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return N0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ha(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qL(n){V0=n(V0)}function HL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zv(this),e,...t);return cx.set(r,e.sort?e.sort():[e]),Ha(r)}:FL().includes(n)?function(...e){return n.apply(Zv(this),e),Ha(ux.get(this))}:function(...e){return Ha(n.apply(Zv(this),e))}}function $L(n){return typeof n=="function"?HL(n):(n instanceof IDBTransaction&&zL(n),UL(n,BL())?new Proxy(n,V0):n)}function Ha(n){if(n instanceof IDBRequest)return jL(n);if(Jv.has(n))return Jv.get(n);const e=$L(n);return e!==n&&(Jv.set(n,e),WE.set(e,n)),e}const Zv=n=>WE.get(n);function GL(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Ha(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ha(u.result),d.oldVersion,d.newVersion,Ha(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const KL=["get","getKey","getAll","getAllKeys","count"],WL=["put","add","delete","clear"],e0=new Map;function mI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(e0.get(e))return e0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=WL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KL.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return e0.set(e,o),o}qL(n=>({...n,get:(e,t,r)=>mI(e,t)||n.get(e,t,r),has:(e,t)=>!!mI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YL(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function YL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",M0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new jg("@firebase/app"),XL="@firebase/app-compat",JL="@firebase/analytics-compat",ZL="@firebase/analytics",e4="@firebase/app-check-compat",t4="@firebase/app-check",n4="@firebase/auth",r4="@firebase/auth-compat",i4="@firebase/database",s4="@firebase/data-connect",a4="@firebase/database-compat",o4="@firebase/functions",l4="@firebase/functions-compat",u4="@firebase/installations",c4="@firebase/installations-compat",h4="@firebase/messaging",d4="@firebase/messaging-compat",f4="@firebase/performance",p4="@firebase/performance-compat",m4="@firebase/remote-config",g4="@firebase/remote-config-compat",y4="@firebase/storage",_4="@firebase/storage-compat",v4="@firebase/firestore",E4="@firebase/vertexai",b4="@firebase/firestore-compat",w4="firebase",T4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]",S4={[ag]:"fire-core",[XL]:"fire-core-compat",[ZL]:"fire-analytics",[JL]:"fire-analytics-compat",[t4]:"fire-app-check",[e4]:"fire-app-check-compat",[n4]:"fire-auth",[r4]:"fire-auth-compat",[i4]:"fire-rtdb",[s4]:"fire-data-connect",[a4]:"fire-rtdb-compat",[o4]:"fire-fn",[l4]:"fire-fn-compat",[u4]:"fire-iid",[c4]:"fire-iid-compat",[h4]:"fire-fcm",[d4]:"fire-fcm-compat",[f4]:"fire-perf",[p4]:"fire-perf-compat",[m4]:"fire-rc",[g4]:"fire-rc-compat",[y4]:"fire-gcs",[_4]:"fire-gcs-compat",[v4]:"fire-fst",[b4]:"fire-fst-compat",[E4]:"fire-vertex","fire-js":"fire-js",[w4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Map,Ju=new Map,Zu=new Map;function $d(n,e){try{n.container.addComponent(e)}catch(t){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hx(n,e){n.container.addOrOverwriteComponent(e)}function Xa(n){const e=n.name;if(Zu.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Zu.set(e,n);for(const t of Ya.values())$d(t,n);for(const t of Ju.values())$d(t,n);return!0}function zg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function A4(n,e,t=Qa){zg(n,e).clearInstance(t)}function dx(n){return n.options!==void 0}function St(n){return n==null?!1:n.settings!==void 0}function I4(){Zu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Ol("app","Firebase",R4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e){const t=HE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class C4 extends fx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&gI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&gI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ui(ag,M0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){YE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=T4;function QE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(t||(t=ex()),!t)throw Yr.create("no-options");const o=Ya.get(i);if(o){if(Ms(t,o.options)&&Ms(r,o.config))return o;throw Yr.create("duplicate-app",{appName:i})}const u=new ox(i);for(const d of Zu.values())u.addComponent(d);const h=new fx(t,r,u);return Ya.set(i,h),h}function x4(n,e){if(bL()&&!nx())throw Yr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;dx(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Ju.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new ox(o);for(const f of Zu.values())h.addComponent(f);const d=new C4(t,e,o,h);return Ju.set(o,d),d}function px(n=Qa){const e=Ya.get(n);if(!e&&n===Qa&&ex())return QE();if(!e)throw Yr.create("no-app",{appName:n});return e}function P4(){return Array.from(Ya.values())}async function YE(n){let e=!1;const t=n.name;Ya.has(t)?(e=!0,Ya.delete(t)):Ju.has(t)&&n.decRefCount()<=0&&(Ju.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ui(n,e,t){var r;let i=(r=S4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(h.join(" "));return}Xa(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function mx(n,e){if(n!==null&&typeof n!="function")throw Yr.create("invalid-log-argument");LL(n,e)}function gx(n){ML(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebase-heartbeat-database",D4=1,Gd="firebase-heartbeat-store";let t0=null;function yx(){return t0||(t0=GL(O4,D4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yr.create("idb-open",{originalErrorMessage:n.message})})),t0}async function k4(n){try{const t=(await yx()).transaction(Gd),r=await t.objectStore(Gd).get(_x(n));return await t.done,r}catch(e){if(e instanceof nr)Ls.warn(e.message);else{const t=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(t.message)}}}async function yI(n,e){try{const r=(await yx()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,_x(n)),await r.done}catch(t){if(t instanceof nr)Ls.warn(t.message);else{const r=Yr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ls.warn(r.message)}}}function _x(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1024,V4=30;class M4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_I();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>V4){const u=B4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_I(),{heartbeatsToSend:r,unsentEntries:i}=L4(this._heartbeatsCache.heartbeats),o=ig(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ls.warn(t),""}}}function _I(){return new Date().toISOString().substring(0,10)}function L4(n,e=N4){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),vI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hd()?TL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await k4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return yI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return yI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vI(n){return ig(JSON.stringify({version:2,heartbeats:n})).length}function B4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){Xa(new Wi("platform-logger",e=>new QL(e),"PRIVATE")),Xa(new Wi("heartbeat",e=>new M4(e),"PRIVATE")),ui(ag,M0,n),ui(ag,M0,"esm2017"),ui("fire-js","")}F4("");const j4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:nr,SDK_VERSION:fo,_DEFAULT_ENTRY_NAME:Qa,_addComponent:$d,_addOrOverwriteComponent:hx,_apps:Ya,_clearComponents:I4,_components:Zu,_getProvider:zg,_isFirebaseApp:dx,_isFirebaseServerApp:St,_registerComponent:Xa,_removeServiceInstance:A4,_serverApps:Ju,deleteApp:YE,getApp:px,getApps:P4,initializeApp:QE,initializeServerApp:x4,onLog:mx,registerVersion:ui,setLogLevel:gx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this._delegate=e,this.firebase=t,$d(e,new Wi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),YE(this._delegate)))}_getService(e,t=Qa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Qa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){$d(this._delegate,e)}_addOrOverwriteComponent(e){hx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},EI=new Ol("app-compat","Firebase",q4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ui,setLogLevel:gx,onLog:mx,apps:null,SDK_VERSION:fo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:j4}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||Qa,!hI(e,f))throw EI.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=QE(f,g);if(hI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Xa(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw EI.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&sg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){const n=H4(z4);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:vx,extendNamespace:e,createSubscribe:ax,ErrorFactory:Ol,deepExtend:sg});function e(t){sg(n,t)}return n}const $4=vx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new jg("@firebase/app-compat"),G4="@firebase/app-compat",K4="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){ui(G4,K4,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ZC();if(n.firebase!==void 0){bI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&bI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const xc=$4;W4();var Q4="firebase",Y4="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xc.registerVersion(Q4,Y4,"app-compat");function XE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Zh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Su={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J4=X4,Z4=Ex,bx=new Ol("auth","Firebase",Ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new jg("@firebase/auth");function eU(n,...e){og.logLevel<=ze.WARN&&og.warn(`Auth (${fo}): ${n}`,...e)}function Dm(n,...e){og.logLevel<=ze.ERROR&&og.error(`Auth (${fo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n,...e){throw ZE(n,...e)}function yn(n,...e){return ZE(n,...e)}function JE(n,e,t){const r=Object.assign(Object.assign({},Z4()),{[e]:t});return new Ol("auth","Firebase",r).create(e,{appName:n.name})}function Cn(n){return JE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&xn(n,"argument-error"),JE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bx.create(n,...e)}function me(n,e,...t){if(!n)throw ZE(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dm(e),new Error(e)}function ci(n,e){n||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eb(){return wI()==="http:"||wI()==="https:"}function wI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eb()||rx()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=EL()||GE()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new bf(3e4,6e4);function Gt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Kt(n,e,t,r,i={}){return Tx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Cc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return wL()||(f.referrerPolicy="no-referrer"),wx.fetch()(Sx(n,n.config.apiHost,t,h),f)})}async function Tx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rU),e);try{const i=new aU(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw wd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw wd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw wd(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw JE(n,g,f);xn(n,g)}}catch(i){if(i instanceof nr)throw i;xn(n,"network-request-failed",{message:String(i)})}}async function Hs(n,e,t,r,i={}){const o=await Kt(n,e,t,r,i);return"mfaPendingCredential"in o&&xn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function Sx(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?tb(n.config,i):`${n.config.apiScheme}://${i}`}function sU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),iU.get())})}}function wd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){return n!==void 0&&n.getResponse!==void 0}function SI(n){return n!==void 0&&n.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n){return(await Kt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Ix(n,e){return Kt(n,"GET","/v2/recaptchaConfig",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(n,e){return Kt(n,"POST","/v1/accounts:delete",e)}async function uU(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function Rx(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cU(n,e=!1){const t=xe(n),r=await t.getIdToken(e),i=qg(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xd(n0(i.auth_time)),issuedAtTime:xd(n0(i.iat)),expirationTime:xd(n0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function n0(n){return Number(n)*1e3}function qg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dm("JWT malformed, contained fewer than 3 sections"),null;try{const i=HE(t);return i?JSON.parse(i):(Dm("Failed to decode base64 JWT payload"),null)}catch(i){return Dm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AI(n){const e=qg(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nr&&hU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Us(n,Rx(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Cx(o.providerUserInfo):[],h=pU(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new L0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function fU(n){const e=xe(n);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Cx(n){return n.map(e=>{var{providerId:t}=e,r=XE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(n,e){const t=await Tx(n,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=Sx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",wx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gU(n,e){return Kt(n,"POST","/v2/accounts:revokeToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=AI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await mU(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Hu;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=XE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new L0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Us(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cU(this,e)}reload(){return fU(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(St(this.auth.app))return Promise.reject(Cn(this.auth));const e=await this.getIdToken();return await Us(this,lU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:H,isAnonymous:j,providerData:$,stsTokenManager:V}=t;me(U&&V,e,"internal-error");const C=Hu.fromJSON(this.name,V);me(typeof U=="string",e,"internal-error"),Na(_,e.name),Na(v,e.name),me(typeof H=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),Na(T,e.name),Na(w,e.name),Na(I,e.name),Na(x,e.name),Na(L,e.name),Na(M,e.name);const R=new xs({uid:U,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:j,photoURL:w,phoneNumber:T,tenantId:I,stsTokenManager:C,createdAt:L,lastLoginAt:M});return $&&Array.isArray($)&&(R.providerData=$.map(b=>Object.assign({},b))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new Hu;i.updateFromServerResponse(t);const o=new xs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Cx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Hu;h.updateFromIdToken(r);const d=new xs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new L0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Map;function Ar(n){ci(n instanceof Function,"Expected a class definition");let e=II.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,II.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xx.type="NONE";const ec=xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n,e,t){return`firebase:${n}:${e}:${t}`}class $u{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=fl(this.userKey,i.apiKey,o),this.fullPersistenceKey=fl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $u(Ar(ec),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ar(ec);const u=fl(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=xs._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new $u(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new $u(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nx(e))return"Blackberry";if(Vx(e))return"Webos";if(Ox(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(wf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Px(n=Lt()){return/firefox\//i.test(n)}function Ox(n=Lt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(n=Lt()){return/crios\//i.test(n)}function kx(n=Lt()){return/iemobile/i.test(n)}function wf(n=Lt()){return/android/i.test(n)}function Nx(n=Lt()){return/blackberry/i.test(n)}function Vx(n=Lt()){return/webos/i.test(n)}function Tf(n=Lt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yU(n=Lt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function _U(n=Lt()){var e;return Tf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vU(){return ix()&&document.documentMode===10}function Mx(n=Lt()){return Tf(n)||wf(n)||Vx(n)||Nx(n)||/windows phone/i.test(n)||kx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e=[]){let t;switch(n){case"Browser":t=RI(Lt());break;case"Worker":t=`${RI(Lt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(n,e={}){return Kt(n,"GET","/v2/passwordPolicy",Gt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=6;class TU{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:wU,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CI(this),this.idTokenSubscription=new CI(this),this.beforeStateQueue=new EU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rx(this,{idToken:e}),r=await xs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(St(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(St(this.app))return Promise.reject(Cn(this));const t=e?xe(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return St(this.app)?Promise.reject(Cn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return St(this.app)?Promise.reject(Cn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bU(this),t=new TU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ut(n){return xe(n)}class CI{constructor(e){this.auth=e,this.observer=null,this.addObserver=ax(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AU(n){Sf=n}function nb(n){return Sf.loadJS(n)}function IU(){return Sf.recaptchaV2Script}function RU(){return Sf.recaptchaEnterpriseScript}function CU(){return Sf.gapiScript}function Ux(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=500,PU=6e4,pm=1e12;class OU{constructor(e){this.auth=e,this.counter=pm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new NU(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||pm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||pm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||pm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class DU{constructor(){this.enterprise=new kU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class kU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NU{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=VU(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},PU)},xU))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function VU(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const MU="recaptcha-enterprise",Pd="NO_RECAPTCHA";class Bx{constructor(e){this.type=MU,this.auth=Ut(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Ix(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new Ax(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;SI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Pd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DU().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&SI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=RU();d.length!==0&&(d+=h),nb(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function ed(n,e,t,r=!1,i=!1){const o=new Bx(n);let u;if(i)u=Pd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $a(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ed(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ed(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await ed(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await ed(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await ed(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function LU(n){const e=Ut(n),t=await Ix(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ax(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Bx(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n,e){const t=zg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ms(o,e??{}))return i;xn(i,"already-initialized")}return t.initialize({options:e})}function BU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fx(n,e,t){const r=Ut(n);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=jx(e),{host:u,port:h}=FU(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Ms(f,r.config.emulator)&&Ms(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,i||jU()}function jx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FU(n){const e=jx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:xI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:xI(u)}}}function xI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(n,e){return Kt(n,"POST","/v1/accounts:resetPassword",Gt(n,e))}async function zU(n,e){return Kt(n,"POST","/v1/accounts:update",e)}async function qU(n,e){return Kt(n,"POST","/v1/accounts:signUp",e)}async function HU(n,e){return Kt(n,"POST","/v1/accounts:update",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(n,e){return Hs(n,"POST","/v1/accounts:signInWithPassword",Gt(n,e))}async function Hg(n,e){return Kt(n,"POST","/v1/accounts:sendOobCode",Gt(n,e))}async function GU(n,e){return Hg(n,e)}async function KU(n,e){return Hg(n,e)}async function WU(n,e){return Hg(n,e)}async function QU(n,e){return Hg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(n,e){return Hs(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}async function XU(n,e){return Hs(n,"POST","/v1/accounts:signInWithEmailLink",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Oc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Qd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Qd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $a(e,t,"signInWithPassword",$U,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return YU(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $a(e,r,"signUpPassword",qU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XU(e,{idToken:t,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e){return Hs(n,"POST","/v1/accounts:signInWithIdp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="http://localhost";class Qi extends Oc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=XE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Qi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:JU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(n,e){return Kt(n,"POST","/v1/accounts:sendVerificationCode",Gt(n,e))}async function ZU(n,e){return Hs(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e))}async function e5(n,e){const t=await Hs(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,e));if(t.temporaryProof)throw wd(n,"account-exists-with-different-credential",t);return t}const t5={USER_NOT_FOUND:"user-not-found"};async function n5(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Hs(n,"POST","/v1/accounts:signInWithPhoneNumber",Gt(n,t),t5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Oc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ZU(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return e5(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return n5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new pl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i5(n){const e=zu(bd(n)).link,t=e?zu(bd(e)).deep_link_id:null,r=zu(bd(n)).deep_link_id;return(r?zu(bd(r)).link:null)||r||t||e||n}class $g{constructor(e){var t,r,i,o,u,h;const d=zu(bd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=r5((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=i5(e);try{return new $g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,t){return Qd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=$g.parseLink(t);return me(r,"argument-error"),Qd._fromEmailAndCode(e,r.code,r.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gu extends Dc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Gu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new Gu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Dc{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Dc{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="http://localhost";class tc extends Oc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new tc(r,o)}static _create(e,t){return new tc(e,t)}buildRequest(){return{requestUri:s5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="saml.";class lg extends $s{constructor(e){me(e.startsWith(a5),"argument-error"),super(e)}static credentialFromResult(e){return lg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return lg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=tc.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return tc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Dc{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e){return Hs(n,"POST","/v1/accounts:signUp",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await xs._fromIdTokenResponse(e,r,i),u=OI(r);return new Xr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=OI(r);return new Xr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function OI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(n){var e;if(St(n.app))return Promise.reject(Cn(n));const t=Ut(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await qx(t,{returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends nr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ug.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ug(e,t,r,i)}}function Hx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ug._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(n,e){const t=xe(n);await Gg(!0,t,e);const{providerUserInfo:r}=await uU(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=$x(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function rb(n,e,t=!1){const r=await Us(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",r)}async function Gg(n,e,t){await Wd(e);const r=$x(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(n,e,t=!1){const{auth:r}=n;if(St(r.app))return Promise.reject(Cn(r));const i="reauthenticate";try{const o=await Us(n,Hx(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=qg(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),Xr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(n,e,t=!1){if(St(n.app))return Promise.reject(Cn(n));const r="signIn",i=await Hx(n,r,e),o=await Xr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Kg(n,e){return Kx(Ut(n),e)}async function Wx(n,e){const t=xe(n);return await Gg(!1,t,e.providerId),rb(t,e)}async function Qx(n,e){return Gx(xe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(n,e){return Hs(n,"POST","/v1/accounts:signInWithCustomToken",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(n,e){if(St(n.app))return Promise.reject(Cn(n));const t=Ut(n),r=await u5(t,{token:e,returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ib._fromServerResponse(e,t):"totpInfo"in t?sb._fromServerResponse(e,t):xn(e,"internal-error")}}class ib extends Af{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ib(t)}}class sb extends Af{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new sb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(n){const e=Ut(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h5(n,e,t){const r=Ut(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Wg(r,i,t),await $a(r,i,"getOobCode",KU,"EMAIL_PASSWORD_PROVIDER")}async function d5(n,e,t){await zx(xe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ab(n),r})}async function f5(n,e){await HU(xe(n),{oobCode:e})}async function Yx(n,e){const t=xe(n),r=await zx(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Af._fromServerResponse(Ut(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function p5(n,e){const{data:t}=await Yx(xe(n),e);return t.email}async function Xx(n,e,t){if(St(n.app))return Promise.reject(Cn(n));const r=Ut(n),u=await $a(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qx,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ab(n),d}),h=await Xr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Jx(n,e,t){return St(n.app)?Promise.reject(Cn(n)):Kg(xe(n),po.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ab(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(n,e,t){const r=Ut(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&Wg(r,u,h)}o(i,t),await $a(r,i,"getOobCode",WU,"EMAIL_PASSWORD_PROVIDER")}function g5(n,e){const t=$g.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function y5(n,e,t){if(St(n.app))return Promise.reject(Cn(n));const r=xe(n),i=po.credentialWithLink(e,t||Kd());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Kg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(n,e){return Kt(n,"POST","/v1/accounts:createAuthUri",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(n,e){const t=eb()?Kd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await _5(xe(n),r);return i||[]}async function E5(n,e){const t=xe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Wg(t.auth,i,e);const{email:o}=await GU(t.auth,i);o!==n.email&&await n.reload()}async function b5(n,e,t){const r=xe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Wg(r.auth,o,t);const{email:u}=await QU(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(n,e){return Kt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Us(r,w5(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function S5(n,e){const t=xe(n);return St(t.auth.app)?Promise.reject(Cn(t.auth)):Zx(t,e,null)}function A5(n,e){return Zx(xe(n),null,e)}async function Zx(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Us(n,zU(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=qg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Ku(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new R5(o,i);case"github.com":return new C5(o,i);case"google.com":return new x5(o,i);case"twitter.com":return new P5(o,i,n.screenName||null);case"custom":case"anonymous":return new Ku(o,null);default:return new Ku(o,r,i)}}class Ku{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class eP extends Ku{constructor(e,t,r,i){super(e,t,r),this.username=i}}class R5 extends Ku{constructor(e,t){super(e,"facebook.com",t)}}class C5 extends eP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class x5 extends Ku{constructor(e,t){super(e,"google.com",t)}}class P5 extends eP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function O5(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:I5(t)}function D5(n,e,t,r){return xe(n).onIdTokenChanged(e,t,r)}function k5(n,e,t){return xe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ll("enroll",e,t)}static _fromMfaPendingCredential(e){return new ll("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return ll._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ll._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ut(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Af._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=ll._fromMfaPendingCredential(i.mfaPendingCredential);return new ob(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await Xr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),Xr._forOperation(t.user,t.operationType,f);default:xn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function N5(n,e){var t;const r=xe(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),ob._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:start",Gt(n,e))}function V5(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(n,e))}function M5(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(n,e))}class lb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Af._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new lb(e)}async getSession(){return ll._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Us(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Us(this.user,M5(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const r0=new WeakMap;function L5(n){const e=xe(n);return r0.has(e)||r0.set(e,lb._fromUser(e)),r0.get(e)}const cg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=1e3,B5=10;class nP extends tP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);vU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B5):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},U5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nP.type="LOCAL";const Qg=nP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends tP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rP.type="SESSION";const Ja=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await F5(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=If("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return window}function z5(n){on().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}async function q5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $5(){return ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebaseLocalStorageDb",G5=1,hg="firebaseLocalStorage",sP="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xg(n,e){return n.transaction([hg],e?"readwrite":"readonly").objectStore(hg)}function K5(){const n=indexedDB.deleteDatabase(iP);return new Rf(n).toPromise()}function U0(){const n=indexedDB.open(iP,G5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hg,{keyPath:sP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hg)?e(r):(r.close(),await K5(),e(await U0()))})})}async function kI(n,e,t){const r=Xg(n,!0).put({[sP]:e,value:t});return new Rf(r).toPromise()}async function W5(n,e){const t=Xg(n,!1).get(e),r=await new Rf(t).toPromise();return r===void 0?null:r.value}function NI(n,e){const t=Xg(n,!0).delete(e);return new Rf(t).toPromise()}const Q5=800,Y5=3;class aP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Y5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yg._getInstance($5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await q5(),!this.activeServiceWorker)return;this.sender=new j5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U0();return await kI(e,cg,"1"),await NI(e,cg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>kI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>W5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Xg(i,!1).getAll();return new Rf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aP.type="LOCAL";const nc=aP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:start",Gt(n,e))}function X5(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:finalize",Gt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=Ux("rcb"),J5=new bf(3e4,6e4);class Z5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=on().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(eB(t),e,"argument-error"),this.shouldResolveImmediately(t)&&TI(on().grecaptcha)?Promise.resolve(on().grecaptcha):new Promise((r,i)=>{const o=on().setTimeout(()=>{i(yn(e,"network-request-failed"))},J5.get());on()[i0]=()=>{on().clearTimeout(o),delete on()[i0];const h=on().grecaptcha;if(!h||!TI(h)){i(yn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${IU()}?${Cc({onload:i0,render:"explicit",hl:t})}`;nb(u).catch(()=>{clearTimeout(o),i(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=on().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function eB(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class tB{async load(e){return new OU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="recaptcha",nB={theme:"light",type:"image"};let rB=class{constructor(e,t,r=Object.assign({},nB)){this.parameters=r,this.type=Od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tB:new Z5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=on()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(eb()&&!ub(),this.auth,"internal-error"),await iB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await oU(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function iB(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=pl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function sB(n,e,t){if(St(n.app))return Promise.reject(Cn(n));const r=Ut(n),i=await Jg(r,e,xe(t));return new cb(i,o=>Kg(r,o))}async function aB(n,e,t){const r=xe(n);await Gg(!1,r,"phone");const i=await Jg(r.auth,e,xe(t));return new cb(i,o=>Wx(r,o))}async function oB(n,e,t){const r=xe(n);if(St(r.auth.app))return Promise.reject(Cn(r.auth));const i=await Jg(r.auth,e,xe(t));return new cb(i,o=>Qx(r,o))}async function Jg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await LU(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await $a(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Pd){me((t==null?void 0:t.type)===Od,g,"argument-error");const v=await s0(g,_,t);return DI(g,v)}return DI(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await $a(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Pd){me((t==null?void 0:t.type)===Od,_,"argument-error");const T=await s0(_,v,t);return VI(_,T)}return VI(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await $a(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Pd){me((t==null?void 0:t.type)===Od,f,"argument-error");const _=await s0(f,g,t);return PI(f,_)}return PI(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function lB(n,e){const t=xe(n);if(St(t.auth.app))return Promise.reject(Cn(t.auth));await rb(t,e)}async function s0(n,e,t){me(t.type===Od,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l=class km{constructor(e){this.providerId=km.PROVIDER_ID,this.auth=Ut(e)}verifyPhoneNumber(e,t){return Jg(this.auth,e,xe(t))}static credential(e,t){return pl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return km.credentialFromTaggedObject(t)}static credentialFromError(e){return km.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?pl._fromTokenResponse(t,r):null}};_l.PROVIDER_ID="phone";_l.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n,e){return e?Ar(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends Oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uB(n){return Kx(n.auth,new hb(n),n.bypassAuthState)}function cB(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Gx(t,new hb(n),n.bypassAuthState)}async function hB(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),rb(t,new hb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uB;case"linkViaPopup":case"linkViaRedirect":return hB;case"reauthViaPopup":case"reauthViaRedirect":return cB;default:xn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new bf(2e3,1e4);async function fB(n,e,t){if(St(n.app))return Promise.reject(yn(n,"operation-not-supported-in-this-environment"));const r=Ut(n);Pc(n,e,$s);const i=Dl(r,t);return new Ps(r,"signInViaPopup",e,i).executeNotNull()}async function pB(n,e,t){const r=xe(n);if(St(r.auth.app))return Promise.reject(yn(r.auth,"operation-not-supported-in-this-environment"));Pc(r.auth,e,$s);const i=Dl(r.auth,t);return new Ps(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function mB(n,e,t){const r=xe(n);Pc(r.auth,e,$s);const i=Dl(r.auth,t);return new Ps(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ps extends oP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=If();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dB.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="pendingRedirect",Dd=new Map;class yB extends oP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const r=await _B(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _B(n,e){const t=uP(e),r=lP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function db(n,e){return lP(n)._set(uP(e),"true")}function vB(){Dd.clear()}function fb(n,e){Dd.set(n._key(),e)}function lP(n){return Ar(n._redirectPersistence)}function uP(n){return fl(gB,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(n,e,t){return bB(n,e,t)}async function bB(n,e,t){if(St(n.app))return Promise.reject(Cn(n));const r=Ut(n);Pc(n,e,$s),await r._initializationPromise;const i=Dl(r,t);return await db(i,r),i._openRedirect(r,e,"signInViaRedirect")}function wB(n,e,t){return TB(n,e,t)}async function TB(n,e,t){const r=xe(n);if(Pc(r.auth,e,$s),St(r.auth.app))return Promise.reject(Cn(r.auth));await r.auth._initializationPromise;const i=Dl(r.auth,t);await db(i,r.auth);const o=await cP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function SB(n,e,t){return AB(n,e,t)}async function AB(n,e,t){const r=xe(n);Pc(r.auth,e,$s),await r.auth._initializationPromise;const i=Dl(r.auth,t);await Gg(!1,r,e.providerId),await db(i,r.auth);const o=await cP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function IB(n,e){return await Ut(n)._initializationPromise,Zg(n,e,!1)}async function Zg(n,e,t=!1){if(St(n.app))return Promise.reject(Cn(n));const r=Ut(n),i=Dl(r,e),u=await new yB(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function cP(n){const e=If(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=10*60*1e3;class hP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RB&&this.cachedEventUids.clear(),this.cachedEventUids.has(MI(e))}saveEventToCache(e){this.cachedEventUids.add(MI(e)),this.lastProcessedEventTime=Date.now()}}function MI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e={}){return Kt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PB=/^https?/;async function OB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fP(n);for(const t of e)try{if(DB(t))return}catch{}xn(n,"unauthorized-domain")}function DB(n){const e=Kd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!PB.test(t))return!1;if(xB.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new bf(3e4,6e4);function LI(){const n=on().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NB(n){return new Promise((e,t)=>{var r,i,o;function u(){LI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LI(),t(yn(n,"network-request-failed"))},timeout:kB.get()})}if(!((i=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=on().gapi)===null||o===void 0)&&o.load)u();else{const h=Ux("iframefcb");return on()[h]=()=>{gapi.load?u():t(yn(n,"network-request-failed"))},nb(`${CU()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Nm=null,e})}let Nm=null;function VB(n){return Nm=Nm||NB(n),Nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new bf(5e3,15e3),LB="__/auth/iframe",UB="emulator/auth/iframe",BB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jB(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tb(e,UB):`https://${n.config.authDomain}/${LB}`,r={apiKey:e.apiKey,appName:n.name,v:fo},i=FB.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cc(r).slice(1)}`}async function zB(n){const e=await VB(n),t=on().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:jB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=yn(n,"network-request-failed"),h=on().setTimeout(()=>{o(u)},MB.get());function d(){on().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HB=500,$B=600,GB="_blank",KB="http://localhost";class UI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WB(n,e,t,r=HB,i=$B){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},qB),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Lt().toLowerCase();t&&(h=Dx(f)?GB:t),Px(f)&&(e=e||KB,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(_U(f)&&h!=="_self")return QB(e||"",h),new UI(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new UI(_)}function QB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="__/auth/handler",XB="emulator/auth/handler",JB=encodeURIComponent("fac");async function B0(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fo,eventId:i};if(e instanceof $s){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",RL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Dc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${JB}=${encodeURIComponent(d)}`:"";return`${ZB(n)}?${Cc(h).slice(1)}${f}`}function ZB({config:n}){return n.emulator?tb(n,XB):`https://${n.authDomain}/${YB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="webStorageSupport";class eF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=Zg,this._overrideRedirectResult=fb}async _openPopup(e,t,r,i){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await B0(e,t,r,Kd(),i);return WB(e,u,If())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await B0(e,t,r,Kd(),i);return z5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await zB(e),r=new hP(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(a0,{type:a0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[a0];u!==void 0&&t(!!u),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mx()||Ox()||Tf()}}const pP=eF;class tF{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ji("unexpected MultiFactorSessionType")}}}class pb extends tF{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pb(e)}_finalizeEnroll(e,t,r){return V5(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return X5(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mP{constructor(){}static assertion(e){return pb._fromCredential(e)}}mP.FACTOR_ID="phone";var BI="@firebase/auth",FI="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iF(n){Xa(new Wi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(n)},f=new SU(r,i,o,d);return BU(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new Wi("auth-internal",e=>{const t=Ut(e.getProvider("auth").getImmediate());return(r=>new nF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(BI,FI,rF(n)),ui(BI,FI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=5*60,aF=tx("authIdTokenMaxAge")||sF;let jI=null;const oF=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>aF)return;const i=t==null?void 0:t.token;jI!==i&&(jI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lF(n=px()){const e=zg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UU(n,{popupRedirectResolver:pP,persistence:[nc,Qg,Ja]}),r=tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=oF(o.toString());k5(t,u,()=>u(t.currentUser)),D5(t,h=>u(h))}}const i=yL("auth");return i&&Fx(t,`http://${i}`),t}function uF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=yn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",uF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iF("Browser");var zI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ga,gP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function R(){}R.prototype=C.prototype,V.D=C.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(b,P,O){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[P].apply(b,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,C,R){R||(R=0);var b=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)b[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)b[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=V.g[0],R=V.g[1],P=V.g[2];var O=V.g[3],D=C+(O^R&(P^O))+b[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[1]+3905402710&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[2]+606105819&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(O^R&(P^O))+b[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[5]+1200080426&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[6]+2821735955&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(O^R&(P^O))+b[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[9]+2336552879&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[10]+4294925233&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(O^R&(P^O))+b[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[13]+4254626195&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[14]+2792965006&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(P^O&(R^P))+b[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[6]+3225465664&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[11]+643717713&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(R^P))+b[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[10]+38016083&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[15]+3634488961&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(R^P))+b[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[14]+3275163606&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[3]+4107603335&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(R^P))+b[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[2]+4243563512&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[7]+1735328473&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(R^P^O)+b[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[8]+2272392833&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[11]+1839030562&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^O)+b[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[4]+1272893353&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[7]+4139469664&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^O)+b[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[0]+3936430074&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[3]+3572445317&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^O)+b[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[12]+3873151461&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[15]+530742520&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(P^(R|~O))+b[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[7]+1126891415&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[14]+2878612391&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~O))+b[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[3]+2399980690&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[10]+4293915773&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~O))+b[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[15]+4264355552&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[6]+2734768916&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~O))+b[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[11]+3174756917&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[2]+718787259&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+O&4294967295}r.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var R=C-this.blockSize,b=this.B,P=this.h,O=0;O<C;){if(P==0)for(;O<=R;)i(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<C;)if(b[P++]=V.charCodeAt(O++),P==this.blockSize){i(this,b),P=0;break}}else for(;O<C;)if(b[P++]=V[O++],P==this.blockSize){i(this,b),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var R=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=R&255,R/=256;for(this.u(V),V=Array(16),C=R=0;4>C;++C)for(var b=0;32>b;b+=8)V[R++]=this.g[C]>>>b&255;return V};function o(V,C){var R=h;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=C(V)}function u(V,C){this.h=C;for(var R=[],b=!0,P=V.length-1;0<=P;P--){var O=V[P]|0;b&&O==C||(R[P]=O,b=!1)}this.g=R}var h={};function d(V){return-128<=V&&128>V?o(V,function(C){return new u([C|0],0>C?-1:0)}):new u([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return x(f(-V));for(var C=[],R=1,b=0;V>=R;b++)C[b]=V/R|0,R*=4294967296;return new u(C,0)}function g(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return x(g(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(C,8)),b=_,P=0;P<V.length;P+=8){var O=Math.min(8,V.length-P),D=parseInt(V.substring(P,P+O),C);8>O?(O=f(Math.pow(C,O)),b=b.j(O).add(f(D))):(b=b.j(R),b=b.add(f(D)))}return b}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-x(this).m();for(var V=0,C=1,R=0;R<this.g.length;R++){var b=this.i(R);V+=(0<=b?b:4294967296+b)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(w(this))return"0";if(I(this))return"-"+x(this).toString(V);for(var C=f(Math.pow(V,6)),R=this,b="";;){var P=H(R,C).g;R=L(R,P.j(C));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,w(R))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function w(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=L(this,V),I(V)?-1:w(V)?0:1};function x(V){for(var C=V.g.length,R=[],b=0;b<C;b++)R[b]=~V.g[b];return new u(R,~V.h).add(v)}n.abs=function(){return I(this)?x(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0,P=0;P<=C;P++){var O=b+(this.i(P)&65535)+(V.i(P)&65535),D=(O>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);b=D>>>16,O&=65535,D&=65535,R[P]=D<<16|O}return new u(R,R[R.length-1]&-2147483648?-1:0)};function L(V,C){return V.add(x(C))}n.j=function(V){if(w(this)||w(V))return _;if(I(this))return I(V)?x(this).j(x(V)):x(x(this).j(V));if(I(V))return x(this.j(x(V)));if(0>this.l(T)&&0>V.l(T))return f(this.m()*V.m());for(var C=this.g.length+V.g.length,R=[],b=0;b<2*C;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var P=0;P<V.g.length;P++){var O=this.i(b)>>>16,D=this.i(b)&65535,te=V.i(P)>>>16,B=V.i(P)&65535;R[2*b+2*P]+=D*B,M(R,2*b+2*P),R[2*b+2*P+1]+=O*B,M(R,2*b+2*P+1),R[2*b+2*P+1]+=D*te,M(R,2*b+2*P+1),R[2*b+2*P+2]+=O*te,M(R,2*b+2*P+2)}for(b=0;b<C;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=C;b<2*C;b++)R[b]=0;return new u(R,0)};function M(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function U(V,C){this.g=V,this.h=C}function H(V,C){if(w(C))throw Error("division by zero");if(w(V))return new U(_,_);if(I(V))return C=H(x(V),C),new U(x(C.g),x(C.h));if(I(C))return C=H(V,x(C)),new U(x(C.g),C.h);if(30<V.g.length){if(I(V)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,b=C;0>=b.l(V);)R=j(R),b=j(b);var P=$(R,1),O=$(b,1);for(b=$(b,2),R=$(R,2);!w(b);){var D=O.add(b);0>=D.l(V)&&(P=P.add(R),O=D),b=$(b,1),R=$(R,1)}return C=L(V,P.j(C)),new U(P,C)}for(P=_;0<=V.l(C);){for(R=Math.max(1,Math.floor(V.m()/C.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(R),D=O.j(C);I(D)||0<D.l(V);)R-=b,O=f(R),D=O.j(C);w(O)&&(O=v),P=P.add(O),V=L(V,D)}return new U(P,V)}n.A=function(V){return H(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)&V.i(b);return new u(R,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)|V.i(b);return new u(R,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)^V.i(b);return new u(R,this.h^V.h)};function j(V){for(var C=V.g.length+1,R=[],b=0;b<C;b++)R[b]=V.i(b)<<1|V.i(b-1)>>>31;return new u(R,V.h)}function $(V,C){var R=C>>5;C%=32;for(var b=V.g.length-R,P=[],O=0;O<b;O++)P[O]=0<C?V.i(O+R)>>>C|V.i(O+R+1)<<32-C:V.i(O+R);return new u(P,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,Ga=u}).apply(typeof zI<"u"?zI:typeof self<"u"?self:typeof window<"u"?window:{});var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yP,Td,_P,Vm,F0,vP,EP,bP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof mm=="object"&&mm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],N=S[p],E=E(N),E!=N&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,N=!1,Y={next:function(){if(!N&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(N,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(N,ge)}}function I(p){const E=p.length;if(0<E){const S=Array(E);for(let N=0;N<E;N++)S[N]=p[N];return S}return[]}function x(p,E){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Y=p.length||0,re=N.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=N[ge]}else p.push(N)}}class L{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(p){return/^[\s\xa0]*$/.test(p)}function U(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var j=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function $(p,E,S){for(const N in p)E.call(S,p[N],N,p)}function V(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(S in N)p[S]=N[S];for(let re=0;re<R.length;re++)S=R[re],Object.prototype.hasOwnProperty.call(N,S)&&(p[S]=N[S])}}function P(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){h.setTimeout(()=>{throw p},0)}function D(){var p=we;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const N=B.get();N.set(E,S),this.h?this.h.next=N:this.g=N,this.h=N}}var B=new L(()=>new Z,p=>p.reset());class Z{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ae=!1,we=new te,q=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(oe)}};var oe=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){O(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ae=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{H(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:De[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var De={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function bt(p,E,S,N,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!N,this.ha=Y,this.key=++qe,this.da=this.fa=!1}function nt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function vn(p){this.src=p,this.g={},this.h=0}vn.prototype.add=function(p,E,S,N,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=Wt(p,E,N,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new bt(E,this.src,re,!!N,Y),E.fa=S,p.push(E)),E};function Wn(p,E){var S=E.type;if(S in p.g){var N=p.g[S],Y=Array.prototype.indexOf.call(N,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(N,Y,1),re&&(nt(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Wt(p,E,S,N){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==N)return Y}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),di={};function Zr(p,E,S,N,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Zr(p,E[re],S,N,Y);return null}return S=ei(S),p&&p[xt]?p.K(E,S,f(N)?!!N.capture:!1,Y):Eo(p,E,S,!1,N,Y)}function Eo(p,E,S,N,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=Pt(p);if(We||(p[Pr]=We=new vn(p)),S=We.add(E,S,N,ge,re),S.proxy)return S;if(N=Ys(),S.proxy=N,N.src=p,N.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),N,Y);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ys(){function p(S){return E.call(p.src,p.listener,S)}const E=mt;return p}function Xs(p,E,S,N,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)Xs(p,E[re],S,N,Y);else N=f(N)?!!N.capture:!!N,S=ei(S),p&&p[xt]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=Wt(re,S,N,Y),-1<S&&(nt(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=Pt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Wt(E,S,N,Y)),(S=-1<p?E[p]:null)&&fi(S))}function fi(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xt])Wn(E.i,p);else{var S=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(S,N,p.capture):E.detachEvent?E.detachEvent(Fe(S),N):E.addListener&&E.removeListener&&E.removeListener(N),(S=Pt(E))?(Wn(S,p),S.h==0&&(S.src=null,E[Pr]=null)):nt(p)}}}function Fe(p){return p in di?di[p]:di[p]="on"+p}function mt(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,N=p.ha||p.src;p.fa&&fi(p),p=S.call(N,E)}return p}function Pt(p){return p=p[Pr],p instanceof vn?p:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ei(p){return typeof p=="function"?p:(p[hn]||(p[hn]=function(E){return p.handleEvent(E)}),p[hn])}function gt(){be.call(this),this.i=new vn(this),this.M=this,this.F=null}w(gt,be),gt.prototype[xt]=!0,gt.prototype.removeEventListener=function(p,E,S,N){Xs(this,p,E,S,N)};function lt(p,E){var S,N=p.F;if(N)for(S=[];N;N=N.F)S.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(N,p),b(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=Pn(ge,N,!0,E)&&Y}if(ge=E.g=p,Y=Pn(ge,N,!0,E)&&Y,Y=Pn(ge,N,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=Pn(ge,N,!1,E)&&Y}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],N=0;N<S.length;N++)nt(S[N]);delete p.g[E],p.h--}}this.F=null},gt.prototype.K=function(p,E,S,N){return this.i.add(String(p),E,!1,S,N)},gt.prototype.L=function(p,E,S,N){return this.i.add(String(p),E,!0,S,N)};function Pn(p,E,S,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,fn=ge.ha||ge.src;ge.fa&&Wn(p.i,ge),Y=We.call(fn,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function Js(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Gc(p){p.g=Js(()=>{p.g=null,p.i&&(p.i=!1,Gc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Gy extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Gc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(p){be.call(this),this.h=p,this.g={}}w(bo,be);var Zs=[];function Bn(p){$(p.g,function(E,S){this.g.hasOwnProperty(S)&&fi(E)},p),p.g={}}bo.prototype.N=function(){bo.aa.N.call(this),Bn(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kc=h.JSON.stringify,pi=h.JSON.parse,Qn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Wc(){}Wc.prototype.h=null;function Wf(p){return p.h||(p.h=p.i())}function Qf(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ea(){ve.call(this,"d")}w(ea,ve);function ti(){ve.call(this,"c")}w(ti,ve);var Or={},ta=null;function Ll(){return ta=ta||new gt}Or.La="serverreachability";function Qc(p){ve.call(this,Or.La,p)}w(Qc,ve);function na(p){const E=Ll();lt(E,new Qc(E))}Or.STAT_EVENT="statevent";function Ul(p,E){ve.call(this,Or.STAT_EVENT,p),this.stat=E}w(Ul,ve);function Qt(p){const E=Ll();lt(E,new Ul(E,p))}Or.Ma="timingevent";function Yf(p,E){ve.call(this,Or.Ma,p),this.size=E}w(Yf,ve);function ra(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function Xf(p,E,S,N,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),fn=0;fn<We.length;fn++){var Qe=We[fn].split("=");if(1<Qe.length){var wn=Qe[0];Qe=Qe[1];var pn=wn.split("_");ge=2<=pn.length&&pn[1]=="type"?ge+(wn+"="+Qe+"&"):ge+(wn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function Jf(p,E,S,N,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function sa(p,E,S,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+En(p,S)+(N?" "+N:"")})}function gi(p,E){p.info(function(){return"TIMEOUT: "+E})}ia.prototype.info=function(){};function En(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var N=S[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Kc(S)}catch{return E}}var dn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wo;function Bl(){}w(Bl,Wc),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},wo=new Bl;function yi(p,E,S,N){this.j=p,this.i=E,this.l=S,this.R=N||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yc}function Yc(){this.i=null,this.g="",this.h=!1}var aa={},To={};function ni(p,E,S){p.L=1,p.v=Io(Bt(E)),p.m=S,p.P=!0,ns(p,null)}function ns(p,E){p.F=Date.now(),Ot(p),p.A=Bt(p.v);var S=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),ss(S.i,"t",N),p.C=0,S=p.j.J,p.h=new Yc,p.g=dp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new Gy(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Zs[0]=Y.toString()),Y=Zs);for(var re=0;re<Y.length;re++){var ge=Zr(S,Y[re],N||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),na(),Xf(p.i,p.u,p.A,p.l,p.R,p.m)}yi.prototype.ca=function(p){p=p.target;const E=this.M;E&&Mr(p)==3?E.j():this.Y(p)},yi.prototype.Y=function(p){try{if(p==this.g)e:{const pn=Mr(this.g);var E=this.g.Ba();const us=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||ip(this.g)))){this.J||pn!=4||E==7||(E==8||0>=us?na(3):na(2)),Fl(this);var S=this.g.Z();this.X=S;t:if(oa(this)){var N=ip(this.g);p="";var Y=N.length,re=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),fr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(re&&E==Y-1)});N.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,Jf(this.i,this.u,this.A,this.l,this.R,pn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,fn=this.g;if((We=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(We)){var Qe=We;break t}}Qe=null}if(S=Qe)sa(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,S);else{this.o=!1,this.s=3,Qt(12),sr(this),fr(this);break e}}if(this.P){S=!0;let On;for(;!this.J&&this.C<ge.length;)if(On=la(this,ge),On==To){pn==4&&(this.s=4,Qt(14),S=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(On==aa){this.s=4,Qt(15),sa(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else sa(this.i,this.l,On,null),pr(this,On);if(oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||ge.length!=0||this.h.h||(this.s=1,Qt(16),S=!1),this.o=this.o&&S,!S)sa(this.i,this.l,ge,"[Invalid Chunked Response]"),sr(this),fr(this);else if(0<ge.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ko(wn),wn.M=!0,Qt(11))}}else sa(this.i,this.l,ge,null),pr(this,ge);pn==4&&sr(this),this.o&&!this.J&&(pn==4?up(this.j,this):(this.o=!1,Ot(this)))}else Jy(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),sr(this),fr(this)}}}catch{}finally{}};function oa(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function la(p,E){var S=p.C,N=E.indexOf(`
`,S);return N==-1?To:(S=Number(E.substring(S,N)),isNaN(S)?aa:(N+=1,N+S>E.length?To:(E=E.slice(N,N+S),p.C=N+S,E)))}yi.prototype.cancel=function(){this.J=!0,sr(this)};function Ot(p){p.S=Date.now()+p.I,Xc(p,p.I)}function Xc(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ra(v(p.ba,p),E)}function Fl(p){p.B&&(h.clearTimeout(p.B),p.B=null)}yi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(gi(this.i,this.A),this.L!=2&&(na(),Qt(17)),sr(this),this.s=2,fr(this)):Xc(this,this.S-p)};function fr(p){p.j.G==0||p.J||up(p.j,p)}function sr(p){Fl(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Bn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function pr(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||ua(S.h,p))){if(!p.K&&ua(S.h,p)&&S.G==3){try{var N=S.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Yl(S),Wl(S);else break e;lh(S),Qt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=ra(v(S.Za,S),6e3));if(1>=Zf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ls(S,11)}else if((p.K||S.g==p)&&Yl(S),!M(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const wn=Qe[3];wn!=null&&(S.la=wn,S.j.info("VER="+S.la));const pn=Qe[4];pn!=null&&(S.Aa=pn,S.j.info("SVER="+S.Aa));const us=Qe[5];us!=null&&typeof us=="number"&&0<us&&(N=1.5*us,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const On=p.g;if(On){const Si=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var re=N.h;re.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ca(re,re.h),re.h=null))}if(N.D){const ch=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(N.ya=ch,Je(N.I,N.D,ch))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ge=p;if(N.qa=hp(N,N.J?N.ia:null,N.W),ge.K){Dr(N.h,ge);var We=ge,fn=N.L;fn&&(We.I=fn),We.B&&(Fl(We),Ot(We)),N.g=ge}else op(N);0<S.i.length&&Ql(S)}else Qe[0]!="stop"&&Qe[0]!="close"||ls(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ls(S,7):ah(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}na(4)}catch{}}var Ky=class{constructor(p,E){this.g=p,this.map=E}};function Jc(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Zf(p){return p.h?1:p.g?p.g.size:0}function ua(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ca(p,E){p.g?p.g.add(E):p.h=E}function Dr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Jc.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return I(p.i)}function ep(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,N=0;N<S;N++)E.push(p[N]);return E}E=[],S=0;for(N in p)E[S++]=p[N];return E}function Wy(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const N in p)E[S++]=N;return E}}}function So(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Wy(p),N=ep(p),Y=N.length,re=0;re<Y;re++)E.call(void 0,N[re],S&&S[re],p)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jl(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var N=p[S].indexOf("="),Y=null;if(0<=N){var re=p[S].substring(0,N);Y=p[S].substring(N+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function rs(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof rs){this.h=p.h,ha(this,p.j),this.o=p.o,this.g=p.g,Ao(this,p.s),this.l=p.l;var E=p.i,S=new _i;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),zl(this,S),this.m=p.m}else p&&(E=String(p).match(eh))?(this.h=!1,ha(this,E[1]||"",!0),this.o=da(E[2]||""),this.g=da(E[3]||"",!0),Ao(this,E[4]),this.l=da(E[5]||"",!0),zl(this,E[6]||"",!0),this.m=da(E[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}rs.prototype.toString=function(){var p=[],E=this.j;E&&p.push(kr(E,th,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(kr(E,th,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(kr(S,S.charAt(0)=="/"?nh:tp,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",kr(S,Xy)),p.join("")};function Bt(p){return new rs(p)}function ha(p,E,S){p.j=S?da(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Ao(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function zl(p,E,S){E instanceof _i?(p.i=E,rh(p.i,p.h)):(S||(E=kr(E,Yy)),p.i=new _i(E,p.h))}function Je(p,E,S){p.i.set(E,S)}function Io(p){return Je(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function da(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function kr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,Qy),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Qy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var th=/[#\/\?@]/g,tp=/[#\?:]/g,nh=/[#\?]/g,Yy=/[#\?@]/g,Xy=/#/g;function _i(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Nr(p){p.g||(p.g=new Map,p.h=0,p.i&&jl(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=_i.prototype,n.add=function(p,E){Nr(this),this.i=null,p=as(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function ql(p,E){Nr(p),E=as(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function is(p,E){return Nr(p),E=as(p,E),p.g.has(E)}n.forEach=function(p,E){Nr(this),this.g.forEach(function(S,N){S.forEach(function(Y){p.call(E,Y,N,this)},this)},this)},n.na=function(){Nr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let N=0;N<E.length;N++){const Y=p[N];for(let re=0;re<Y.length;re++)S.push(E[N])}return S},n.V=function(p){Nr(this);let E=[];if(typeof p=="string")is(this,p)&&(E=E.concat(this.g.get(as(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Nr(this),this.i=null,p=as(this,p),is(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function ss(p,E,S){ql(p,E),0<S.length&&(p.i=null,p.g.set(as(p,E),I(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var N=E[S];const re=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Y=re;ge[N]!==""&&(Y+="="+encodeURIComponent(String(ge[N]))),p.push(Y)}}return this.i=p.join("&")};function as(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function rh(p,E){E&&!p.j&&(Nr(p),p.i=null,p.g.forEach(function(S,N){var Y=N.toLowerCase();N!=Y&&(ql(this,N),ss(this,Y,S))},p)),p.j=E}function np(p,E){const S=new ia;if(h.Image){const N=new Image;N.onload=T(Vr,S,"TestLoadImage: loaded",!0,E,N),N.onerror=T(Vr,S,"TestLoadImage: error",!1,E,N),N.onabort=T(Vr,S,"TestLoadImage: abort",!1,E,N),N.ontimeout=T(Vr,S,"TestLoadImage: timeout",!1,E,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function Ro(p,E){const S=new ia,N=new AbortController,Y=setTimeout(()=>{N.abort(),Vr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(re=>{clearTimeout(Y),re.ok?Vr(S,"TestPingServer: ok",!0,E):Vr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Vr(S,"TestPingServer: error",!1,E)})}function Vr(p,E,S,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(S)}catch{}}function Co(){this.g=new Qn}function vi(p,E,S){const N=S||"";try{So(p,function(Y,re){let ge=Y;f(Y)&&(ge=Kc(Y)),E.push(N+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(N+"type="+encodeURIComponent("_badmap")),Y}}function fa(p){this.l=p.Ub||null,this.j=p.eb||!1}w(fa,Wc),fa.prototype.g=function(){return new os(this.l,this.j)},fa.prototype.i=function(p){return function(){return p}}({});function os(p,E){gt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(os,gt),n=os.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,bi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ih(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function ih(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ei(this):bi(this),this.readyState==3&&ih(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ei(this))},n.Qa=function(p){this.g&&(this.response=p,Ei(this))},n.ga=function(){this.g&&Ei(this)};function Ei(p){p.readyState=4,p.l=null,p.j=null,p.v=null,bi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function bi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function sh(p){let E="";return $(p,function(S,N){E+=N,E+=":",E+=S,E+=`\r
`}),E}function bn(p,E,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=sh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Je(p,E,S))}function st(p){gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,gt);var Hl=/^https?$/i,xo=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wo.g(),this.v=this.o?Wf(this.o):Wf(wo),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){rp(this,re);return}if(p=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)S.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())S.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(xo,E,void 0))||N||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){rp(this,re)}};function rp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,$l(p),wi(p)}function $l(p){p.A||(p.A=!0,lt(p,"complete"),lt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,lt(this,"complete"),lt(this,"abort"),wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},n.bb=function(){Gl(this)};function Gl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Mr(p)!=4||p.Z()!=2)){if(p.u&&Mr(p)==4)Js(p.Ea,0,p);else if(lt(p,"readystatechange"),Mr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var N;if(N=ge===0){var Y=String(p.D).match(eh)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),N=!Hl.test(Y?Y.toLowerCase():"")}S=N}if(S)lt(p,"complete"),lt(p,"success");else{p.m=6;try{var re=2<Mr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",$l(p)}}finally{wi(p)}}}}function wi(p,E){if(p.g){Po(p);const S=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||lt(p,"ready");try{S.onreadystatechange=N}catch{}}}function Po(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Mr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),pi(E)}};function ip(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Jy(p){const E={};p=(p.g&&2<=Mr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(M(p[N]))continue;var S=P(p[N]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}V(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Kl(p){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,p),this.cb=Oo("retryDelaySeedMs",1e4,p),this.Wa=Oo("forwardChannelMaxRetries",2,p),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Jc(p&&p.concurrentRequestLimit),this.Da=new Co,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Kl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,N){Qt(0),this.W=p,this.H=E||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=hp(this,null,this.W),Ql(this)};function ah(p){if(sp(p),p.G==3){var E=p.U++,S=Bt(p.I);if(Je(S,"SID",p.K),Je(S,"RID",E),Je(S,"TYPE","terminate"),Do(p,S),E=new yi(p,p.j,E),E.L=2,E.v=Io(Bt(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=dp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Ot(E)}cp(p)}function Wl(p){p.g&&(ko(p),p.g.cancel(),p.g=null)}function sp(p){Wl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Yl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Ql(p){if(!Zc(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||q(),ae||(ie(),ae=!0),we.add(E,p),p.B=0}}function Zy(p,E){return Zf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ra(v(p.Ga,p,E),uh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new yi(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=ap(this,Y,E),S=Bt(this.I),Je(S,"RID",p),Je(S,"CVER",22),this.D&&Je(S,"X-HTTP-Session-Id",this.D),Do(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(sh(re)))+"&"+E:this.m&&bn(S,this.m,re)),ca(this.h,Y),this.Ua&&Je(S,"TYPE","init"),this.P?(Je(S,"$req",E),Je(S,"SID","null"),Y.T=!0,ni(Y,S,null)):ni(Y,S,E),this.G=2}}else this.G==3&&(p?oh(this,p):this.i.length==0||Zc(this.h)||oh(this))};function oh(p,E){var S;E?S=E.l:S=p.U++;const N=Bt(p.I);Je(N,"SID",p.K),Je(N,"RID",S),Je(N,"AID",p.T),Do(p,N),p.m&&p.o&&bn(N,p.m,p.o),S=new yi(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ap(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ca(p.h,S),ni(S,N,E)}function Do(p,E){p.H&&$(p.H,function(S,N){Je(E,N,S)}),p.l&&So({},function(S,N){Je(E,N,S)})}function ap(p,E,S){S=Math.min(p.i.length,S);var N=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let fn=0;fn<S;fn++){let Qe=Y[fn].g;const wn=Y[fn].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[fn].g-100),We=!1;else try{vi(wn,ge,"req"+Qe+"_")}catch{N&&N(wn)}}if(We){N=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,N}function op(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||q(),ae||(ie(),ae=!0),we.add(E,p),p.v=0}}function lh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ra(v(p.Fa,p),uh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,lp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ra(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Wl(this),lp(this))};function ko(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function lp(p){p.g=new yi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Bt(p.qa);Je(E,"RID","rpc"),Je(E,"SID",p.K),Je(E,"AID",p.T),Je(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Je(E,"TO",p.ja),Je(E,"TYPE","xmlhttp"),Do(p,E),p.m&&p.o&&bn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Io(Bt(E)),S.m=null,S.P=!0,ns(S,p)}n.Za=function(){this.C!=null&&(this.C=null,Wl(this),lh(this),Qt(19))};function Yl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function up(p,E){var S=null;if(p.g==E){Yl(p),ko(p),p.g=null;var N=2}else if(ua(p.h,E))S=E.D,Dr(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;N=Ll(),lt(N,new Yf(N,S)),Ql(p)}else op(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(N==1&&Zy(p,E)||N==2&&lh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:ls(p,5);break;case 4:ls(p,10);break;case 3:ls(p,6);break;default:ls(p,2)}}}function uh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function ls(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),N=p.Xa;const Y=!N;N=new rs(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ha(N,"https"),Io(N),Y?np(N.toString(),S):Ro(N.toString(),S)}else Qt(2);p.G=0,p.l&&p.l.sa(E),cp(p),sp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function cp(p){if(p.G=0,p.ka=[],p.l){const E=Yn(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function hp(p,E,S){var N=S instanceof rs?Bt(S):new rs(S);if(N.g!="")E&&(N.g=E+"."+N.g),Ao(N,N.s);else{var Y=h.location;N=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new rs(null);N&&ha(re,N),E&&(re.g=E),Y&&Ao(re,Y),S&&(re.l=S),N=re}return S=p.D,E=p.ya,S&&E&&Je(N,S,E),Je(N,"VER",p.la),Do(p,N),N}function dp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new fa({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fp(){}n=fp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xl(){}Xl.prototype.g=function(p,E){return new Xn(p,E)};function Xn(p,E){gt.call(this),this.g=new Kl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!M(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Ti(this)}w(Xn,gt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){ah(this.g)},Xn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Kc(p),p=S);E.i.push(new Ky(E.Ya++,p)),E.G==3&&Ql(E)},Xn.prototype.N=function(){this.g.l=null,delete this.j,ah(this.g),delete this.g,Xn.aa.N.call(this)};function pp(p){ea.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(pp,ea);function mp(){ti.call(this),this.status=1}w(mp,ti);function Ti(p){this.g=p}w(Ti,fp),Ti.prototype.ua=function(){lt(this.g,"a")},Ti.prototype.ta=function(p){lt(this.g,new pp(p))},Ti.prototype.sa=function(p){lt(this.g,new mp)},Ti.prototype.ra=function(){lt(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,bP=function(){return new Xl},EP=function(){return Ll()},vP=Or,F0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,Vm=dn,ts.COMPLETE="complete",_P=ts,Qf.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Td=Qf,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,yP=st}).apply(typeof mm<"u"?mm:typeof self<"u"?self:typeof window<"u"?window:{});const qI="@firebase/firestore",HI="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new jg("@firebase/firestore");function Mu(){return Za.logLevel}function cF(n){Za.setLogLevel(n)}function pe(n,...e){if(Za.logLevel<=ze.DEBUG){const t=e.map(mb);Za.debug(`Firestore (${kc}): ${n}`,...t)}}function Xt(n,...e){if(Za.logLevel<=ze.ERROR){const t=e.map(mb);Za.error(`Firestore (${kc}): ${n}`,...t)}}function Yi(n,...e){if(Za.logLevel<=ze.WARN){const t=e.map(mb);Za.warn(`Firestore (${kc}): ${n}`,...t)}}function mb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+n;throw Xt(e),new Error(e)}function Ae(n,e){n||Te()}function hF(n,e){n||Te()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class fF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pF{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Un,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Un)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new wP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Rn(e)}}class mF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new mF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,St(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $I(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new $I(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_F(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function rc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function SP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=-62135596800,KI=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*KI);return new Rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GI)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KI}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Rt(0,0))}static max(){return new Re(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="__name__";class Di{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Di.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Di.isNumericId(e),i=Di.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class He extends Di{construct(e,t,r){return new He(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new He(t)}static emptyPath(){return new He([])}}const vF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Di{construct(e,t,r){return new At(e,t,r)}static isValidIdentifier(e){return vF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WI}static keyField(){return new At([WI])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(t)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(He.fromString(e))}static fromName(e){return new _e(He.fromString(e).popFirst(5))}static empty(){return new _e(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new He(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;class dg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function j0(n){return n.fields.find(e=>e.kind===2)}function tl(n){return n.fields.filter(e=>e.kind!==2)}dg.UNKNOWN_ID=-1;class Mm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yd(0,xr.min())}}function AP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new Rt(t+1,0):new Rt(t,r));return new xr(i,_e.empty(),e)}function IP(n){return new xr(n.readTime,n.key,ic)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(Re.min(),_e.empty(),ic)}static max(){return new xr(Re.max(),_e.empty(),ic)}}function gb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==RP)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="SimpleDb";class ey{static open(e,t,r,i){try{return new ey(t,e.transaction(i,r))}catch(o){throw new kd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Un,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new kd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=yb(r.target.error);this.m.reject(new kd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(wr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bF(t)}}class Hi{static delete(e){return pe(wr,"Removing database:",e),rl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Hd())return!1;if(Hi.v())return!0;const e=Lt(),t=Hi.C(e),r=0<t&&t<10,i=xP(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Hi.C(Lt())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(wr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new kd(e,u))},i.onupgradeneeded=o=>{pe(wr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(wr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=ey.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(wr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class EF{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return rl(this.q.delete())}}class kd extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function go(n){return n.name==="IndexedDbTransactionError"}class bF{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(wr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(wr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rl(r)}add(e){return pe(wr,"ADD",this.store.name,e,e),rl(this.store.add(e))}get(e){return rl(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(wr,"GET",this.store.name,e,t),t))}delete(e){return pe(wr,"DELETE",this.store.name,e),rl(this.store.delete(e))}count(){return pe(wr,"COUNT",this.store.name),rl(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(wr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=yb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new EF(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rl(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=yb(r.target.error);t(i)}})}let QI=!1;function yb(n){const e=Hi.C(Lt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QI||(QI=!0,setTimeout(()=>{throw r},0)),r}}return n}const Nd="IndexBackfiller";class wF{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Nd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Nd,`Documents written: ${t}`)}catch(t){go(t)?pe(Nd,"Ignoring IndexedDB error during index backfill: ",t):await mo(t)}await this.te(6e4)})}}class TF{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Nd,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(Nd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=IP(o);gb(u,r)>0&&(r=u)}),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=-1;function Cf(n){return n==null}function Xd(n){return n===0&&1/n==-1/0}function PP(n){return typeof n=="number"&&Number.isInteger(n)&&!Xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="";function Gn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YI(e)),e=SF(n.get(t),e);return YI(e)}function SF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case fg:t+="";break;default:t+=o}}return t}function YI(n){return n+fg+""}function zi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===fg&&n.charAt(1)===""),He.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(fg,o);switch((u<0||u>t)&&Te(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:Te()}o=u+2}return new He(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="remoteDocuments",xf="owner",Au="owner",Jd="mutationQueues",AF="userId",li="mutations",XI="batchId",ul="userMutationsIndex",JI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n,e){return[n,Gn(e)]}function OP(n,e,t){return[n,Gn(e),t]}const IF={},sc="documentMutations",pg="remoteDocumentsV14",RF=["prefixPath","collectionGroup","readTime","documentId"],Um="documentKeyIndex",CF=["prefixPath","collectionGroup","documentId"],DP="collectionGroupIndex",xF=["collectionGroup","readTime","prefixPath","documentId"],Zd="remoteDocumentGlobal",z0="remoteDocumentGlobalKey",ac="targets",kP="queryTargetsIndex",PF=["canonicalId","targetId"],oc="targetDocuments",OF=["targetId","path"],_b="documentTargetsIndex",DF=["path","targetId"],mg="targetGlobalKey",ml="targetGlobal",ef="collectionParents",kF=["collectionId","parent"],lc="clientMetadata",NF="clientId",ty="bundles",VF="bundleId",ny="namedQueries",MF="name",vb="indexConfiguration",LF="indexId",q0="collectionGroupIndex",UF="collectionGroup",gg="indexState",BF=["indexId","uid"],NP="sequenceNumberIndex",FF=["uid","sequenceNumber"],yg="indexEntries",jF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VP="documentKeyIndex",zF=["indexId","uid","orderedDocumentKey"],ry="documentOverlays",qF=["userId","collectionPath","documentId"],H0="collectionPathOverlayIndex",HF=["userId","collectionPath","largestBatchId"],MP="collectionGroupOverlayIndex",$F=["userId","collectionGroup","largestBatchId"],Eb="globals",GF="name",LP=[Jd,li,sc,nl,ac,xf,ml,oc,lc,Zd,ef,ty,ny],KF=[...LP,ry],UP=[Jd,li,sc,pg,ac,xf,ml,oc,lc,Zd,ef,ty,ny,ry],BP=UP,bb=[...BP,vb,gg,yg],WF=bb,QF=[...bb,Eb];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends CP{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function _n(n,e){const t=Ee(n);return Hi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gm(this.root,e,this.comparator,!0)}}class gm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=o??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Vn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eR(this.data.getIterator())}getIteratorFrom(e){return new eR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ot(this.comparator);return t.data=e,t}}class eR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Iu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new ur([])}unionWith(e){let t=new ot(At.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jP("Invalid base64 string: "+o):o}}(e);return new $t(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const XF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=XF.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="server_timestamp",qP="__type__",HP="__previous_value__",$P="__local_write_time__";function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qP])===null||t===void 0?void 0:t.stringValue)===zP}function sy(n){const e=n.mapValue.fields[HP];return iy(e)?sy(e):e}function tf(n){const e=Bs(n.mapValue.fields[$P].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const G0="(default)";class eo{constructor(e,t){this.projectId=e,this.database=t||G0}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===G0}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__type__",GP="__max__",ja={mapValue:{fields:{__type__:{stringValue:GP}}}},Tb="__vector__",uc="value",Bm={nullValue:"NULL_VALUE"};function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:KP(n)?9007199254740991:ay(n)?10:11:Te()}function Xi(n,e){if(n===e)return!0;const t=to(n);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tf(n).isEqual(tf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Bs(i.timestampValue),h=Bs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Fs(i.bytesValue).isEqual(Fs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Tt(i.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tt(i.integerValue)===Tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Tt(i.doubleValue),h=Tt(o.doubleValue);return u===h?Xd(u)===Xd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return rc(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(ZI(u)!==ZI(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Xi(u[d],h[d])))return!1;return!0}(n,e);default:return Te()}}function nf(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function no(n,e){if(n===e)return 0;const t=to(n),r=to(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Tt(o.integerValue||o.doubleValue),d=Tt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return tR(n.timestampValue,e.timestampValue);case 4:return tR(tf(n),tf(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Fs(o),d=Fs(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=ke(h[f],d[f]);if(g!==0)return g}return ke(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=ke(Tt(o.latitude),Tt(u.latitude));return h!==0?h:ke(Tt(o.longitude),Tt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},T=(h=_[uc])===null||h===void 0?void 0:h.arrayValue,w=(d=v[uc])===null||d===void 0?void 0:d.arrayValue,I=ke(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:nR(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===ja.mapValue&&u===ja.mapValue)return 0;if(o===ja.mapValue)return 1;if(u===ja.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=ke(d[_],g[_]);if(v!==0)return v;const T=no(h[d[_]],f[g[_]]);if(T!==0)return T}return ke(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Te()}}function tR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Bs(n),r=Bs(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function nR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=no(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function cc(n){return K0(n)}function K0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=K0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${K0(t.fields[u])}`;return i+"}"}(n.mapValue):Te()}function Fm(n){switch(to(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sy(n);return e?16+Fm(e):16;case 5:return 2*n.stringValue.length;case 6:return Fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return yo(r.fields,(o,u)=>{i+=o.length+Fm(u)}),i}(n.mapValue);default:throw Te()}}function vl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function W0(n){return!!n&&"integerValue"in n}function rf(n){return!!n&&"arrayValue"in n}function rR(n){return!!n&&"nullValue"in n}function iR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function ay(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wb])===null||t===void 0?void 0:t.stringValue)===Tb}function Vd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GP}const WP={mapValue:{fields:{[wb]:{stringValue:Tb},[uc]:{arrayValue:{}}}}};function ZF(n){return"nullValue"in n?Bm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vl(eo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ay(n)?WP:{mapValue:{}}:Te()}function e3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vl(eo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?WP:"mapValue"in n?ay(n)?{mapValue:{}}:ja:Te()}function sR(n,e){const t=no(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function aR(n,e){const t=no(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(t)}setAll(e){let t=At.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Vd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ln(Vd(this.value))}}function QP(n){const e=[];return yo(n.fields,(t,r)=>{const i=new At([t]);if(jm(r)){const o=QP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Et(e,0,Re.min(),Re.min(),Re.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,i){return new Et(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new Et(e,2,t,Re.min(),Re.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Et(e,3,t,Re.min(),Re.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.position=e,this.inclusive=t}}function oR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=no(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function t3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{}class $e extends YP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new n3(e,t,r):t==="array-contains"?new s3(e,r):t==="in"?new nO(e,r):t==="not-in"?new a3(e,r):t==="array-contains-any"?new o3(e,r):new $e(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new r3(e,r):new i3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(no(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(no(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends YP{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new at(e,t)}matches(e){return hc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hc(n){return n.op==="and"}function Q0(n){return n.op==="or"}function Sb(n){return XP(n)&&hc(n)}function XP(n){for(const e of n.filters)if(e instanceof at)return!1;return!0}function Y0(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(Sb(n))return n.filters.map(e=>Y0(e)).join(",");{const e=n.filters.map(t=>Y0(t)).join(",");return`${n.op}(${e})`}}function JP(n,e){return n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Xi(r.value,i.value)}(n,e):n instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&JP(u,i.filters[h]),!0):!1}(n,e):void Te()}function ZP(n,e){const t=n.filters.concat(e);return at.create(t,n.op)}function eO(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`}(n):n instanceof at?function(t){return t.op.toString()+" {"+t.getFilters().map(eO).join(" ,")+"}"}(n):"Filter"}class n3 extends $e{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class r3 extends $e{constructor(e,t){super(e,"in",t),this.keys=tO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i3 extends $e{constructor(e,t){super(e,"not-in",t),this.keys=tO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class s3 extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rf(t)&&nf(t.arrayValue,this.value)}}class nO extends $e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nf(this.value.arrayValue,t)}}class a3 extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nf(this.value.arrayValue,t)}}class o3 extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function X0(n,e=null,t=[],r=[],i=null,o=null,u=null){return new l3(n,e,t,r,i,o,u)}function El(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Y0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.le=t}return e.le}function Pf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lR(n.startAt,e.startAt)&&lR(n.endAt,e.endAt)}function _g(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function vg(n,e){return n.filters.filter(t=>t instanceof $e&&t.field.isEqual(e))}function uR(n,e,t){let r=Bm,i=!0;for(const o of vg(n,e)){let u=Bm,h=!0;switch(o.op){case"<":case"<=":u=ZF(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Bm}sR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];sR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function cR(n,e,t){let r=ja,i=!0;for(const o of vg(n,e)){let u=ja,h=!0;switch(o.op){case">=":case">":u=e3(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=ja}aR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];aR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rO(n,e,t,r,i,o,u,h){return new Gs(n,e,t,r,i,o,u,h)}function Nc(n){return new Gs(n)}function hR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ab(n){return n.collectionGroup!==null}function Wu(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ot(At.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new sf(o,r))}),t.has(At.keyField().canonicalString())||e.he.push(new sf(At.keyField(),r))}return e.he}function rr(n){const e=Ee(n);return e.Pe||(e.Pe=u3(e,Wu(n))),e.Pe}function u3(n,e){if(n.limitType==="F")return X0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new sf(i.field,o)});const t=n.endAt?new ro(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ro(n.startAt.position,n.startAt.inclusive):null;return X0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function J0(n,e){const t=n.filters.concat([e]);return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Eg(n,e,t){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return Pf(rr(n),rr(e))&&n.limitType===e.limitType}function iO(n){return`${El(rr(n))}|lt:${n.limitType}`}function Lu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>eO(i)).join(", ")}]`),Cf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cc(i)).join(",")),`Target(${r})`}(rr(n))}; limitType=${n.limitType})`}function Df(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Wu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=oR(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,Wu(r),i)||r.endAt&&!function(u,h,d){const f=oR(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,Wu(r),i))}(n,e)}function sO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aO(n){return(e,t)=>{let r=!1;for(const i of Wu(n)){const o=c3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function c3(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?no(d,f):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return FP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new vt(_e.comparator);function cr(){return h3}const oO=new vt(_e.comparator);function Sd(...n){let e=oO;for(const t of n)e=e.insert(t.key,t);return e}function lO(n){let e=oO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Md()}function uO(){return Md()}function Md(){return new Ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const d3=new vt(_e.comparator),f3=new ot(_e.comparator);function Me(...n){let e=f3;for(const t of n)e=e.add(t);return e}const p3=new ot(ke);function Ib(){return p3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function cO(n){return{integerValue:""+n}}function hO(n,e){return PP(e)?cO(e):Rb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this._=void 0}}function m3(n,e,t){return n instanceof dc?function(i,o){const u={fields:{[qP]:{stringValue:zP},[$P]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&iy(o)&&(o=sy(o)),o&&(u.fields[HP]=o),{mapValue:u}}(t,e):n instanceof bl?fO(n,e):n instanceof wl?pO(n,e):function(i,o){const u=dO(i,o),h=dR(u)+dR(i.Ie);return W0(u)&&W0(i.Ie)?cO(h):Rb(i.serializer,h)}(n,e)}function g3(n,e,t){return n instanceof bl?fO(n,e):n instanceof wl?pO(n,e):t}function dO(n,e){return n instanceof fc?function(r){return W0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dc extends oy{}class bl extends oy{constructor(e){super(),this.elements=e}}function fO(n,e){const t=mO(e);for(const r of n.elements)t.some(i=>Xi(i,r))||t.push(r);return{arrayValue:{values:t}}}class wl extends oy{constructor(e){super(),this.elements=e}}function pO(n,e){let t=mO(e);for(const r of n.elements)t=t.filter(i=>!Xi(i,r));return{arrayValue:{values:t}}}class fc extends oy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function dR(n){return Tt(n.integerValue||n.doubleValue)}function mO(n){return rf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.field=e,this.transform=t}}function y3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof bl&&i instanceof bl||r instanceof wl&&i instanceof wl?rc(r.elements,i.elements,Xi):r instanceof fc&&i instanceof fc?Xi(r.Ie,i.Ie):r instanceof dc&&i instanceof dc}(n.transform,e.transform)}class _3{constructor(e,t){this.version=e,this.transformResults=t}}class It{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ly{}function gO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mc(n.key,It.none()):new Vc(n.key,n.data,It.none());{const t=n.data,r=Ln.empty();let i=new ot(At.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ws(n.key,r,new ur(i.toArray()),It.none())}}function v3(n,e,t){n instanceof Vc?function(i,o,u){const h=i.value.clone(),d=pR(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ws?function(i,o,u){if(!zm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=pR(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(yO(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ld(n,e,t,r){return n instanceof Vc?function(o,u,h,d){if(!zm(o.precondition,u))return h;const f=o.value.clone(),g=mR(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ws?function(o,u,h,d){if(!zm(o.precondition,u))return h;const f=mR(o.fieldTransforms,d,u),g=u.data;return g.setAll(yO(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return zm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function E3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=dO(r.transform,i||null);o!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,o))}return t||null}function fR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rc(r,i,(o,u)=>y3(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vc extends ly{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends ly{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pR(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,g3(u,h,t[i]))}return r}function mR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,m3(o,u,e))}return r}class Mc extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&v3(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ld(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ld(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=gO(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(t,r)=>fR(t,r))&&rc(this.baseMutations,e.baseMutations,(t,r)=>fR(t,r))}}class Pb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return d3}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Pb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Xe;function _O(n){switch(n){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function vO(n){if(n===void 0)return Xt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case an.OK:return ne.OK;case an.CANCELLED:return ne.CANCELLED;case an.UNKNOWN:return ne.UNKNOWN;case an.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case an.INTERNAL:return ne.INTERNAL;case an.UNAVAILABLE:return ne.UNAVAILABLE;case an.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case an.NOT_FOUND:return ne.NOT_FOUND;case an.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case an.ABORTED:return ne.ABORTED;case an.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case an.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Xe=an||(an={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Ga([4294967295,4294967295],0);function gR(n){const e=EO().encode(n),t=new gP;return t.update(e),new Uint8Array(t.digest())}function yR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ga([t,r],0),new Ga([i,o],0)]}class Db{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ad(`Invalid padding: ${t}`);if(r<0)throw new Ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ad(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ad(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ga.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ga.fromNumber(r)));return i.compare(w3)===1&&(i=new Ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=gR(e),[r,i]=yR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Db(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=gR(e),[r,i]=yR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nf(Re.min(),i,new vt(ke),cr(),Me())}}class Vf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vf(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class bO{constructor(e,t){this.targetId=e,this.ge=t}}class wO{constructor(e,t,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _R{constructor(){this.pe=0,this.ye=vR(),this.we=$t.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Vf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=vR()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class T3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=ym(),this.Ke=ym(),this.Ue=new vt(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(_g(o))if(r===0){const u=new _e(o.path);this.ze(t,u,Et.newNoDocument(u,Re.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Fs(r).toUint8Array()}catch(d){if(d instanceof jP)return Yi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Db(u,i,o)}catch(d){return Yi(d instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&_g(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,Et.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Nf(e,t,this.Ue,this.Qe,r);return this.Qe=cr(),this.$e=ym(),this.Ke=ym(),this.Ue=new vt(ke),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new _R,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ot(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ot(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _R),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ym(){return new vt(_e.comparator)}function vR(){return new vt(_e.comparator)}const S3={asc:"ASCENDING",desc:"DESCENDING"},A3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"};class R3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Z0(n,e){return n.useProto3Json||Cf(e)?e:{value:e}}function pc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C3(n,e){return pc(n,e.toTimestamp())}function Jt(n){return Ae(!!n),Re.fromTimestamp(function(t){const r=Bs(t);return new Rt(r.seconds,r.nanos)}(n))}function kb(n,e){return eE(n,e).canonicalString()}function eE(n,e){const t=function(i){return new He(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function SO(n){const e=He.fromString(n);return Ae(NO(e)),e}function af(n,e){return kb(n.databaseId,e.path)}function $i(n,e){const t=SO(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(RO(t))}function AO(n,e){return kb(n.databaseId,e)}function IO(n){const e=SO(n);return e.length===4?He.emptyPath():RO(e)}function tE(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RO(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ER(n,e,t){return{name:af(n,e),fields:t.value.mapValue.fields}}function CO(n,e,t){const r=$i(n,e.name),i=Jt(e.updateTime),o=e.createTime?Jt(e.createTime):Re.min(),u=new Ln({mapValue:{fields:e.fields}}),h=Et.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function x3(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=$i(r,i.found.name),u=Jt(i.found.updateTime),h=i.found.createTime?Jt(i.found.createTime):Re.min(),d=new Ln({mapValue:{fields:i.found.fields}});return Et.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=$i(r,i.missing),u=Jt(i.readTime);return Et.newNoDocument(o,u)}(n,e):Te()}function P3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),$t.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),$t.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:vO(f.code);return new de(g,f.message||"")}(u);t=new wO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$i(n,r.document.name),o=Jt(r.document.updateTime),u=r.document.createTime?Jt(r.document.createTime):Re.min(),h=new Ln({mapValue:{fields:r.document.fields}}),d=Et.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new qm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$i(n,r.document),o=r.readTime?Jt(r.readTime):Re.min(),u=Et.newNoDocument(i,o),h=r.removedTargetIds||[];t=new qm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$i(n,r.document),o=r.removedTargetIds||[];t=new qm([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new b3(i,o),h=r.targetId;t=new bO(h,u)}}return t}function of(n,e){let t;if(e instanceof Vc)t={update:ER(n,e.key,e.value)};else if(e instanceof Mc)t={delete:af(n,e.key)};else if(e instanceof Ws)t={update:ER(n,e.key,e.data),updateMask:M3(e.fieldMask)};else{if(!(e instanceof Cb))return Te();t={verify:af(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof dc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(n,e.precondition)),t}function nE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?It.updateTime(Jt(o.updateTime)):o.exists!==void 0?It.exists(o.exists):It.none()}(e.currentDocument):It.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new dc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new bl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new wl(g)}else"increment"in h?d=new fc(u,h.increment):Te();const f=At.fromServerFormat(h.fieldPath);return new kf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=$i(n,e.update.name),o=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new ur(f.map(g=>At.fromServerFormat(g)))}(e.updateMask);return new Ws(i,o,u,t,r)}return new Vc(i,o,t,r)}if(e.delete){const i=$i(n,e.delete);return new Mc(i,t)}if(e.verify){const i=$i(n,e.verify);return new Cb(i,t)}return Te()}function O3(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Jt(i.updateTime):Jt(o);return u.isEqual(Re.min())&&(u=Jt(o)),new _3(u,i.transformResults||[])}(t,e))):[]}function xO(n,e){return{documents:[AO(n,e.path)]}}function PO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AO(n,i);const o=function(f){if(f.length!==0)return kO(at.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Uu(v.field),direction:k3(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Z0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function OO(n){let e=IO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=DO(_);return v instanceof at&&Sb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new sf(Bu(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Cf(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new ro(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new ro(T,v)}(t.endAt)),rO(e,i,u,o,h,"F",d,f)}function D3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bu(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bu(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bu(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bu(t.unaryFilter.field);return $e.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return $e.create(Bu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return at.create(t.compositeFilter.filters.map(r=>DO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function k3(n){return S3[n]}function N3(n){return A3[n]}function V3(n){return I3[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function Bu(n){return At.fromServerFormat(n.fieldPath)}function kO(n){return n instanceof $e?function(t){if(t.op==="=="){if(iR(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NAN"}};if(rR(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iR(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NOT_NAN"}};if(rR(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(t.field),op:N3(t.op),value:t.value}}}(n):n instanceof at?function(t){const r=t.getFilters().map(i=>kO(i));return r.length===1?r[0]:{compositeFilter:{op:V3(t.op),filters:r}}}(n):Te()}function M3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o=Re.min(),u=Re.min(),h=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.Tt=e}}function L3(n,e){let t;if(e.document)t=CO(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Sl(e.noDocument.readTime);t=Et.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te();{const r=_e.fromSegments(e.unknownDocument.path),i=Sl(e.unknownDocument.version);t=Et.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Rt(i[0],i[1]);return Re.fromTimestamp(o)}(e.readTime)),t}function bR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:af(o,u.key),fields:u.data.value.mapValue.fields,updateTime:pc(o,u.version.toTimestamp()),createTime:pc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Tl(e.version)};else{if(!e.isUnknownDocument())return Te();r.unknownDocument={path:t.path.toArray(),version:Tl(e.version)}}return r}function bg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Tl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sl(n){const e=new Rt(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function il(n,e){const t=(e.baseMutations||[]).map(o=>nE(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>nE(n.Tt,o)),i=Rt.fromMillis(e.localWriteTimeMs);return new xb(e.batchId,i,t,r)}function Id(n){const e=Sl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Sl(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),rr(Nc(IO(o.documents[0])))}(n.query):function(o){return rr(OO(o))}(n.query),new Os(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$t.fromBase64String(n.resumeToken))}function MO(n,e){const t=Tl(e.snapshotVersion),r=Tl(e.lastLimboFreeSnapshotVersion);let i;i=_g(e.target)?xO(n.Tt,e.target):PO(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:El(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Nb(n){const e=OO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eg(e,e.limit,"L"):e}function o0(n,e){return new Ob(e.largestBatchId,nE(n.Tt,e.overlayMutation))}function wR(n,e){const t=e.path.lastSegment();return[n,Gn(e.path.popLast()),t]}function TR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Tl(r.readTime),documentKey:Gn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{getBundleMetadata(e,t){return SR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Sl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return SR(e).put(function(i){return{bundleId:i.id,createTime:Tl(Jt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return AR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Nb(o.bundledQuery),readTime:Sl(o.readTime)}}(r)})}saveNamedQuery(e,t){return AR(e).put(function(i){return{name:i.name,readTime:Tl(Jt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function SR(n){return _n(n,ty)}function AR(n){return _n(n,ny)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new uy(e,r)}getOverlay(e,t){return td(e).get(wR(this.userId,t)).next(r=>r?o0(this.serializer,r):null)}getOverlays(e,t){const r=qi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Ob(t,u);i.push(this.Et(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Gn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(td(e).J(H0,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=qi(),o=Gn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return td(e).G(H0,u).next(h=>{for(const d of h){const f=o0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=qi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return td(e).Z({index:MP,range:h},(d,f,g)=>{const _=o0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return td(e).put(function(i,o,u){const[h,d,f]=wR(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:of(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function td(n){return _n(n,ry)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{dt(e){return _n(e,Eb)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?$t.fromUint8Array(r):$t.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Xd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Bs(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Fs(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?KP(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ay(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Te()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=uc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Tt(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}sl.xt=new sl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=255;function F3(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function IR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=F3(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class j3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=IR(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=IR(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(Ru),this.jt(255)}Ht(){this.Jt(Ru),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===Ru?(this.jt(Ru),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===Ru?(this.Jt(Ru),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class z3{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class q3{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class nd{constructor(){this.Zt=new j3,this.Xt=new z3(this.Zt),this.en=new q3(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new al(this.indexId,this.documentKey,this.arrayValue,r)}}function Va(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=RR(n.arrayValue,e.arrayValue),t!==0?t:(t=RR(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function RR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.rn=new ot((t,r)=>At.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=j0(e);if(t!==void 0&&!this.cn(t))return!1;const r=tl(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new ot(At.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Mm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Mm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Mm(r.field,r.dir==="asc"?0:1)));return new dg(dg.UNKNOWN_ID,this.collectionId,t,Yd.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){var e,t;if(Ae(n instanceof $e||n instanceof at),n instanceof $e){if(n instanceof nO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>$e.create(n.field,"==",o)))||[];return at.create(i,"or")}return n}const r=n.filters.map(i=>LO(i));return at.create(r,n.op)}function H3(n){if(n.getFilters().length===0)return[];const e=sE(LO(n));return Ae(UO(e)),rE(e)||iE(e)?[e]:e.getFilters()}function rE(n){return n instanceof $e}function iE(n){return n instanceof at&&Sb(n)}function UO(n){return rE(n)||iE(n)||function(t){if(t instanceof at&&Q0(t)){for(const r of t.getFilters())if(!rE(r)&&!iE(r))return!1;return!0}return!1}(n)}function sE(n){if(Ae(n instanceof $e||n instanceof at),n instanceof $e)return n;if(n.filters.length===1)return sE(n.filters[0]);const e=n.filters.map(r=>sE(r));let t=at.create(e,n.op);return t=wg(t),UO(t)?t:(Ae(t instanceof at),Ae(hc(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>Vb(r,i)))}function Vb(n,e){let t;return Ae(n instanceof $e||n instanceof at),Ae(e instanceof $e||e instanceof at),t=n instanceof $e?e instanceof $e?function(i,o){return at.create([i,o],"and")}(n,e):xR(n,e):e instanceof $e?xR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),hc(i)&&hc(o))return ZP(i,o.getFilters());const u=Q0(i)?i:o,h=Q0(i)?o:i,d=u.filters.map(f=>Vb(f,h));return at.create(d,"or")}(n,e),wg(t)}function xR(n,e){if(hc(e))return ZP(e,n.getFilters());{const t=e.filters.map(r=>Vb(n,r));return at.create(t,"or")}}function wg(n){if(Ae(n instanceof $e||n instanceof at),n instanceof $e)return n;const e=n.getFilters();if(e.length===1)return wg(e[0]);if(XP(n))return n;const t=e.map(i=>wg(i)),r=[];return t.forEach(i=>{i instanceof $e?r.push(i):i instanceof at&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:at.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.Tn=new Mb}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(xr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Mb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot(He.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="IndexedDbIndexManager",_m=new Uint8Array(0);class G3{constructor(e,t){this.databaseId=t,this.In=new Mb,this.En=new Ks(r=>El(r),(r,i)=>Pf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Gn(i)};return OR(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[SP(t),""],!1,!0);return OR(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(zi(u.parent))}return r})}addFieldIndex(e,t){const r=rd(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=xu(e);return o.next(h=>{u.put(TR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=rd(e),i=xu(e),o=Cu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=rd(e),r=Cu(e),i=xu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new CR(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Cu(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Me();const h=[];return X.forEach(o,(d,f)=>{pe(PR,`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(d)} to execute ${El(t)}`);const g=function(U,H){const j=j0(H);if(j===void 0)return null;for(const $ of vg(U,j.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(f,d),_=function(U,H){const j=new Map;for(const $ of tl(H))for(const V of vg(U,$.fieldPath))switch(V.op){case"==":case"in":j.set($.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return j.set($.fieldPath.canonicalString(),V.value),Array.from(j.values())}return null}(f,d),v=function(U,H){const j=[];let $=!0;for(const V of tl(H)){const C=V.kind===0?uR(U,V.fieldPath,U.startAt):cR(U,V.fieldPath,U.startAt);j.push(C.value),$&&($=C.inclusive)}return new ro(j,$)}(f,d),T=function(U,H){const j=[];let $=!0;for(const V of tl(H)){const C=V.kind===0?cR(U,V.fieldPath,U.endAt):uR(U,V.fieldPath,U.endAt);j.push(C.value),$&&($=C.inclusive)}return new ro(j,$)}(f,d),w=this.Rn(d,f,v),I=this.Rn(d,f,T),x=this.Vn(d,f,_),L=this.mn(d.indexId,g,w,v.inclusive,I,T.inclusive,x);return X.forEach(L,M=>r.H(M,t.limit).next(U=>{U.forEach(H=>{const j=_e.fromSegments(H.documentKey);u.has(j)||(u=u.add(j),h.push(j))})}))}).next(()=>h)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=H3(at.create(e.filters,"and")).map(r=>X0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):_m,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],u),I=h.map(x=>this.gn(e,v,x,!0));g.push(...this.createRange(T,w,I))}return g}gn(e,t,r,i){const o=new al(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new al(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new CR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new ot(At.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new nd;for(const i of tl(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);sl.xt.At(o,u)}return r.Yt()}fn(e){const t=new nd;return sl.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new nd;return sl.xt.At(vl(this.databaseId,t),r.tn(function(o){const u=tl(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new nd);let o=0;for(const u of tl(e)){const h=r[o++];for(const d of i)if(this.bn(t,u.fieldPath)&&rf(h))i=this.Sn(i,u,h);else{const f=d.tn(u.kind);sl.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new nd;d.seed(h.Yt()),sl.xt.At(u,d.tn(t.kind)),o.push(d)}return o}bn(e,t){return!!e.filters.find(r=>r instanceof $e&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=rd(e),i=xu(e);return(t?r.G(q0,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new Yd(_.sequenceNumber,new xr(Sl(_.readTime),new _e(zi(_.documentKey)),_.largestBatchId)):Yd.empty(),T=g.fields.map(([w,I])=>new Mm(At.fromServerFormat(w),I));return new dg(g.indexId,g.collectionGroup,T,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=rd(e),o=xu(e);return this.vn(e).next(u=>i.G(q0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,d=>o.put(TR(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return Cu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Cu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Cu(e);let o=new ot(Va);return i.Z({index:VP,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new al(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new ot(Va);const i=this.yn(t,e);if(i==null)return r;const o=j0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(rf(u))for(const h of u.arrayValue.values||[])r=r.add(new al(t.indexId,e.key,this.fn(h),i))}else r=r.add(new al(t.indexId,e.key,_m,i));return r}Mn(e,t,r,i,o){pe(PR,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let I=Iu(T),x=Iu(w);for(;I||x;){let L=!1,M=!1;if(I&&x){const U=g(I,x);U<0?M=!0:U>0&&(L=!0)}else I!=null?M=!0:L=!0;L?(_(x),x=Iu(w)):M?(v(I),I=Iu(T)):(I=Iu(T),x=Iu(w))}}(i,o,Va,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),X.waitFor(u)}vn(e){let t=1;return xu(e).Z({index:NP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Va(u,h)).filter((u,h,d)=>!h||Va(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Va(u,e),d=Va(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,_m,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,_m,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return Va(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DR)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Te())).next(DR)}}function OR(n){return _n(n,ef)}function Cu(n){return _n(n,yg)}function rd(n){return _n(n,vb)}function xu(n){return _n(n,gg)}function DR(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;gb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BO=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n,e,t){const r=n.store(li),i=n.store(sc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=OP(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function Tg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Te();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(BO,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class cy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new cy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).Z({index:ul,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Fu(e),u=Ma(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new xb(h,t,r,i),f=function(T,w,I){const x=I.baseMutations.map(M=>of(T.Tt,M)),L=I.mutations.map(M=>of(T.Tt,M));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:x,mutations:L}}(this.serializer,this.userId,d),g=[];let _=new ot((v,T)=>ke(v.canonicalString(),T.canonicalString()));for(const v of i){const T=OP(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,IF))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Ma(e).get(t).next(r=>r?(Ae(r.userId===this.userId),il(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ma(e).Z({index:ul,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=il(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ka;return Ma(e).Z({index:ul,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ka],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).G(ul,t).next(r=>r.map(i=>il(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Lm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Fu(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=zi(g);if(f===this.userId&&t.path.isEqual(v))return Ma(e).get(_).next(T=>{if(!T)throw Te();Ae(T.userId===this.userId),o.push(il(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(ke);const i=[];return t.forEach(o=>{const u=Lm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Fu(e).Z({range:h},(f,g,_)=>{const[v,T,w]=f,I=zi(T);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Lm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ot(ke);return Fu(e).Z({range:u},(d,f,g)=>{const[_,v,T]=d,w=zi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ma(e).get(o).next(u=>{if(u===null)throw Te();Ae(u.userId===this.userId),r.push(il(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return FO(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Fu(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=zi(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return jO(e,this.userId,t)}Qn(e){return zO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ka,lastStreamToken:""})}}function jO(n,e,t){const r=Lm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Fu(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Ma(n){return _n(n,li)}function Fu(n){return _n(n,sc)}function zO(n){return _n(n,Jd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Al(0)}static Un(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Al(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Re.fromTimestamp(new Rt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Pu(e).Z((u,h)=>{const d=Id(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Pu(e).Z((r,i)=>{const o=Id(i);t(o)})}Wn(e){return NR(e).get(mg).next(t=>(Ae(t!==null),t))}Gn(e,t){return NR(e).put(mg,t)}zn(e,t){return Pu(e).put(MO(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=El(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Pu(e).Z({range:i,index:kP},(u,h,d)=>{const f=Id(h);Pf(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Fa(e);return t.forEach(u=>{const h=Gn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fa(e);return X.forEach(t,o=>{const u=Gn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Fa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fa(e);let o=Me();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=zi(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Gn(t.path),i=IDBKeyRange.bound([r],[SP(r)],!1,!0);let o=0;return Fa(e).Z({index:_b,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Pu(e).get(t).next(r=>r?Id(r):null)}}function Pu(n){return _n(n,ac)}function NR(n){return _n(n,ml)}function Fa(n){return _n(n,oc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="LruGarbageCollector",W3=1048576;function MR([n,e],[t,r]){const i=ke(n,t);return i===0?ke(e,r):i}class Q3{constructor(e){this.Hn=e,this.buffer=new ot(MR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();MR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(VR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){go(t)?pe(VR,"Ignoring IndexedDB error during garbage collection: ",t):await mo(t)}await this.er(3e5)})}}class Y3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(lr.ae);const r=new Q3(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(kR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Mu()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function HO(n,e){return new Y3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,t){this.db=e,this.garbageCollector=HO(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return vm(e,r)}removeReference(e,t,r){return vm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return vm(e,t)}ar(e,t){return function(i,o){let u=!1;return zO(i).X(h=>jO(i,h,o).next(d=>(d&&(u=!0),X.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Re.min()),Fa(e).delete(function(_){return[0,Gn(_.path)]}(u))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return vm(e,t)}_r(e,t){const r=Fa(e);let i,o=lr.ae;return r.Z({index:_b},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==lr.ae&&t(new _e(zi(i)),o),o=f,i=d):o=lr.ae}).next(()=>{o!==lr.ae&&t(new _e(zi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vm(n,e){return Fa(n).put(function(r,i){return{targetId:0,path:Gn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jo(e).put(r)}removeEntry(e,t,r){return Jo(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],bg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=Et.newInvalidDocument(t);return Jo(e).Z({index:Um,range:IDBKeyRange.only(id(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:Et.newInvalidDocument(t)};return Jo(e).Z({index:Um,range:IDBKeyRange.only(id(t))},(i,o)=>{r={document:this.cr(t,o),size:Tg(o)}}).next(()=>r)}getEntries(e,t){let r=cr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=cr(),i=new vt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,Tg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new ot(BR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(id(i.first()),id(i.last())),u=i.getIterator();let h=u.getNext();return Jo(e).Z({index:Um,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&BR(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(id(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=cr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Df(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=cr();const u=UR(t,r),h=UR(t,xr.max());return Jo(e).Z({index:DP,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new Z3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return LR(e).get(z0).next(t=>(Ae(!!t),t))}ur(e,t){return LR(e).put(z0,t)}cr(e,t){if(t){const r=L3(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return Et.newInvalidDocument(e)}}function GO(n){return new J3(n)}class Z3 extends $O{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Ks(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ot((o,u)=>ke(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=bR(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=Tg(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=bR(this.Ir.serializer,u.convertToNoDocument(Re.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function LR(n){return _n(n,Zd)}function Jo(n){return _n(n,pg)}function id(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UR(n,e){const t=e.documentKey.path.toArray();return[n,bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function BR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ke(t[o],r[o]),i)return i;return i=ke(t.length,r.length),i||(i=ke(t[t.length-2],r[r.length-2]),i||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ld(r.mutation,i,ur.empty(),Rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Sd();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=cr();const u=Md(),h=function(){return Md()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ws)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Ld(g.mutation,f,g.mutation.getFieldMask(),Rt.now())):u.set(f.key,ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new ej(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Md();let i=new vt((u,h)=>u-h),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||ur.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Me()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=uO();g.forEach(v=>{if(!o.has(v)){const T=gO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ab(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(qi());let h=ic,d=o;return u.next(f=>X.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(g=>({batchId:h,changes:lO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Sd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,d=>{const f=function(_,v){return new Gs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,Et.newInvalidDocument(g)))});let h=Sd();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Ld(g.mutation,f,ur.empty(),Rt.now()),Df(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Nb(i.bundledQuery),readTime:Jt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.overlays=new vt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new vt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=qi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=qi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return X.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ob(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Vr=new ot(In.mr),this.gr=new ot(In.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new In(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new In(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new He([])),r=new In(t,e),i=new In(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new He([])),r=new In(t,e),i=new In(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new In(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ot(In.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new In(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ka:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new In(t,0),i=new In(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(ke);return t.forEach(i=>{const o=new In(i,0),u=new In(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new In(new _e(o),0);let h=new ot(ke);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new In(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new In(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.kr=e,this.docs=function(){return new vt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||gb(IP(g),r)<=0||(i.has(g.key)||Df(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Te()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aj(this)}getSize(e){return X.resolve(this.size)}}class aj extends $O{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.persistence=e,this.Qr=new Ks(t=>El(t),Pf),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Lb,this.targetCount=0,this.Ur=Al.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lr(0),this.zr=!1,this.zr=!0,this.jr=new rj,this.referenceDelegate=e(this),this.Hr=new oj(this),this.indexManager=new $3,this.remoteDocumentCache=function(i){return new sj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new VO(t),this.Yr=new tj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new ij(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new lj(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class lj extends CP{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.ti=new Lb,this.ni=null}static ri(e){return new hy(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Sg{constructor(e,t){this.persistence=e,this.oi=new Ks(r=>Gn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HO(this,t)}static ri(e,t){return new Sg(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fm(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.serializer=e}B(e,t,r,i){const o=new ey("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(xf)}(e),function(d){d.createObjectStore(Jd,{keyPath:AF}),d.createObjectStore(li,{keyPath:XI,autoIncrement:!0}).createIndex(ul,JI,{unique:!0}),d.createObjectStore(sc)}(e),FR(e),function(d){d.createObjectStore(nl)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(oc),d.deleteObjectStore(ac),d.deleteObjectStore(ml)}(e),FR(e)),u=u.next(()=>function(d){const f=d.store(ml),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return f.put(mg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(li).G().next(_=>{d.deleteObjectStore(li),d.createObjectStore(li,{keyPath:XI,autoIncrement:!0}).createIndex(ul,JI,{unique:!0});const v=f.store(li),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(lc,{keyPath:NF})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(Zd)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(ty,{keyPath:VF})})(e),function(d){d.createObjectStore(ny,{keyPath:MF})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(ry,{keyPath:qF});f.createIndex(H0,HF,{unique:!1}),f.createIndex(MP,$F,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(pg,{keyPath:RF});f.createIndex(Um,CF),f.createIndex(DP,xF)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(nl))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(vb,{keyPath:LF,autoIncrement:!0}).createIndex(q0,UF,{unique:!1}),d.createObjectStore(gg,{keyPath:BF}).createIndex(NP,FF,{unique:!1}),d.createObjectStore(yg,{keyPath:jF}).createIndex(VP,zF,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(gg).clear()}).next(()=>{t.objectStore(yg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(Eb,{keyPath:GF})})(e)})),u}ai(e){let t=0;return e.store(nl).Z((r,i)=>{t+=Tg(i)}).next(()=>{const r={byteSize:t};return e.store(Zd).put(z0,r)})}_i(e){const t=e.store(Jd),r=e.store(li);return t.G().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Ka],[o.userId,o.lastAcknowledgedBatchId]);return r.G(ul,u).next(h=>X.forEach(h,d=>{Ae(d.userId===o.userId);const f=il(this.serializer,d);return FO(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(oc),r=e.store(nl);return e.store(ml).get(mg).next(i=>{const o=[];return r.Z((u,h)=>{const d=new He(u),f=function(_){return[0,Gn(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Gn(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(ef,{keyPath:kF});const r=t.store(ef),i=new Mb,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Gn(d)})}};return t.store(nl).Z({Y:!0},(u,h)=>{const d=new He(u);return o(d.popLast())}).next(()=>t.store(sc).Z({Y:!0},([u,h,d],f)=>{const g=zi(h);return o(g.popLast())}))}li(e){const t=e.store(ac);return t.Z((r,i)=>{const o=Id(i),u=MO(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(nl),i=[];return r.Z((o,u)=>{const h=t.store(pg),d=function(_){return _.document?new _e(He.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):Te()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(li),i=GO(this.serializer),o=new Ub(hy.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Me();il(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),X.forEach(h,(d,f)=>{const g=new Rn(f),_=uy.It(this.serializer,g),v=o.getIndexManager(g),T=cy.It(g,this.serializer,v,o.referenceDelegate);return new KO(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new $0(t,lr.ae),d).next()})})}}function FR(n){n.createObjectStore(oc,{keyPath:OF}).createIndex(_b,DF,{unique:!0}),n.createObjectStore(ac,{keyPath:"targetId"}).createIndex(kP,PF,{unique:!0}),n.createObjectStore(ml)}const La="IndexedDbPersistence",l0=18e5,u0=5e3,c0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WO="main";class Bb{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Bb.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new X3(this,i),this.gi=t+WO,this.serializer=new VO(d),this.pi=new Hi(this.gi,this.di,new uj(this.serializer)),this.jr=new B3,this.Hr=new K3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GO(this.serializer),this.Yr=new U3,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Xt(La,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,c0);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new lr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Em(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(go(e))return pe(La,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(La,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return sd(e).get(Au).next(t=>X.resolve(this.Ni(t)))}Bi(e){return Em(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,l0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=_n(t,lc);return r.G().next(i=>{const o=this.qi(i,l0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):sd(e).get(Au).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,u0)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,c0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Em(e).G().next(r=>this.qi(r,u0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(La,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[xf,lc],e=>{const t=new $0(e,lr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Em(e).G().next(t=>this.qi(t,l0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return cy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new G3(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return uy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe(La,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?QF:d===16?WF:d===15?bb:d===14?BP:d===13?UP:d===12?KF:d===11?LP:void Te()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new $0(h,this.Gr?this.Gr.next():lr.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,RP);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return sd(e).get(Au).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,u0)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,c0)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sd(e).put(Au,t)}static D(){return Hi.D()}xi(e){const t=sd(e);return t.get(Au).next(r=>this.Ni(r)?(pe(La,"Releasing primary lease."),t.delete(Au)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;sx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe(La,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xt(La,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sd(n){return _n(n,xf)}function Em(n){return _n(n,lc)}function Fb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new jb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sx()?8:xP(Lt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new cj;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Mu()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Lu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Mu()<=ze.DEBUG&&pe("QueryEngine","Query:",Lu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Mu()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Lu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):X.resolve())}rs(e,t){if(hR(t))return X.resolve(null);let r=rr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Eg(t,null,"F"),r=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Me(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,Eg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return hR(t)||i.isEqual(Re.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?X.resolve(null):(Mu()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lu(t)),this.hs(e,u,t,AP(i,ic)).next(h=>h))})}cs(e,t){let r=new ot(aO(e));return t.forEach((i,o)=>{Df(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Mu()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Lu(t)),this.ns.getDocumentsMatchingQuery(e,t,xr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="LocalStore",hj=3e8;class dj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new vt(ke),this.Is=new Ks(o=>El(o),Pf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function YO(n,e,t,r){return new dj(n,e,t,r)}async function XO(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Me();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function fj(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(I=>{const x=f.docVersions.get(w);Ae(x!==null),I.version.compareTo(x)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Me();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function JO(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function pj(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken($t.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(I,x,L){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=hj?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,T,g)&&h.push(t.Hr.updateTargetData(o,T))});let d=cr(),f=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(ZO(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Re.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function ZO(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=cr();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(zb,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function mj(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ka),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function gc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!go(u))throw u;pe(zb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Ag(n,e,t){const r=Ee(n);let i=Re.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,rr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Re.min(),t?o:Me())).next(h=>(nD(r,sO(e),h),{documents:h,gs:o})))}function eD(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function tD(n,e){const t=Ee(n),r=t.Es.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,AP(r,ic),Number.MAX_SAFE_INTEGER)).then(i=>(nD(t,e,i),i))}function nD(n,e,t){let r=n.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function gj(n,e,t,r){const i=Ee(n);let o=Me(),u=cr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await mc(i,function(g){return rr(Nc(He.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>ZO(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function yj(n,e,t=Me()){const r=await mc(n,rr(Nb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Jt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken($t.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firestore_clients";function jR(n,e){return`${rD}_${n}_${e}`}const iD="firestore_mutations";function zR(n,e,t){let r=`${iD}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const sD="firestore_targets";function h0(n,e){return`${sD}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="SharedClientState";class Ig{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new Ig(e,t,i.state,o):(Xt(ki,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ud{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new Ud(e,r.state,i):(Xt(ki,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Ib();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=PP(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Rg(e,o):(Xt(ki,`Failed to parse client data for instance '${e}': ${t}`),null)}}class qb{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new qb(t.clientId,t.onlineState):(Xt(ki,`Failed to parse online state: ${e}`),null)}}class aE{constructor(){this.activeTargetIds=Ib()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d0{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new vt(ke),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=jR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new aE),this.Ls=new RegExp(`^${rD}_${u}_([^_]*)$`),this.ks=new RegExp(`^${iD}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${sD}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(jR(this.persistenceKey,r));if(i){const o=Rg.bs(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(h0(this.persistenceKey,e));if(i){const o=Ud.bs(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(h0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(ki,"READ",e,t),t}setItem(e,t){pe(ki,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(ki,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(ki,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=lr.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Xt(ki,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==lr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new Ig(this.currentUser,e,t,r),o=zR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())}js(e){const t=zR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=h0(this.persistenceKey,e),o=new Ud(e,t,r);this.setItem(i,o.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Rg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ig.bs(new Rn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Ud.bs(i,t)}Us(e){return qb.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(ki,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Ib();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class aD{constructor(){this.ho=new aE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new aE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="ConnectivityMonitor";class HR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(qR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(qR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=null;function oE(){return bm===null?bm=function(){return 268435456+Math.round(2147483648*Math.random())}():bm++,"0x"+bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="RestConnection",vj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ej{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===G0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const u=oE(),h=this.So(e,t.toUriEncodedString());pe(f0,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(f0,`Received RPC '${e}' ${u}: `,f),f),f=>{throw Yi(f0,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=vj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class wj extends Ej{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=oE();return new Promise((u,h)=>{const d=new yP;d.setWithCredentials(!0),d.listenOnce(_P.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Vm.NO_ERROR:const g=d.getResponseJson();pe(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Vm.TIMEOUT:pe(zn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Vm.HTTP_ERROR:const _=d.getStatus();if(pe(zn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN}(T.status);h(new de(w,T.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{pe(zn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(zn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=oE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=bP(),h=EP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(zn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,T=!1;const w=new bj({Fo:x=>{T?pe(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(pe(zn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(zn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Mo:()=>_.close()}),I=(x,L,M)=>{x.listen(L,U=>{try{M(U)}catch(H){setTimeout(()=>{throw H},0)}})};return I(_,Td.EventType.OPEN,()=>{T||(pe(zn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),I(_,Td.EventType.CLOSE,()=>{T||(T=!0,pe(zn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),I(_,Td.EventType.ERROR,x=>{T||(T=!0,Yi(zn,`RPC '${e}' stream ${i} transport errored:`,x),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),I(_,Td.EventType.MESSAGE,x=>{var L;if(!T){const M=x.data[0];Ae(!!M);const U=M,H=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if(H){pe(zn,`RPC '${e}' stream ${i} received error:`,H);const j=H.status;let $=function(R){const b=an[R];if(b!==void 0)return vO(b)}(j),V=H.message;$===void 0&&($=ne.INTERNAL,V="Unknown error status: "+j+" with message "+H.message),T=!0,w.Ko(new de($,V)),_.close()}else pe(zn,`RPC '${e}' stream ${i} received:`,M),w.Uo(M)}}),I(h,vP.STAT_EVENT,x=>{x.stat===F0.PROXY?pe(zn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===F0.NOPROXY&&pe(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof window<"u"?window:null}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){return new R3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="PersistentStream";class lD{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Hb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Xt(t.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe($R,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe($R,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tj extends lD{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=P3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Jt(u.readTime):Re.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=tE(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=_g(d)?{documents:xO(o,d)}:{query:PO(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=TO(o,u.resumeToken);const f=Z0(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=pc(o,u.snapshotVersion.toTimestamp());const f=Z0(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=D3(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=tE(this.serializer),t.removeTarget=e,this.I_(t)}}class Sj extends lD{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=O3(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=tE(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>of(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{}class Ij extends Aj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.bo(e,eE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,eE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Rj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class Cj{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{_o(this)&&(pe(Il,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await Lc(f),f.j_.set("Unknown"),f.W_.delete(4),await Lf(f)}(this))})}),this.j_=new Rj(r,i)}}async function Lf(n){if(_o(n))for(const e of n.G_)await e(!0)}async function Lc(n){for(const e of n.G_)await e(!1)}function dy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Kb(t)?Gb(t):Bc(t).c_()&&$b(t,e))}function yc(n,e){const t=Ee(n),r=Bc(t);t.U_.delete(e),r.c_()&&uD(t,e),t.U_.size===0&&(r.c_()?r.P_():_o(t)&&t.j_.set("Unknown"))}function $b(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bc(n).y_(e)}function uD(n,e){n.H_.Ne(e),Bc(n).w_(e)}function Gb(n){n.H_=new T3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Bc(n).start(),n.j_.B_()}function Kb(n){return _o(n)&&!Bc(n).u_()&&n.U_.size>0}function _o(n){return Ee(n).W_.size===0}function cD(n){n.H_=void 0}async function xj(n){n.j_.set("Online")}async function Pj(n){n.U_.forEach((e,t)=>{$b(n,e)})}async function Oj(n,e){cD(n),Kb(n)?(n.j_.q_(e),Gb(n)):n.j_.set("Unknown")}async function Dj(n,e,t){if(n.j_.set("Online"),e instanceof wO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(n,r)}else if(e instanceof qm?n.H_.We(e):e instanceof bO?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Re.min()))try{const r=await JO(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),uD(o,d);const _=new Os(g.target,d,f,g.sequenceNumber);$b(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Il,"Failed to raise snapshot:",r),await Cg(n,r)}}async function Cg(n,e,t){if(!go(e))throw e;n.W_.add(1),await Lc(n),n.j_.set("Offline"),t||(t=()=>JO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Il,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Lf(n)})}function hD(n,e){return e().catch(t=>Cg(n,t,e))}async function Uc(n){const e=Ee(n),t=io(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ka;for(;kj(e);)try{const i=await mj(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Nj(e,i)}catch(i){await Cg(e,i)}dD(e)&&fD(e)}function kj(n){return _o(n)&&n.K_.length<10}function Nj(n,e){n.K_.push(e);const t=io(n);t.c_()&&t.b_&&t.S_(e.mutations)}function dD(n){return _o(n)&&!io(n).u_()&&n.K_.length>0}function fD(n){io(n).start()}async function Vj(n){io(n).C_()}async function Mj(n){const e=io(n);for(const t of n.K_)e.S_(t.mutations)}async function Lj(n,e,t){const r=n.K_.shift(),i=Pb.from(r,e,t);await hD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Uc(n)}async function Uj(n,e){e&&io(n).b_&&await async function(r,i){if(function(u){return _O(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();io(r).h_(),await hD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uc(r)}}(n,e),dD(n)&&fD(n)}async function GR(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(Il,"RemoteStore received new credentials");const r=_o(t);t.W_.add(3),await Lc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Lf(t)}async function lE(n,e){const t=Ee(n);e?(t.W_.delete(2),await Lf(t)):e||(t.W_.add(2),await Lc(t),t.j_.set("Unknown"))}function Bc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new Tj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:xj.bind(null,n),No:Pj.bind(null,n),Lo:Oj.bind(null,n),p_:Dj.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Kb(n)?Gb(n):n.j_.set("Unknown")):(await n.J_.stop(),cD(n))})),n.J_}function io(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new Sj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Vj.bind(null,n),Lo:Uj.bind(null,n),D_:Mj.bind(null,n),v_:Lj.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Uc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Il,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Wb(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fc(n,e){if(Xt("AsyncQueue",`${e}: ${n}`),go(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{static emptySet(e){return new Qu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Sd(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Z_=new vt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class _c{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new _c(e,t,Qu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Fj{constructor(){this.queries=WR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=WR(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function WR(){return new Ks(n=>iO(n),Of)}async function Qb(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Bj,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Fc(u,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Xb(t)}async function Yb(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function jj(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&Xb(t)}function zj(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Xb(n){n.ia.forEach(e=>{e.next()})}var uE,QR;(QR=uE||(uE={}))._a="default",QR.Cache="cache";class Jb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==uE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.serializer=e}ps(e){return $i(this.serializer,e)}ys(e){return e.metadata.exists?CO(this.serializer,e.document,!1):Et.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Jt(e)}}class Hj{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pD(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=He.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new YR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Me()).add(o);t.set(u,h)}}return t}async complete(){const e=await gj(this.localStore,new YR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await yj(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function pD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.key=e}}class gD{constructor(e){this.key=e}}class yD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=aO(e),this.wa=new Qu(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new KR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Df(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?w!==I&&(r.track({type:3,doc:T}),x=!0):this.va(v,T)||(r.track({type:2,doc:T}),x=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(d||f)&&(h=!0)),x&&(T?(u=u.add(T),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(T,w){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return I(T)-I(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new _c(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new KR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new gD(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new mD(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return _c.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const vo="SyncEngine";class $j{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Gj{constructor(e){this.key=e,this.Ba=!1}}class Kj{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ks(h=>iO(h),Of),this.qa=new Map,this.Qa=new Set,this.$a=new vt(_e.comparator),this.Ka=new Map,this.Ua=new Lb,this.Wa={},this.Ga=new Map,this.za=Al.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Wj(n,e,t=!0){const r=fy(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await _D(r,e,t,!0),i}async function Qj(n,e){const t=fy(n);await _D(t,e,!0,!1)}async function _D(n,e,t,r){const i=await mc(n.localStore,rr(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await Zb(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&dy(n.remoteStore,i),h}async function Zb(n,e,t,r,i){n.Ha=(_,v,T)=>async function(I,x,L,M){let U=x.view.Sa(L);U.ls&&(U=await Ag(I.localStore,x.query,!1).then(({documents:V})=>x.view.Sa(V,U)));const H=M&&M.targetChanges.get(x.targetId),j=M&&M.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(U,I.isPrimaryClient,H,j);return cE(I,x.targetId,$.Ma),$.snapshot}(n,_,v,T);const o=await Ag(n.localStore,e,!0),u=new yD(e,o.gs),h=u.Sa(o.documents),d=Vf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);cE(n,t,f.Ma);const g=new $j(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function Yj(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!Of(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&yc(r.remoteStore,i.targetId),vc(r,i.targetId)}).catch(mo)):(vc(r,i.targetId),await gc(r.localStore,i.targetId,!0))}async function Xj(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yc(t.remoteStore,r.targetId))}async function Jj(n,e,t){const r=rw(n);try{const i=await function(u,h){const d=Ee(u),f=Rt.now(),g=h.reduce((T,w)=>T.add(w.key),Me());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=cr(),I=Me();return d.ds.getEntries(T,g).next(x=>{w=x,w.forEach((L,M)=>{M.isValidDocument()||(I=I.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(x=>{_=x;const L=[];for(const M of h){const U=E3(M,_.get(M.key).overlayedDocument);U!=null&&L.push(new Ws(M.key,U,QP(U.value.mapValue),It.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,L,h)}).next(x=>{v=x;const L=x.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(T,x.batchId,L)})}).then(()=>({batchId:v.batchId,changes:lO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new vt(ke)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await Qs(r,i.changes),await Uc(r.remoteStore)}catch(i){const o=Fc(i,"Failed to persist write");t.reject(o)}}async function vD(n,e){const t=Ee(n);try{const r=await pj(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await Qs(t,r,e)}catch(r){await mo(r)}}function XR(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&Xb(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zj(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new vt(_e.comparator);u=u.insert(o,Et.newNoDocument(o,Re.min()));const h=Me().add(o),d=new Nf(Re.min(),new Map,new vt(ke),u,h);await vD(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),nw(r)}else await gc(r.localStore,e,!1).then(()=>vc(r,e,t)).catch(mo)}async function ez(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await fj(t.localStore,e);tw(t,r,null),ew(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Qs(t,i)}catch(i){await mo(i)}}async function tz(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);tw(r,e,t),ew(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Qs(r,i)}catch(i){await mo(i)}}async function nz(n,e){const t=Ee(n);_o(t.remoteStore)||pe(vo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Ka)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Fc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function ew(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function tw(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function vc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||ED(n,r)})}function ED(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(yc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),nw(n))}function cE(n,e,t){for(const r of t)r instanceof mD?(n.Ua.addReference(r.key,e),rz(n,r)):r instanceof gD?(pe(vo,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||ED(n,r.key)):Te()}function rz(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(vo,"New document in limbo: "+t),n.Qa.add(r),nw(n))}function nw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(He.fromString(e)),r=n.za.next();n.Ka.set(r,new Gj(t)),n.$a=n.$a.insert(t,r),dy(n.remoteStore,new Os(rr(Nc(t.path)),r,"TargetPurposeLimboResolution",lr.ae))}}async function Qs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=jb.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!go(_))throw _;pe(zb,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,I)}}}(r.localStore,o))}async function iz(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(vo,"User change. New user:",e.toKey());const r=await XO(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qs(t,r.Rs)}}function sz(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.ba)}return i}}async function az(n,e){const t=Ee(n),r=await Ag(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&cE(t,e.targetId,i.Ma),i}async function oz(n,e){const t=Ee(n);return tD(t.localStore,e).then(r=>Qs(t,r))}async function lz(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Uc(i.remoteStore):t==="acknowledged"||t==="rejected"?(tw(i,e,r||null),ew(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):Te(),await Qs(i,o)):pe(vo,"Cannot apply mutation batch with id: "+e)}async function uz(n,e){const t=Ee(n);if(fy(t),rw(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await JR(t,r.toArray());t.ja=!0,await lE(t.remoteStore,!0);for(const o of i)dy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(vc(t,u),gc(t.localStore,u,!0))),yc(t.remoteStore,u)}),await i,await JR(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{yc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new vt(_e.comparator)}(t),t.ja=!1,await lE(t.remoteStore,!1)}}async function JR(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await mc(r.localStore,rr(d[0]));for(const f of d){const g=r.ka.get(f),_=await az(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await eD(r.localStore,u);h=await mc(r.localStore,f),await Zb(r,bD(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function bD(n){return rO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cz(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function hz(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(vo,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await tD(i.localStore,sO(o[0])),h=Nf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",$t.EMPTY_BYTE_STRING);await Qs(i,u,h);break}case"rejected":await gc(i.localStore,e,!0),vc(i,e,r);break;default:Te()}}async function dz(n,e,t){const r=fy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(vo,"Adding an already active target "+i);continue}const o=await eD(r.localStore,i),u=await mc(r.localStore,o);await Zb(r,bD(o),u.targetId,!1,u.resumeToken),dy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await gc(r.localStore,i,!1).then(()=>{yc(r.remoteStore,i),vc(r,i)}).catch(mo)}}function fy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zj.bind(null,e),e.La.p_=jj.bind(null,e.eventManager),e.La.Ja=zj.bind(null,e.eventManager),e}function rw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tz.bind(null,e),e}function fz(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(T,w){const I=Ee(T),x=Jt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",L=>I.Yr.getBundleMetadata(L,w.id)).then(L=>!!L&&L.createTime.compareTo(x)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(pD(d));const f=new Hj(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await Qs(o,_.ma,void 0),await function(T,w){const I=Ee(T);return I.persistence.runTransaction("Save bundle","readwrite",x=>I.Yr.saveBundleMetadata(x,w))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return Yi(vo,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return YO(this.persistence,new QO,e.initialUser,this.serializer)}Xa(e){return new Ub(hy.ri,this.serializer)}Za(e){return new aD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class pz extends lf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof Sg);const r=this.persistence.referenceDelegate.garbageCollector;return new qO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Ub(r=>Sg.ri(r,t),this.serializer)}}class wD extends lf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await rw(this.ru.syncEngine),await Uc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return YO(this.persistence,new QO,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new qO(r,e.asyncQueue,t)}nu(e,t){const r=new TF(t,this.persistence);return new wF(e.asyncQueue,r)}Xa(e){const t=Fb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Bb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,oD(),Hm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new aD}}class mz extends wD{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof d0&&(this.sharedClientState.syncEngine={uo:lz.bind(null,t),co:hz.bind(null,t),lo:dz.bind(null,t),zi:cz.bind(null,t),ao:oz.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await uz(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=oD();if(!d0.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Fb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new d0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class uf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iz.bind(null,this.syncEngine),await lE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Fj}()}createDatastore(e){const t=Mf(e.databaseInfo.databaseId),r=function(o){return new wj(o)}(e.databaseInfo);return function(o,u,h,d){return new Ij(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new Cj(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>XR(this.syncEngine,t,0),function(){return HR.D()?new HR:new _j}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new Kj(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(Il,"RemoteStore shutting down."),o.W_.add(5),await Lc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}uf.provider={build:()=>new uf};function ZR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Un,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new qj(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>af(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,He.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=x3(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Cb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>of(o.serializer,h))};await o.bo("Commit",o.serializer.databaseId,He.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Te();t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?It.exists(!1):It.updateTime(t):It.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(t)}return It.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new Hb(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new yz(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Cf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!_O(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class vz{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=TP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(so,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(so,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Fc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function p0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(so,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function e1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iw(n);pe(so,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>GR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>GR(e.remoteStore,i)),n._onlineComponents=e}async function iw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(so,"Using user provided OfflineComponentProvider");try{await p0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Yi("Error using user provided cache. Falling back to memory cache: "+t),await p0(n,new lf)}}else pe(so,"Using default OfflineComponentProvider"),await p0(n,new pz(void 0));return n._offlineComponents}async function my(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(so,"Using user provided OnlineComponentProvider"),await e1(n,n._uninitializedComponentsProvider._online)):(pe(so,"Using default OnlineComponentProvider"),await e1(n,new uf))),n._onlineComponents}function TD(n){return iw(n).then(e=>e.persistence)}function sw(n){return iw(n).then(e=>e.localStore)}function SD(n){return my(n).then(e=>e.remoteStore)}function aw(n){return my(n).then(e=>e.syncEngine)}function Ez(n){return my(n).then(e=>e.datastore)}async function Ec(n){const e=await my(n),t=e.eventManager;return t.onListen=Wj.bind(null,e.syncEngine),t.onUnlisten=Yj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Qj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Xj.bind(null,e.syncEngine),t}function bz(n){return n.asyncQueue.enqueue(async()=>{const e=await TD(n),t=await SD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Lf(o)}(t)})}function wz(n){return n.asyncQueue.enqueue(async()=>{const e=await TD(n),t=await SD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Lc(o),o.j_.set("Offline")}(t)})}function Tz(n,e){const t=new Un;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Fc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await sw(n),e,t)),t.promise}function AD(n,e,t={}){const r=new Un;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new py({next:v=>{g.su(),u.enqueueAndForget(()=>Yb(o,_));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Jb(Nc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Qb(o,_)}(await Ec(n),n.asyncQueue,e,t,r)),r.promise}function Sz(n,e){const t=new Un;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Ag(i,o,!0),d=new yD(o,h.gs),f=d.Sa(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Fc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await sw(n),e,t)),t.promise}function ID(n,e,t={}){const r=new Un;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new py({next:v=>{g.su(),u.enqueueAndForget(()=>Yb(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Jb(h,g,{includeMetadataChanges:!0,Ta:!0});return Qb(o,_)}(await Ec(n),n.asyncQueue,e,t,r)),r.promise}function Az(n,e){const t=new py(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await Ec(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await Ec(n),t))}}function Iz(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?EO().encode(u):u,function(g,_){return new gz(g,_)}(function(g,_){if(g instanceof Uint8Array)return ZR(g,_);if(g instanceof ArrayBuffer)return ZR(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,Mf(e));n.asyncQueue.enqueueAndForget(async()=>{fz(await aw(n),i,r)})}function Rz(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await sw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CD(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n1(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r1(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function tt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gy(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xD(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firestore.googleapis.com",i1=!0;class s1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PD,this.ssl=i1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W3)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dF;switch(r.type){case"firstParty":return new gF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=t1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),t1.delete(t),r.terminate())}(this),Promise.resolve()}}function Cz(n,e,t,r={}){var i;const o=(n=tt(n,Uf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==PD&&o.host!==h&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Ms(d,u)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Rn.MOCK_USER;else{f=vL(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Rn(_)}n._authCredentials=new fF(new wP(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir=class OD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new OD(this.firestore,e,this._query)}},Mt=class DD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DD(this.firestore,e,this._key)}},Wa=class kD extends ir{constructor(e,t,r){super(e,t,Nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new _e(e))}withConverter(e){return new kD(this.firestore,e,this._path)}};function ND(n,e,...t){if(n=xe(n),ow("collection","path",e),n instanceof Uf){const r=He.fromString(e,...t);return r1(r),new Wa(n,null,r)}{if(!(n instanceof Mt||n instanceof Wa))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return r1(r),new Wa(n.firestore,null,r)}}function xz(n,e){if(n=tt(n,Uf),ow("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ir(n,null,function(r){return new Gs(He.emptyPath(),r)}(e))}function xg(n,e,...t){if(n=xe(n),arguments.length===1&&(e=TP.newId()),ow("doc","path",e),n instanceof Uf){const r=He.fromString(e,...t);return n1(r),new Mt(n,null,new _e(r))}{if(!(n instanceof Mt||n instanceof Wa))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return n1(r),new Mt(n.firestore,n instanceof Wa?n.converter:null,new _e(r))}}function VD(n,e){return n=xe(n),e=xe(e),(n instanceof Mt||n instanceof Wa)&&(e instanceof Mt||e instanceof Wa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MD(n,e){return n=xe(n),e=xe(e),n instanceof ir&&e instanceof ir&&n.firestore===e.firestore&&Of(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="AsyncQueue";class o1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Hb(this,"async_queue_retry"),this.bu=()=>{const r=Hm();r&&pe(a1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Un;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!go(e))throw e;pe(a1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Xt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Wb.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function hE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Pz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Un,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=-1;let Zt=class extends Uf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new o1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o1(e),this._firestoreClient=void 0,await e}}};function Kn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LD(n),n._firestoreClient}function LD(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new JF(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RD(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new vz(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function Dz(n,e){Yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return UD(n,uf.provider,{build:r=>new wD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function kz(n){Yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();UD(n,uf.provider,{build:t=>new mz(t,e.cacheSizeBytes)})}function UD(n,e,t){if((n=tt(n,Zt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},LD(n)}function Nz(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Un;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Hi.D())return Promise.resolve();const i=r+WO;await Hi.delete(i)}(Fb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function Vz(n){return function(t){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>nz(await aw(t),r)),r.promise}(Kn(n=tt(n,Zt)))}function Mz(n){return bz(Kn(n=tt(n,Zt)))}function Lz(n){return wz(Kn(n=tt(n,Zt)))}function Uz(n,e){const t=Kn(n=tt(n,Zt)),r=new Pz;return Iz(t,n._databaseId,e,r),r}function Bz(n,e){return Rz(Kn(n=tt(n,Zt)),e).then(t=>t?new ir(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji($t.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ji($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=/^__.*__$/;class jz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class BD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class _y{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FD(this.Lu)&&Fz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mf(e)}ju(e,t,r,i=!1){return new _y({Lu:e,methodName:t,zu:r,path:At.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nl(n){const e=n._freezeSettings(),t=Mf(n._databaseId);return new zz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vy(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);mw("Data must be an object, but it was:",u,r);const h=qD(r,u);let d,f;if(o.merge)d=new ur(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=dE(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);$D(g,v)||g.push(v)}d=new ur(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new jz(new Ln(h),d,f)}class Bf extends kl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}function jD(n,e,t){return new _y({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uw extends kl{_toFieldTransform(e){return new kf(e.path,new dc)}isEqual(e){return e instanceof uw}}class cw extends kl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=jD(this,e,!0),r=this.Hu.map(o=>Vl(o,t)),i=new bl(r);return new kf(e.path,i)}isEqual(e){return e instanceof cw&&Ms(this.Hu,e.Hu)}}class hw extends kl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=jD(this,e,!0),r=this.Hu.map(o=>Vl(o,t)),i=new wl(r);return new kf(e.path,i)}isEqual(e){return e instanceof hw&&Ms(this.Hu,e.Hu)}}class dw extends kl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new fc(e.serializer,hO(e.serializer,this.Ju));return new kf(e.path,t)}isEqual(e){return e instanceof dw&&this.Ju===e.Ju}}function fw(n,e,t,r){const i=n.ju(1,e,t);mw("Data must be an object, but it was:",i,r);const o=[],u=Ln.empty();yo(r,(d,f)=>{const g=gw(e,d,t);f=xe(f);const _=i.Ku(g);if(f instanceof Bf)o.push(g);else{const v=Vl(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ur(o);return new BD(u,h,i.fieldTransforms)}function pw(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[dE(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(dE(e,o[v])),d.push(o[v+1]);const f=[],g=Ln.empty();for(let v=h.length-1;v>=0;--v)if(!$D(f,h[v])){const T=h[v];let w=d[v];w=xe(w);const I=u.Ku(T);if(w instanceof Bf)f.push(T);else{const x=Vl(w,I);x!=null&&(f.push(T),g.set(T,x))}}const _=new ur(f);return new BD(g,_,u.fieldTransforms)}function zD(n,e,t,r=!1){return Vl(t,n.ju(r?4:3,e))}function Vl(n,e){if(HD(n=xe(n)))return mw("Unsupported field value:",e,n),qD(n,e);if(n instanceof kl)return function(r,i){if(!FD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=Vl(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:pc(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,o)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:TO(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lw)return function(u,h){return{mapValue:{fields:{[wb]:{stringValue:Tb},[uc]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return Rb(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${gy(r)}`)}(n,e)}function qD(n,e){const t={};return FP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(n,(r,i)=>{const o=Vl(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function HD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof yy||n instanceof Ji||n instanceof Mt||n instanceof kl||n instanceof lw)}function mw(n,e,t){if(!HD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=gy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function dE(n,e,t){if((e=xe(e))instanceof ao)return e._internalPath;if(typeof e=="string")return gw(n,e);throw Pg("Field path arguments must be of type string or ",n,!1,void 0,t)}const qz=new RegExp("[~\\*/\\[\\]]");function gw(n,e,t){if(e.search(qz)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ao(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function $D(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ey("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hz extends cf{data(){return super.data()}}function Ey(n,e){return typeof e=="string"?gw(n,e):e instanceof ao?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yw{}class Ff extends yw{}function Ua(n,e,...t){let r=[];e instanceof yw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof _w).length,h=o.filter(d=>d instanceof by).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class by extends Ff{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new by(e,t,r)}_apply(e){const t=this._parse(e);return WD(e._query,t),new ir(e.firestore,e.converter,J0(e._query,t))}_parse(e){const t=Nl(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){u1(_,g);const w=[];for(const I of _)w.push(l1(d,o,I));v={arrayValue:{values:w}}}else v=l1(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||u1(_,g),v=zD(h,u,_,g==="in"||g==="not-in");return $e.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $z(n,e,t){const r=e,i=Ey("where",n);return by._create(i,r,t)}class _w extends yw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _w(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:at.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)WD(u,d),u=J0(u,d)}(e._query,t),new ir(e.firestore,e.converter,J0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vw extends Ff{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sf(o,u)}(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Gz(n,e="asc"){const t=e,r=Ey("orderBy",n);return vw._create(r,t)}class wy extends Ff{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wy(e,t,r)}_apply(e){return new ir(e.firestore,e.converter,Eg(e._query,this._limit,this._limitType))}}function Kz(n){return xD("limit",n),wy._create("limit",n,"F")}function Wz(n){return xD("limitToLast",n),wy._create("limitToLast",n,"L")}class Ty extends Ff{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ty(e,t,r)}_apply(e){const t=KD(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function Qz(...n){return Ty._create("startAt",n,!0)}function Yz(...n){return Ty._create("startAfter",n,!1)}class Sy extends Ff{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sy(e,t,r)}_apply(e){const t=KD(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Xz(...n){return Sy._create("endBefore",n,!1)}function Jz(...n){return Sy._create("endAt",n,!0)}function KD(n,e,t,r){if(t[0]=xe(t[0]),t[0]instanceof cf)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of Wu(o))if(_.field.isKeyField())g.push(vl(u,d.key));else{const v=d.data.field(_.field);if(iy(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new ro(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nl(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!Ab(u)&&I.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const x=u.path.child(He.fromString(I));if(!_e.isDocumentKey(x))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const L=new _e(x);T.push(vl(h,L))}else{const x=zD(d,f,I);T.push(x)}}return new ro(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function l1(n,e,t){if(typeof(t=xe(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ab(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(He.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vl(n,new _e(r))}if(t instanceof Mt)return vl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gy(t)}.`)}function u1(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WD(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ew{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[uc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>Tt(u.doubleValue));return new lw(o)}convertGeoPoint(e){return new yy(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=He.fromString(e);Ae(NO(r));const i=new eo(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Xt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Zz extends Ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let js=class extends cf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Bd=class extends js{data(e={}){return super.data(e)}},oo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bd(this._firestore,this._userDataWriter,r.key,r,new cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Bd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new cl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Bd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new cl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:e6(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function e6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function QD(n,e){return n instanceof js&&e instanceof js?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof oo&&e instanceof oo&&n._firestore===e._firestore&&MD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(n){n=tt(n,Mt);const e=tt(n.firestore,Zt);return AD(Kn(e),n._key).then(t=>bw(e,n,t))}class Ml extends Ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function n6(n){n=tt(n,Mt);const e=tt(n.firestore,Zt),t=Kn(e),r=new Ml(e);return Tz(t,n._key).then(i=>new js(e,r,n._key,i,new cl(i!==null&&i.hasLocalMutations,!0),n.converter))}function r6(n){n=tt(n,Mt);const e=tt(n.firestore,Zt);return AD(Kn(e),n._key,{source:"server"}).then(t=>bw(e,n,t))}function i6(n){n=tt(n,ir);const e=tt(n.firestore,Zt),t=Kn(e),r=new Ml(e);return GD(n._query),ID(t,n._query).then(i=>new oo(e,r,n,i))}function s6(n){n=tt(n,ir);const e=tt(n.firestore,Zt),t=Kn(e),r=new Ml(e);return Sz(t,n._query).then(i=>new oo(e,r,n,i))}function a6(n){n=tt(n,ir);const e=tt(n.firestore,Zt),t=Kn(e),r=new Ml(e);return ID(t,n._query,{source:"server"}).then(i=>new oo(e,r,n,i))}function c1(n,e,t){n=tt(n,Mt);const r=tt(n.firestore,Zt),i=Ay(n.converter,e,t);return jf(r,[vy(Nl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,It.none())])}function h1(n,e,t,...r){n=tt(n,Mt);const i=tt(n.firestore,Zt),o=Nl(i);let u;return u=typeof(e=xe(e))=="string"||e instanceof ao?pw(o,"updateDoc",n._key,e,t,r):fw(o,"updateDoc",n._key,e),jf(i,[u.toMutation(n._key,It.exists(!0))])}function o6(n){return jf(tt(n.firestore,Zt),[new Mc(n._key,It.none())])}function l6(n,e){const t=tt(n.firestore,Zt),r=xg(n),i=Ay(n.converter,e);return jf(t,[vy(Nl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function YD(n,...e){var t,r,i;n=xe(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||hE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof Mt)f=tt(n.firestore,Zt),g=Nc(n._key.path),d={next:_=>{e[u]&&e[u](bw(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=tt(n,ir);f=tt(_.firestore,Zt),g=_._query;const v=new Ml(f);d={next:T=>{e[u]&&e[u](new oo(f,v,_,T))},error:e[u+1],complete:e[u+2]},GD(n._query)}return function(v,T,w,I){const x=new py(I),L=new Jb(T,x,w);return v.asyncQueue.enqueueAndForget(async()=>Qb(await Ec(v),L)),()=>{x.su(),v.asyncQueue.enqueueAndForget(async()=>Yb(await Ec(v),L))}}(Kn(f),g,h,d)}function u6(n,e){return Az(Kn(n=tt(n,Zt)),hE(e)?e:{next:e})}function jf(n,e){return function(r,i){const o=new Un;return r.asyncQueue.enqueueAndForget(async()=>Jj(await aw(r),i,o)),o.promise}(Kn(n),e)}function bw(n,e,t){const r=t.docs.get(e._key),i=new Ml(n);return new js(n,i,e._key,r,new cl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h6=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nl(e)}set(e,t,r){this._verifyNotCommitted();const i=za(e,this._firestore),o=Ay(i.converter,t,r),u=vy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,It.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=za(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof ao?pw(this._dataReader,"WriteBatch.update",o._key,t,r,i):fw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=za(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(t._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function za(n,e){if((n=xe(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nl(e)}get(e){const t=za(e,this._firestore),r=new Zz(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Te();const o=i[0];if(o.isFoundDocument())return new cf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new cf(this._firestore,r,t._key,null,t.converter);throw Te()})}set(e,t,r){const i=za(e,this._firestore),o=Ay(i.converter,t,r),u=vy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=za(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof ao?pw(this._dataReader,"Transaction.update",o._key,t,r,i):fw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=za(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f6=class extends d6{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=za(e,this._firestore),r=new Ml(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,t._key,i._document,new cl(!1,!1),t.converter))}};function p6(n,e,t){n=tt(n,Zt);const r=Object.assign(Object.assign({},c6),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new Un;return o.asyncQueue.enqueueAndForget(async()=>{const f=await Ez(o);new _z(o.asyncQueue,f,h,u,d).Iu()}),d.promise}(Kn(n),i=>e(new f6(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return new Bf("deleteField")}function g6(){return new uw("serverTimestamp")}function y6(...n){return new cw("arrayUnion",n)}function _6(...n){return new hw("arrayRemove",n)}function v6(n){return new dw("increment",n)}(function(e,t=!0){(function(i){kc=i})(fo),Xa(new Wi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Zt(new pF(r.getProvider("auth-internal")),new yF(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ui(qI,HI,e),ui(qI,HI,"esm2017")})();const E6="@firebase/firestore-compat",b6="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function f1(){if(!YF())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let XD=class fE{constructor(e){this._delegate=e}static fromBase64String(e){return f1(),new fE(Ji.fromBase64String(e))}static fromUint8Array(e){return d1(),new fE(Ji.fromUint8Array(e))}toBase64(){return f1(),this._delegate.toBase64()}toUint8Array(){return d1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n){return w6(n,["next","error","complete"])}function w6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{enableIndexedDbPersistence(e,t){return Dz(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return kz(e._delegate)}clearIndexedDbPersistence(e){return Nz(e._delegate)}}class JD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof eo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Cz(this._delegate,e,t,r)}enableNetwork(){return Mz(this._delegate)}disableNetwork(){return Lz(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Vz(this._delegate)}onSnapshotsInSync(e){return u6(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bc(this,ND(this._delegate,e))}catch(t){throw tr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wr(this,xg(this._delegate,e))}catch(t){throw tr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new er(this,xz(this._delegate,e))}catch(t){throw tr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return p6(this._delegate,t=>e(new ZD(this,t)))}batch(){return Kn(this._delegate),new ek(new h6(this._delegate,e=>jf(this._delegate,e)))}loadBundle(e){return Uz(this._delegate,e)}namedQuery(e){return Bz(this._delegate,e).then(t=>t?new er(this,t):null)}}class Iy extends Ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new XD(new Ji(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wr.forKey(t,this.firestore,null)}}function S6(n){cF(n)}class ZD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Iy(e)}get(e){const t=hl(e);return this._delegate.get(t).then(r=>new hf(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hl(e);return r?(ww("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=hl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=hl(e);return this._delegate.delete(t),this}}class ek{constructor(e){this._delegate=e}set(e,t,r){const i=hl(e);return r?(ww("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=hl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=hl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new df(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Rl(e,new Iy(e),t),i.set(t,o)),o}}Rl.INSTANCES=new WeakMap;class Wr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wr(t,new Mt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Wr(t,new Mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new bc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bc(this.firestore,ND(this._delegate,e))}catch(t){throw tr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=xe(e),e instanceof Mt?VD(this._delegate,e):!1}set(e,t){t=ww("DocumentReference.set",t);try{return t?c1(this._delegate,e,t):c1(this._delegate,e)}catch(r){throw tr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?h1(this._delegate,e):h1(this._delegate,e,t,...r)}catch(i){throw tr(i,"updateDoc()","DocumentReference.update()")}}delete(){return o6(this._delegate)}onSnapshot(...e){const t=tk(e),r=nk(e,i=>new hf(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return YD(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=n6(this._delegate):(e==null?void 0:e.source)==="server"?t=r6(this._delegate):t=t6(this._delegate),t.then(r=>new hf(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wr(this.firestore,e?this._delegate.withConverter(Rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tr(n,e,t){return n.message=n.message.replace(e,t),n}function tk(n){for(const e of n)if(typeof e=="object"&&!pE(e))return e;return{}}function nk(n,e){var t,r;let i;return pE(n[0])?i=n[0]:pE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class hf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QD(this._delegate,e._delegate)}}class df extends hf{data(e){const t=this._delegate.data(e);return this._delegate._converter||hF(t!==void 0),t}}class er{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iy(e)}where(e,t,r){try{return new er(this.firestore,Ua(this._delegate,$z(e,t,r)))}catch(i){throw tr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new er(this.firestore,Ua(this._delegate,Gz(e,t)))}catch(r){throw tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new er(this.firestore,Ua(this._delegate,Kz(e)))}catch(t){throw tr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new er(this.firestore,Ua(this._delegate,Wz(e)))}catch(t){throw tr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new er(this.firestore,Ua(this._delegate,Qz(...e)))}catch(t){throw tr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new er(this.firestore,Ua(this._delegate,Yz(...e)))}catch(t){throw tr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new er(this.firestore,Ua(this._delegate,Xz(...e)))}catch(t){throw tr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new er(this.firestore,Ua(this._delegate,Jz(...e)))}catch(t){throw tr(t,"endAt()","Query.endAt()")}}isEqual(e){return MD(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=s6(this._delegate):(e==null?void 0:e.source)==="server"?t=a6(this._delegate):t=i6(this._delegate),t.then(r=>new mE(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=tk(e),r=nk(e,i=>new mE(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return YD(this._delegate,t,r)}withConverter(e){return new er(this.firestore,e?this._delegate.withConverter(Rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class A6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new df(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new df(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new A6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new df(this._firestore,r))})}isEqual(e){return QD(this._delegate,e._delegate)}}class bc extends er{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wr(this.firestore,e):null}doc(e){try{return e===void 0?new Wr(this.firestore,xg(this._delegate)):new Wr(this.firestore,xg(this._delegate,e))}catch(t){throw tr(t,"doc()","CollectionReference.doc()")}}add(e){return l6(this._delegate,e).then(t=>new Wr(this.firestore,t))}isEqual(e){return VD(this._delegate,e._delegate)}withConverter(e){return new bc(this.firestore,e?this._delegate.withConverter(Rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hl(n){return tt(n,Mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(...e){this._delegate=new ao(...e)}static documentId(){return new Tw(At.keyField().canonicalString())}isEqual(e){return e=xe(e),e instanceof ao?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static serverTimestamp(){const e=g6();return e._methodName="FieldValue.serverTimestamp",new ol(e)}static delete(){const e=m6();return e._methodName="FieldValue.delete",new ol(e)}static arrayUnion(...e){const t=y6(...e);return t._methodName="FieldValue.arrayUnion",new ol(t)}static arrayRemove(...e){const t=_6(...e);return t._methodName="FieldValue.arrayRemove",new ol(t)}static increment(e){const t=v6(e);return t._methodName="FieldValue.increment",new ol(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={Firestore:JD,GeoPoint:yy,Timestamp:Rt,Blob:XD,Transaction:ZD,WriteBatch:ek,DocumentReference:Wr,DocumentSnapshot:hf,Query:er,QueryDocumentSnapshot:df,QuerySnapshot:mE,CollectionReference:bc,FieldPath:Tw,FieldValue:ol,setLogLevel:S6,CACHE_SIZE_UNLIMITED:Oz};function R6(n,e){n.INTERNAL.registerComponent(new Wi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},I6)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(n){R6(n,(e,t)=>new JD(e,t,new T6)),n.registerVersion(E6,b6)}C6(xc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=2e3;async function P6(n,e,t){var r;const{BuildInfo:i}=Cl();ci(e.sessionId,"AuthEvent did not contain a session ID");const o=await V6(e.sessionId),u={};return Tf()?u.ibi=i.packageName:wf()?u.apn=i.packageName:xn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,B0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function O6(n){const{BuildInfo:e}=Cl(),t={};Tf()?t.iosBundleId=e.packageName:wf()?t.androidPackageName=e.packageName:xn(n,"operation-not-supported-in-this-environment"),await fP(n,t)}function D6(n){const{cordova:e}=Cl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,yU()?"_blank":"_system","location=yes"),t(i)})})}async function k6(n,e,t){const{cordova:r}=Cl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(yn(n,"redirect-cancelled-by-user"))},x6))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),wf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function N6(n){var e,t,r,i,o,u,h,d,f,g;const _=Cl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function V6(n){const e=M6(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function M6(n){if(ci(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=20;class U6 extends hP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function B6(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:z6(),postBody:null,tenantId:n.tenantId,error:yn(n,"no-auth-event")}}function F6(n,e){return gE()._set(yE(n),e)}async function p1(n){const e=await gE()._get(yE(n));return e&&await gE()._remove(yE(n)),e}function j6(n,e){var t,r;const i=H6(e);if(i.includes("/__/auth/callback")){const o=$m(i),u=o.firebaseError?q6(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?yn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function z6(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<L6;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function gE(){return Ar(Qg)}function yE(n){return fl("authEvent",n.config.apiKey,n.name)}function q6(n){try{return JSON.parse(n)}catch{return null}}function H6(n){const e=$m(n),t=e.link?decodeURIComponent(e.link):void 0,r=$m(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return $m(i).link||i||r||t||n}function $m(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return zu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=500;class G6{constructor(){this._redirectPersistence=Ja,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zg,this._overrideRedirectResult=fb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new U6(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){xn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){N6(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),vB(),await this._originValidation(e);const u=B6(e,r,i);await F6(e,u);const h=await P6(e,u,t),d=await D6(h);return k6(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O6(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Cl(),u=setTimeout(async()=>{await p1(e),t.onEvent(m1())},$6),h=async g=>{clearTimeout(u);const _=await p1(e);let v=null;_&&(g!=null&&g.url)&&(v=j6(_,g.url)),t.onEvent(v||m1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;Cl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const K6=G6;function m1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n,e){Ut(n)._logFramework(e)}var Q6="@firebase/auth-compat",Y6="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3;function Fd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function J6(){return Fd()==="http:"||Fd()==="https:"}function rk(n=Lt()){return!!((Fd()==="file:"||Fd()==="ionic:"||Fd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Z6(){return GE()||$E()}function e9(){return ix()&&(document==null?void 0:document.documentMode)===11}function t9(n=Lt()){return/Edge\/\d+/.test(n)}function n9(n=Lt()){return e9()||t9(n)}function ik(){try{const n=self.localStorage,e=If();if(n)return n.setItem(e,"1"),n.removeItem(e),n9()?Hd():!0}catch{return Sw()&&Hd()}return!1}function Sw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function m0(){return(J6()||rx()||rk())&&!Z6()&&ik()&&!Sw()}function sk(){return rk()&&typeof document<"u"}async function r9(){return sk()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},X6);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function i9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},ad=me,ak="persistence";function s9(n,e){if(ad(Object.values(Tr).includes(e),n,"invalid-persistence-type"),GE()){ad(e!==Tr.SESSION,n,"unsupported-persistence-type");return}if($E()){ad(e===Tr.NONE,n,"unsupported-persistence-type");return}if(Sw()){ad(e===Tr.NONE||e===Tr.LOCAL&&Hd(),n,"unsupported-persistence-type");return}ad(e===Tr.NONE||ik(),n,"unsupported-persistence-type")}async function _E(n){await n._initializationPromise;const e=ok(),t=fl(ak,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function a9(n,e){const t=ok();if(!t)return[];const r=fl(ak,n,e);switch(t.getItem(r)){case Tr.NONE:return[ec];case Tr.LOCAL:return[nc,Ja];case Tr.SESSION:return[Ja];default:return[]}}function ok(){var n;try{return((n=i9())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=me;class qa{constructor(){this.browserResolver=Ar(pP),this.cordovaResolver=Ar(K6),this.underlyingResolver=null,this._redirectPersistence=Ja,this._completeRedirectFn=Zg,this._overrideRedirectResult=fb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return o9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await r9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){return n.unwrap()}function l9(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){return uk(n)}function c9(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new h9(n,N5(n,e))}else if(r){const i=uk(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function uk(n){const{_tokenResponse:e}=n instanceof nr?n.customData:n;if(!e)return null;if(!(n instanceof nr)&&"temporaryProof"in e&&"phoneNumber"in e)return _l.credentialFromResult(n);const t=e.providerId;if(!t||t===Zh.PASSWORD)return null;let r;switch(t){case Zh.GOOGLE:r=Li;break;case Zh.FACEBOOK:r=Mi;break;case Zh.GITHUB:r=Ui;break;case Zh.TWITTER:r=Bi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?tc._create(t,h):Qi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new Gu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof nr?r.credentialFromError(n):r.credentialFromResult(n)}function or(n,e){return e.catch(t=>{throw t instanceof nr&&c9(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:u9(t),additionalUserInfo:O5(t),user:Ds.getOrCreate(i)}})}async function vE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>or(n,t.confirm(r))}}class h9{constructor(e,t){this.resolver=t,this.auth=l9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return or(lk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e,this.multiFactor=L5(e)}static getOrCreate(e){return Ds.USER_MAP.has(e)||Ds.USER_MAP.set(e,new Ds(e)),Ds.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return or(this.auth,Wx(this._delegate,e))}async linkWithPhoneNumber(e,t){return vE(this.auth,aB(this._delegate,e,t))}async linkWithPopup(e){return or(this.auth,mB(this._delegate,e,qa))}async linkWithRedirect(e){return await _E(Ut(this.auth)),SB(this._delegate,e,qa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return or(this.auth,Qx(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return vE(this.auth,oB(this._delegate,e,t))}reauthenticateWithPopup(e){return or(this.auth,pB(this._delegate,e,qa))}async reauthenticateWithRedirect(e){return await _E(Ut(this.auth)),wB(this._delegate,e,qa)}sendEmailVerification(e){return E5(this._delegate,e)}async unlink(e){return await l5(this._delegate,e),this}updateEmail(e){return S5(this._delegate,e)}updatePassword(e){return A5(this._delegate,e)}updatePhoneNumber(e){return lB(this._delegate,e)}updateProfile(e){return T5(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return b5(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=me;let EE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;od(r,"invalid-api-key",{appName:e.name}),od(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?qa:void 0;this._delegate=t.initialize({options:{persistence:d9(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(J4),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Fx(this._delegate,e,t)}applyActionCode(e){return f5(this._delegate,e)}checkActionCode(e){return Yx(this._delegate,e)}confirmPasswordReset(e,t){return d5(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return or(this._delegate,Xx(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return v5(this._delegate,e)}isSignInWithEmailLink(e){return g5(this._delegate,e)}async getRedirectResult(){od(m0(),this._delegate,"operation-not-supported-in-this-environment");const e=await IB(this._delegate,qa);return e?or(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){W6(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=g1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=g1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return m5(this._delegate,e,t)}sendPasswordResetEmail(e,t){return h5(this._delegate,e,t||void 0)}async setPersistence(e){s9(this._delegate,e);let t;switch(e){case Tr.SESSION:t=Ja;break;case Tr.LOCAL:t=await Ar(nc)._isAvailable()?nc:Qg;break;case Tr.NONE:t=ec;break;default:return xn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return or(this._delegate,o5(this._delegate))}signInWithCredential(e){return or(this._delegate,Kg(this._delegate,e))}signInWithCustomToken(e){return or(this._delegate,c5(this._delegate,e))}signInWithEmailAndPassword(e,t){return or(this._delegate,Jx(this._delegate,e,t))}signInWithEmailLink(e,t){return or(this._delegate,y5(this._delegate,e,t))}signInWithPhoneNumber(e,t){return vE(this._delegate,sB(this._delegate,e,t))}async signInWithPopup(e){return od(m0(),this._delegate,"operation-not-supported-in-this-environment"),or(this._delegate,fB(this._delegate,e,qa))}async signInWithRedirect(e){return od(m0(),this._delegate,"operation-not-supported-in-this-environment"),await _E(this._delegate),EB(this._delegate,e,qa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return p5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};EE.Persistence=Tr;function g1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ds.getOrCreate(u)),error:e,complete:t}}function d9(n,e){const t=a9(n,e);if(typeof self<"u"&&!t.includes(nc)&&t.push(nc),typeof window<"u")for(const r of[Qg,Ja])t.includes(r)||t.push(r);return t.includes(ec)||t.push(ec),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static credential(e,t){return _l.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new _l(lk(xc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Aw.PHONE_SIGN_IN_METHOD=_l.PHONE_SIGN_IN_METHOD;Aw.PROVIDER_ID=_l.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=me;class p9{constructor(e,t,r=xc.app()){var i;f9((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new rB(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="auth-compat";function g9(n){n.INTERNAL.registerComponent(new Wi(m9,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new EE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Su.EMAIL_SIGNIN,PASSWORD_RESET:Su.PASSWORD_RESET,RECOVER_EMAIL:Su.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Su.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Su.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Su.VERIFY_EMAIL}},EmailAuthProvider:po,FacebookAuthProvider:Mi,GithubAuthProvider:Ui,GoogleAuthProvider:Li,OAuthProvider:Gu,SAMLAuthProvider:lg,PhoneAuthProvider:Aw,PhoneMultiFactorGenerator:mP,RecaptchaVerifier:p9,TwitterAuthProvider:Bi,Auth:EE,AuthCredential:Oc,Error:nr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Q6,Y6)}g9(xc);const y9={apiKey:"AIzaSyCxmRXLrHcXPYANgDE4ACiauQDV1uhDeWw",authDomain:"clone-2025-dc79f.firebaseapp.com",projectId:"clone-2025-dc79f",storageBucket:"clone-2025-dc79f.firebasestorage.app",messagingSenderId:"530812165137",appId:"1:530812165137:web:3384ee474de6a17d4fa5b0"},ck=xc.initializeApp(y9),Og=lF(ck),hk=ck.firestore(),_9=()=>{var i;const[{user:n,basket:e},t]=W.useContext(qs),r=Array.isArray(e)?e.reduce((o,u)=>o+u.amount,0):0;return z.jsxs("section",{className:Rs.fixed,children:[z.jsxs("div",{className:Rs.header_container,children:[z.jsxs("div",{className:Rs.logo_container,children:[z.jsx(Fi,{to:"/",children:z.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})}),z.jsxs("div",{className:Rs.delivery,children:[z.jsx("span",{children:z.jsx(rL,{})}),z.jsxs("div",{children:[z.jsx("p",{children:"Delivered to"}),z.jsx("span",{children:"Ethiopia"})]})]})]}),z.jsxs("div",{className:Rs.search,children:[z.jsx("select",{name:"",id:"",children:z.jsx("option",{value:"",children:"All"})}),z.jsx("input",{type:"text"}),z.jsx(iL,{size:25})]}),z.jsxs("div",{className:Rs.order_container,children:[z.jsxs("a",{href:"",className:Rs.language,children:[z.jsx("img",{src:"https://www.shutterstock.com/shutterstock/photos/2413061151/display_1500/stock-photo-ethiopia-flag-on-a-wooden-surface-banner-of-the-grunge-ethiopia-flag-2413061151.jpg",alt:"ethiopian flag"}),z.jsx("select",{name:"",id:"",children:z.jsx("option",{value:"",children:"EN"})})]}),z.jsx(Fi,{to:!n&&"/auth",children:z.jsx("div",{children:n?z.jsxs(z.Fragment,{children:[z.jsxs("p",{children:["Hello",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),z.jsx("span",{onClick:()=>Og.signOut(),children:" sign Out "})]}):z.jsxs(z.Fragment,{children:[z.jsx("p",{children:"Sign In"}),z.jsx("span",{children:"Account & Lists"})]})})}),z.jsxs(Fi,{to:"/orders",children:[z.jsx("p",{children:"returns"}),z.jsx("span",{children:"& Orders"})]}),z.jsxs(Fi,{to:"/cart",className:Rs.cart,children:[z.jsx(oL,{size:35}),z.jsx("span",{children:r})]})]})]}),z.jsx(aL,{})]})};function jc({children:n}){return z.jsxs("div",{children:[z.jsx(_9,{}),n]})}var g0={},ld={},wm={},Tm={},y0={exports:{}},_0,y1;function v9(){if(y1)return _0;y1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _0=n,_0}var v0,_1;function E9(){if(_1)return v0;_1=1;var n=v9();function e(){}function t(){}return t.resetWarningCache=e,v0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},v0}var v1;function dk(){return v1||(v1=1,y0.exports=E9()()),y0.exports}var E1;function b9(){return E1||(E1=1,function(n){(function(e,t){t(n,co(),dk())})(Tm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(M){return M&&M.__esModule?M:{default:M}}var h=Object.assign||function(M){for(var U=1;U<arguments.length;U++){var H=arguments[U];for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&(M[j]=H[j])}return M};function d(M,U){var H={};for(var j in M)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(M,j)&&(H[j]=M[j]);return H}function f(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}var g=function(){function M(U,H){for(var j=0;j<H.length;j++){var $=H[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(U,$.key,$)}}return function(U,H,j){return H&&M(U.prototype,H),j&&M(U,j),U}}();function _(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:M}function v(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}var T=!1;function w(M){T=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?M:M.capture}function x(M){if("touches"in M){var U=M.touches[0],H=U.pageX,j=U.pageY;return{x:H,y:j}}var $=M.screenX,V=M.screenY;return{x:$,y:V}}var L=function(M){v(U,M);function U(){var H;f(this,U);for(var j=arguments.length,$=Array(j),V=0;V<j;V++)$[V]=arguments[V];var C=_(this,(H=U.__proto__||Object.getPrototypeOf(U)).call.apply(H,[this].concat($)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var $=x(j),V=$.x,C=$.y;this.moveStart={x:V,y:C},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var $=x(j),V=$.x,C=$.y,R=V-this.moveStart.x,b=C-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:R,y:b},j);P&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:R,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,j):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var $=j.className,V=j.style,C=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var R=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:V},R),C)}}]),U}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(Tm)),Tm}var b1;function fk(){return b1||(b1=1,function(n){(function(e,t){t(n,b9())})(wm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(wm)),wm}var ud={},E0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var w1;function w9(){return w1||(w1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(E0)),E0.exports}var T1;function pk(){if(T1)return ud;T1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=e(w9());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return ud.default=r,ud}var cd={},hd={},S1;function T9(){if(S1)return hd;S1=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return hd.outerWidth=n,hd}var dd={},A1;function Iw(){if(A1)return dd;A1=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return dd.default=n,dd}var fd={},I1;function mk(){if(I1)return fd;I1=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=function(){return window};return fd.default=n,fd}var R1;function gk(){if(R1)return cd;R1=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=d(co()),e=u(pk()),t=T9(),r=u(Iw()),i=u(fk()),o=u(mk());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var R=h();if(R&&R.has(C))return R.get(C);var b={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in C)if(Object.prototype.hasOwnProperty.call(C,O)){var D=P?Object.getOwnPropertyDescriptor(C,O):null;D&&(D.get||D.set)?Object.defineProperty(b,O,D):b[O]=C[O]}return b.default=C,R&&R.set(C,b),b}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(C)}function g(){return g=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var b=arguments[R];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(C[P]=b[P])}return C},g.apply(this,arguments)}function _(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function v(C,R){for(var b=0;b<R.length;b++){var P=R[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function T(C,R,b){return R&&v(C.prototype,R),C}function w(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),R&&I(C,R)}function I(C,R){return I=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},I(C,R)}function x(C){var R=U();return function(){var P=H(C),O;if(R){var D=H(this).constructor;O=Reflect.construct(P,arguments,D)}else O=P.apply(this,arguments);return L(this,O)}}function L(C,R){return R&&(f(R)==="object"||typeof R=="function")?R:M(C)}function M(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(C){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},H(C)}function j(C,R,b){return R in C?Object.defineProperty(C,R,{value:b,enumerable:!0,configurable:!0,writable:!0}):C[R]=b,C}var $=function(R){return R.hasOwnProperty("key")},V=function(C){w(b,C);var R=x(b);function b(P){var O;return _(this,b),O=R.call(this,P),j(M(O),"itemsWrapperRef",void 0),j(M(O),"itemsListRef",void 0),j(M(O),"thumbsRef",void 0),j(M(O),"setItemsWrapperRef",function(D){O.itemsWrapperRef=D}),j(M(O),"setItemsListRef",function(D){O.itemsListRef=D}),j(M(O),"setThumbsRef",function(D,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=D}),j(M(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var D=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,B=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),Z=Math.floor(te/B),ie=Z<D,ae=ie?D-Z:0;O.setState(function(we,q){return{itemSize:B,visibleItems:Z,firstItem:ie?O.getFirstItem(q.selectedItem):0,lastPosition:ae,showArrows:ie}})}}),j(M(O),"handleClickItem",function(D,te,B){if(!$(B)||B.key==="Enter"){var Z=O.props.onSelectItem;typeof Z=="function"&&Z(D,te)}}),j(M(O),"onSwipeStart",function(){O.setState({swiping:!0})}),j(M(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),j(M(O),"onSwipeMove",function(D){var te=D.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var B=0,Z=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ae=Math.max(Z-O.state.visibleItems,0),we=-ae*100/O.state.visibleItems;ie===B&&te>0&&(te=0),ie===we&&te<0&&(te=0);var q=O.itemsWrapperRef.clientWidth,oe=ie+100/(q/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(oe,"%",O.props.axis)}),!0}),j(M(O),"slideRight",function(D){O.moveTo(O.state.firstItem-(typeof D=="number"?D:1))}),j(M(O),"slideLeft",function(D){O.moveTo(O.state.firstItem+(typeof D=="number"?D:1))}),j(M(O),"moveTo",function(D){D=D<0?0:D,D=D>=O.state.lastPosition?O.state.lastPosition:D,O.setState({firstItem:D})}),O.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var D=O;return O>=this.state.lastPosition&&(D=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),O<this.state.firstItem&&(D=O),D}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(D,te){var B=e.default.ITEM(!1,te===O.state.selectedItem),Z={key:te,ref:function(ae){return O.setThumbsRef(ae,te)},className:B,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},Z,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,Z={},ie=-this.state.firstItem*(this.state.itemSize||0),ae=(0,r.default)(ie,"px",this.props.axis),we=this.props.transitionTime+"ms";return Z={WebkitTransform:ae,MozTransform:ae,MsTransform:ae,OTransform:ae,transform:ae,msTransform:ae,WebkitTransitionDuration:we,MozTransitionDuration:we,MsTransitionDuration:we,OTransitionDuration:we,transitionDuration:we,msTransitionDuration:we},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:Z,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(oe){return O.setItemsListRef(oe)},style:Z},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return cd.default=V,j(V,"displayName","Thumbs"),j(V,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),cd}var pd={},C1;function S9(){if(C1)return pd;C1=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=function(){return document};return pd.default=n,pd}var Er={},x1;function yk(){if(x1)return Er;x1=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.setPosition=Er.getPosition=Er.isKeyboardEvent=Er.defaultStatusFormatter=Er.noop=void 0;var n=co(),e=t(Iw());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Er.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};Er.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};Er.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};Er.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Er.setPosition=h,Er}var oi={},P1;function A9(){if(P1)return oi;P1=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.fadeAnimationHandler=oi.slideStopSwipingHandler=oi.slideSwipeAnimationHandler=oi.slideAnimationHandler=void 0;var n=co(),e=r(Iw()),t=yk();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},I=T.selectedItem,x=I,L=n.Children.count(v.children)-1,M=v.infiniteLoop&&(I<0||I>L);if(M)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(L+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(L+2)*100,v.axis):x>L&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var U=(0,t.getPosition)(I,v),H=(0,e.default)(U,"%",v.axis),j=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),w};oi.slideAnimationHandler=h;var d=function(v,T,w,I){var x={},L=T.axis==="horizontal",M=n.Children.count(T.children),U=0,H=(0,t.getPosition)(w.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(M-1,T)-100:(0,t.getPosition)(M-1,T),$=L?v.x:v.y,V=$;H===U&&$>0&&(V=0),H===j&&$<0&&(V=0);var C=H+100/(w.itemSize/V),R=Math.abs($)>T.swipeScrollTolerance;return T.infiniteLoop&&R&&(w.selectedItem===0&&C>-100?C-=M*100:w.selectedItem===M-1&&C<-M*100&&(C+=M*100)),(!T.preventMovementUntilSwipeScrollTolerance||R||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(C,T.axis)),R&&!w.cancelClick&&I({cancelClick:!0}),x};oi.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};oi.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",I="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return oi.fadeAnimationHandler=g,oi}var O1;function I9(){if(O1)return ld;O1=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=g(co()),e=d(fk()),t=d(pk()),r=d(gk()),i=d(S9()),o=d(mk()),u=yk(),h=A9();function d(P){return P&&P.__esModule?P:{default:P}}function f(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return f=function(){return P},P}function g(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var O=f();if(O&&O.has(P))return O.get(P);var D={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in P)if(Object.prototype.hasOwnProperty.call(P,B)){var Z=te?Object.getOwnPropertyDescriptor(P,B):null;Z&&(Z.get||Z.set)?Object.defineProperty(D,B,Z):D[B]=P[B]}return D.default=P,O&&O.set(P,D),D}function _(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(P)}function v(){return v=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var D=arguments[O];for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(P[te]=D[te])}return P},v.apply(this,arguments)}function T(P,O){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);O&&(te=te.filter(function(B){return Object.getOwnPropertyDescriptor(P,B).enumerable})),D.push.apply(D,te)}return D}function w(P){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?T(Object(D),!0).forEach(function(te){R(P,te,D[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(te){Object.defineProperty(P,te,Object.getOwnPropertyDescriptor(D,te))})}return P}function I(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function x(P,O){for(var D=0;D<O.length;D++){var te=O[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function L(P,O,D){return O&&x(P.prototype,O),P}function M(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),O&&U(P,O)}function U(P,O){return U=Object.setPrototypeOf||function(te,B){return te.__proto__=B,te},U(P,O)}function H(P){var O=V();return function(){var te=C(P),B;if(O){var Z=C(this).constructor;B=Reflect.construct(te,arguments,Z)}else B=te.apply(this,arguments);return j(this,B)}}function j(P,O){return O&&(_(O)==="object"||typeof O=="function")?O:$(P)}function $(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(P){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},C(P)}function R(P,O,D){return O in P?Object.defineProperty(P,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[O]=D,P}var b=function(P){M(D,P);var O=H(D);function D(te){var B;I(this,D),B=O.call(this,te),R($(B),"thumbsRef",void 0),R($(B),"carouselWrapperRef",void 0),R($(B),"listRef",void 0),R($(B),"itemsRef",void 0),R($(B),"timer",void 0),R($(B),"animationHandler",void 0),R($(B),"setThumbsRef",function(ie){B.thumbsRef=ie}),R($(B),"setCarouselWrapperRef",function(ie){B.carouselWrapperRef=ie}),R($(B),"setListRef",function(ie){B.listRef=ie}),R($(B),"setItemsRef",function(ie,ae){B.itemsRef||(B.itemsRef=[]),B.itemsRef[ae]=ie}),R($(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),R($(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),R($(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),R($(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),R($(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),R($(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),R($(B),"navigateWithKeyboard",function(ie){if(B.isFocusWithinTheCarousel()){var ae=B.props.axis,we=ae==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},oe=we?q.ArrowRight:q.ArrowDown,be=we?q.ArrowLeft:q.ArrowUp;oe===ie.keyCode?B.increment():be===ie.keyCode&&B.decrement()}}),R($(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var ie=B.props.axis==="horizontal",ae=B.itemsRef[0];if(ae){var we=ie?ae.clientWidth:ae.clientHeight;B.setState({itemSize:we}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),R($(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),R($(B),"handleClickItem",function(ie,ae){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(ie,ae),ie!==B.state.selectedItem&&B.setState({selectedItem:ie})}}),R($(B),"handleOnChange",function(ie,ae){n.Children.count(B.props.children)<=1||B.props.onChange(ie,ae)}),R($(B),"handleClickThumb",function(ie,ae){B.props.onClickThumb(ie,ae),B.moveTo(ie)}),R($(B),"onSwipeStart",function(ie){B.setState({swiping:!0}),B.props.onSwipeStart(ie)}),R($(B),"onSwipeEnd",function(ie){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(ie),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),R($(B),"onSwipeMove",function(ie,ae){B.props.onSwipeMove(ae);var we=B.props.swipeAnimationHandler(ie,B.props,B.state,B.setState.bind($(B)));return B.setState(w({},we)),!!Object.keys(we).length}),R($(B),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof ie=="number"?ie:1))}),R($(B),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof ie=="number"?ie:1))}),R($(B),"moveTo",function(ie){if(typeof ie=="number"){var ae=n.Children.count(B.props.children)-1;ie<0&&(ie=B.props.infiniteLoop?ae:0),ie>ae&&(ie=B.props.infiniteLoop?0:ae),B.selectItem({selectedItem:ie}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),R($(B),"onClickNext",function(){B.increment(1)}),R($(B),"onClickPrev",function(){B.decrement(1)}),R($(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R($(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R($(B),"changeItem",function(ie){return function(ae){(!(0,u.isKeyboardEvent)(ae)||ae.key==="Enter")&&B.moveTo(ie)}}),R($(B),"selectItem",function(ie){B.setState(w({previousItem:B.state.selectedItem},ie),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(ie.selectedItem,n.Children.toArray(B.props.children)[ie.selectedItem])}),R($(B),"getInitialImage",function(){var ie=B.props.selectedItem,ae=B.itemsRef&&B.itemsRef[ie],we=ae&&ae.getElementsByTagName("img")||[];return we[0]}),R($(B),"getVariableItemHeight",function(ie){var ae=B.itemsRef&&B.itemsRef[ie];if(B.state.hasMount&&ae&&ae.children.length){var we=ae.children[0].getElementsByTagName("img")||[];if(we.length>0){var q=we[0];if(!q.complete){var oe=function ye(){B.forceUpdate(),q.removeEventListener("load",ye)};q.addEventListener("load",oe)}}var be=we[0]||ae.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var Z={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=w(w({},Z),B.animationHandler(te,Z)),B}return L(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,Z){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),Z.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var Z=B.getInitialImage();Z&&!Z.complete?Z.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var Z=this;return this.props.children?n.Children.map(this.props.children,function(ie,ae){var we=ae===Z.state.selectedItem,q=ae===Z.state.previousItem,oe=we&&Z.state.selectedStyle||q&&Z.state.prevStyle||Z.state.slideStyle||{};Z.props.centerMode&&Z.props.axis==="horizontal"&&(oe=w(w({},oe),{},{minWidth:Z.props.centerSlidePercentage+"%"})),Z.state.swiping&&Z.state.swipeMovementStarted&&(oe=w(w({},oe),{},{pointerEvents:"none"}));var be={ref:function(ye){return Z.setItemsRef(ye,ae)},key:"itemKey"+ae+(B?"clone":""),className:t.default.ITEM(!0,ae===Z.state.selectedItem,ae===Z.state.previousItem),onClick:Z.handleClickItem.bind(Z,ae,ie),style:oe};return n.default.createElement("li",be,Z.props.renderItem(ie,{isSelected:ae===Z.state.selectedItem,isPrevious:ae===Z.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,Z=this.props,ie=Z.showIndicators,ae=Z.labels,we=Z.renderIndicator,q=Z.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(oe,be){return we&&we(B.changeItem(be),be===B.state.selectedItem,be,ae.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var Z=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ae=this.props.showArrows&&n.Children.count(this.props.children)>1,we=ae&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ae&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,oe=this.renderItems(!0),be=oe.shift(),ve=oe.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);Oe.height=De||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,we,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},Z?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(qe){return B.setListRef(qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return ld.default=b,R(b,"displayName","Carousel"),R(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!D),onClick:O})},renderArrowNext:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!D),onClick:O})},renderIndicator:function(O,D,te,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var D=n.Children.map(O,function(te){var B=te;if(te.type!=="img"&&(B=n.Children.toArray(te.props.children).find(function(Z){return Z.type==="img"})),!!B)return B});return D.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),ld}var D1={},k1;function R9(){return k1||(k1=1),D1}var N1;function C9(){return N1||(N1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(I9()),t=R9(),r=i(gk());function i(o){return o&&o.__esModule?o:{default:o}}}(g0)),g0}var x9=C9();const P9="/Amazon-Clone-2025/assets/51ih-jfm2rL._SX3000_-bXIeDAkL.jpg",O9="/Amazon-Clone-2025/assets/61jDhQd1XeL._SX3000_-DW2mj3ov.jpg",D9="/Amazon-Clone-2025/assets/61KYuizQJEL._SX3000_-CspuPQFo.jpg",k9="/Amazon-Clone-2025/assets/71YYH_9L67L._SX3000_-BtezP7m_.jpg",N9="/Amazon-Clone-2025/assets/81DiGJr_2eL._SX3000_-De4xj7k2.jpg",V9=[P9,O9,D9,k9,N9],M9="_hero_img_1qh2p_1",L9={hero_img:M9};function U9(){return z.jsxs("div",{children:[z.jsx(x9.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:V9.map((n,e)=>z.jsx("img",{src:n},e))}),z.jsx("div",{className:L9.hero_img})]})}const b0=[{title:"Electronics",name:"electronics",imageLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"Women's clothing",imageLink:"https://m.media-amazon.com/images/I/51HJcbvhCKL._AC_SY445_.jpg"},{title:"Men's clothing",name:"men's clothing",imageLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imageLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],B9="_catagory_1t4hv_1",F9="_catagory_containers_1t4hv_27",_k={catagory:B9,catagory_containers:F9};function j9({data:n}){return z.jsx("div",{className:_k.catagory,children:z.jsxs(Fi,{to:`/category/${n.name}`,children:[z.jsx("span",{children:z.jsx("h1",{children:n==null?void 0:n.title})}),z.jsx("img",{src:n==null?void 0:n.imageLink,alt:""}),z.jsx("p",{children:"shop now"})]})})}function z9(){return z.jsx("section",{className:_k.catagory_containers,children:b0==null?void 0:b0.map((n,e)=>z.jsx(j9,{data:n},e))})}function vk(n,e){return function(){return n.apply(e,arguments)}}const{toString:q9}=Object.prototype,{getPrototypeOf:Rw}=Object,Ry=(n=>e=>{const t=q9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hi=n=>(n=n.toLowerCase(),e=>Ry(e)===n),Cy=n=>e=>typeof e===n,{isArray:zc}=Array,ff=Cy("undefined");function H9(n){return n!==null&&!ff(n)&&n.constructor!==null&&!ff(n.constructor)&&Ir(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ek=hi("ArrayBuffer");function $9(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ek(n.buffer),e}const G9=Cy("string"),Ir=Cy("function"),bk=Cy("number"),xy=n=>n!==null&&typeof n=="object",K9=n=>n===!0||n===!1,Gm=n=>{if(Ry(n)!=="object")return!1;const e=Rw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},W9=hi("Date"),Q9=hi("File"),Y9=hi("Blob"),X9=hi("FileList"),J9=n=>xy(n)&&Ir(n.pipe),Z9=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ir(n.append)&&((e=Ry(n))==="formdata"||e==="object"&&Ir(n.toString)&&n.toString()==="[object FormData]"))},eq=hi("URLSearchParams"),[tq,nq,rq,iq]=["ReadableStream","Request","Response","Headers"].map(hi),sq=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),zc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function wk(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tk=n=>!ff(n)&&n!==dl;function bE(){const{caseless:n}=Tk(this)&&this||{},e={},t=(r,i)=>{const o=n&&wk(e,i)||i;Gm(e[o])&&Gm(r)?e[o]=bE(e[o],r):Gm(r)?e[o]=bE({},r):zc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&zf(arguments[r],t);return e}const aq=(n,e,t,{allOwnKeys:r}={})=>(zf(e,(i,o)=>{t&&Ir(i)?n[o]=vk(i,t):n[o]=i},{allOwnKeys:r}),n),oq=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),lq=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},uq=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Rw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},cq=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},hq=n=>{if(!n)return null;if(zc(n))return n;let e=n.length;if(!bk(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},dq=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Rw(Uint8Array)),fq=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},pq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},mq=hi("HTMLFormElement"),gq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),V1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yq=hi("RegExp"),Sk=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};zf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},_q=n=>{Sk(n,(e,t)=>{if(Ir(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ir(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},vq=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return zc(n)?r(n):r(String(n).split(e)),t},Eq=()=>{},bq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function wq(n){return!!(n&&Ir(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Tq=n=>{const e=new Array(10),t=(r,i)=>{if(xy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=zc(r)?[]:{};return zf(r,(u,h)=>{const d=t(u,i+1);!ff(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},Sq=hi("AsyncFunction"),Aq=n=>n&&(xy(n)||Ir(n))&&Ir(n.then)&&Ir(n.catch),Ak=((n,e)=>n?setImmediate:e?((t,r)=>(dl.addEventListener("message",({source:i,data:o})=>{i===dl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),dl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ir(dl.postMessage)),Iq=typeof queueMicrotask<"u"?queueMicrotask.bind(dl):typeof process<"u"&&process.nextTick||Ak,se={isArray:zc,isArrayBuffer:Ek,isBuffer:H9,isFormData:Z9,isArrayBufferView:$9,isString:G9,isNumber:bk,isBoolean:K9,isObject:xy,isPlainObject:Gm,isReadableStream:tq,isRequest:nq,isResponse:rq,isHeaders:iq,isUndefined:ff,isDate:W9,isFile:Q9,isBlob:Y9,isRegExp:yq,isFunction:Ir,isStream:J9,isURLSearchParams:eq,isTypedArray:dq,isFileList:X9,forEach:zf,merge:bE,extend:aq,trim:sq,stripBOM:oq,inherits:lq,toFlatObject:uq,kindOf:Ry,kindOfTest:hi,endsWith:cq,toArray:hq,forEachEntry:fq,matchAll:pq,isHTMLForm:mq,hasOwnProperty:V1,hasOwnProp:V1,reduceDescriptors:Sk,freezeMethods:_q,toObjectSet:vq,toCamelCase:gq,noop:Eq,toFiniteNumber:bq,findKey:wk,global:dl,isContextDefined:Tk,isSpecCompliantForm:wq,toJSONObject:Tq,isAsyncFn:Sq,isThenable:Aq,setImmediate:Ak,asap:Iq};function Ve(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const Ik=Ve.prototype,Rk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Rk[n]={value:n}});Object.defineProperties(Ve,Rk);Object.defineProperty(Ik,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,i,o)=>{const u=Object.create(Ik);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ve.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const Rq=null;function wE(n){return se.isPlainObject(n)||se.isArray(n)}function Ck(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function M1(n,e,t){return n?n.concat(e).map(function(i,o){return i=Ck(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Cq(n){return se.isArray(n)&&!n.some(wE)}const xq=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function Py(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,x){return!se.isUndefined(x[I])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,x){let L=w;if(w&&!x&&typeof w=="object"){if(se.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&Cq(w)||(se.isFileList(w)||se.endsWith(I,"[]"))&&(L=se.toArray(w)))return I=Ck(I),L.forEach(function(U,H){!(se.isUndefined(U)||U===null)&&e.append(u===!0?M1([I],H,o):u===null?I:I+"[]",f(U))}),!1}return wE(w)?!0:(e.append(M1(x,I,o),f(w)),!1)}const _=[],v=Object.assign(xq,{defaultVisitor:g,convertValue:f,isVisitable:wE});function T(w,I){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),se.forEach(w,function(L,M){(!(se.isUndefined(L)||L===null)&&i.call(e,L,se.isString(M)?M.trim():M,I,v))===!0&&T(L,I?I.concat(M):[M])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function L1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Cw(n,e){this._pairs=[],n&&Py(n,this,e)}const xk=Cw.prototype;xk.append=function(e,t){this._pairs.push([e,t])};xk.toString=function(e){const t=e?function(r){return e.call(this,r,L1)}:L1;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Pq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pk(n,e,t){if(!e)return n;const r=t&&t.encode||Pq;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Cw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class U1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ok={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oq=typeof URLSearchParams<"u"?URLSearchParams:Cw,Dq=typeof FormData<"u"?FormData:null,kq=typeof Blob<"u"?Blob:null,Nq={isBrowser:!0,classes:{URLSearchParams:Oq,FormData:Dq,Blob:kq},protocols:["http","https","file","blob","url","data"]},xw=typeof window<"u"&&typeof document<"u",TE=typeof navigator=="object"&&navigator||void 0,Vq=xw&&(!TE||["ReactNative","NativeScript","NS"].indexOf(TE.product)<0),Mq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lq=xw&&window.location.href||"http://localhost",Uq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xw,hasStandardBrowserEnv:Vq,hasStandardBrowserWebWorkerEnv:Mq,navigator:TE,origin:Lq},Symbol.toStringTag,{value:"Module"})),$n={...Uq,...Nq};function Bq(n,e){return Py(n,new $n.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return $n.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Fq(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jq(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Dk(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=jq(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(Fq(r),i,t,0)}),t}return null}function zq(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const qf={transitional:Ok,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(Dk(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bq(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Py(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),zq(e)):e}],transformResponse:[function(e){const t=this.transitional||qf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{qf.headers[n]={}});const qq=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&qq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},B1=Symbol("internals");function md(n){return n&&String(n).trim().toLowerCase()}function Km(n){return n===!1||n==null?n:se.isArray(n)?n.map(Km):String(n)}function $q(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Gq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function w0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function Kq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Wq(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=md(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Km(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!Gq(e))u(Hq(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=md(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return $q(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=md(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||w0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=md(u),u){const h=se.findKey(r,u);h&&(!t||w0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||w0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=Km(i),delete t[o];return}const h=e?Kq(o):String(o).trim();h!==o&&delete t[o],t[h]=Km(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[B1]=this[B1]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=md(u);r[h]||(Wq(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(hr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(hr);function T0(n,e){const t=this||qf,r=e||t,i=hr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function kk(n){return!!(n&&n.__CANCEL__)}function qc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(qc,Ve,{__CANCEL__:!0});function Nk(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Qq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Yq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function Xq(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Dg=(n,e,t=3)=>{let r=0;const i=Yq(50,250);return Xq(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},F1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},j1=n=>(...e)=>se.asap(()=>n(...e)),Jq=$n.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,$n.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,Zq=$n.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eH(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function tH(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Vk(n,e,t){let r=!eH(e);return n&&r||t==!1?tH(n,e):e}const z1=n=>n instanceof hr?{...n}:n;function xl(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(z1(f),z1(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const Mk=n=>{const e=xl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=hr.from(u),e.url=Pk(Vk(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if($n.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&Jq(e.url))){const f=i&&o&&Zq.read(o);f&&u.set(i,f)}return e},nH=typeof XMLHttpRequest<"u",rH=nH&&function(n){return new Promise(function(t,r){const i=Mk(n);let o=i.data;const u=hr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function I(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function L(){if(!x)return;const U=hr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:U,config:n,request:x};Nk(function(V){t(V),I()},function(V){r(V),I()},j),x=null}"onloadend"in x?x.onloadend=L:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(L)},x.onabort=function(){x&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||Ok;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Ve(H,j.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&se.forEach(u.toJSON(),function(H,j){x.setRequestHeader(j,H)}),se.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),h&&h!=="json"&&(x.responseType=i.responseType),f&&([v,w]=Dg(f,!0),x.addEventListener("progress",v)),d&&x.upload&&([_,T]=Dg(d),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=U=>{x&&(r(!U||U.type?new qc(null,n,x):U),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const M=Qq(i.url);if(M&&$n.protocols.indexOf(M)===-1){r(new Ve("Unsupported protocol "+M+":",Ve.ERR_BAD_REQUEST,n));return}x.send(o||null)})},iH=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ve?g:new qc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},sH=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},aH=async function*(n,e){for await(const t of oH(n))yield*sH(t,e)},oH=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},q1=(n,e,t,r)=>{const i=aH(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},Oy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lk=Oy&&typeof ReadableStream=="function",lH=Oy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Uk=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uH=Lk&&Uk(()=>{let n=!1;const e=new Request($n.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),H1=64*1024,SE=Lk&&Uk(()=>se.isReadableStream(new Response("").body)),kg={stream:SE&&(n=>n.body)};Oy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kg[e]&&(kg[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const cH=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request($n.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await lH(n)).byteLength},hH=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??cH(e)},dH=Oy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=Mk(n);f=f?(f+"").toLowerCase():"text";let T=iH([i,o&&o.toAbortSignal()],u),w;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let x;try{if(d&&uH&&t!=="get"&&t!=="head"&&(x=await hH(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(se.isFormData(r)&&($=j.headers.get("content-type"))&&g.setContentType($),j.body){const[V,C]=F1(x,Dg(j1(d)));r=q1(j.body,H1,V,C)}}se.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?_:void 0});let M=await fetch(w);const U=SE&&(f==="stream"||f==="response");if(SE&&(h||U&&I)){const j={};["status","statusText","headers"].forEach(R=>{j[R]=M[R]});const $=se.toFiniteNumber(M.headers.get("content-length")),[V,C]=h&&F1($,Dg(j1(h),!0))||[];M=new Response(q1(M.body,H1,V,()=>{C&&C(),I&&I()}),j)}f=f||"text";let H=await kg[se.findKey(kg,f)||"text"](M,n);return!U&&I&&I(),await new Promise((j,$)=>{Nk(j,$,{data:H,headers:hr.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:w})})}catch(L){throw I&&I(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,n,w),{cause:L.cause||L}):Ve.from(L,L&&L.code,n,w)}}),AE={http:Rq,xhr:rH,fetch:dH};se.forEach(AE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const $1=n=>`- ${n}`,fH=n=>se.isFunction(n)||n===null||n===!1,Bk={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!fH(t)&&(r=AE[(u=String(t)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map($1).join(`
`):" "+$1(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:AE};function S0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qc(null,n)}function G1(n){return S0(n),n.headers=hr.from(n.headers),n.data=T0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Bk.getAdapter(n.adapter||qf.adapter)(n).then(function(r){return S0(n),r.data=T0.call(n,n.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return kk(r)||(S0(n),r&&r.response&&(r.response.data=T0.call(n,n.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const Fk="1.8.2",Dy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Dy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const K1={};Dy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+Fk+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(i(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!K1[u]&&(K1[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Dy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function pH(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Wm={assertOptions:pH,validators:Dy},Pi=Wm.validators;let gl=class{constructor(e){this.defaults=e,this.interceptors={request:new U1,response:new U1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=xl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Wm.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Wm.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Wm.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=hr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const w=[G1.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],I=h[_++];try{T=w(T)}catch(x){I.call(this,x);break}}try{g=G1.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=xl(this.defaults,e);const t=Vk(e.baseURL,e.url,e.allowAbsoluteUrls);return Pk(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){gl.prototype[e]=function(t,r){return this.request(xl(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(xl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}gl.prototype[e]=t(),gl.prototype[e+"Form"]=t(!0)});let mH=class jk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new qc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jk(function(i){e=i}),cancel:e}}};function gH(n){return function(t){return n.apply(null,t)}}function yH(n){return se.isObject(n)&&n.isAxiosError===!0}const IE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(IE).forEach(([n,e])=>{IE[e]=n});function zk(n){const e=new gl(n),t=vk(gl.prototype.request,e);return se.extend(t,gl.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return zk(xl(n,i))},t}const Ct=zk(qf);Ct.Axios=gl;Ct.CanceledError=qc;Ct.CancelToken=mH;Ct.isCancel=kk;Ct.VERSION=Fk;Ct.toFormData=Py;Ct.AxiosError=Ve;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=gH;Ct.isAxiosError=yH;Ct.mergeConfig=xl;Ct.AxiosHeaders=hr;Ct.formToJSON=n=>Dk(se.isHTMLForm(n)?new FormData(n):n);Ct.getAdapter=Bk.getAdapter;Ct.HttpStatusCode=IE;Ct.default=Ct;const{Axios:MK,AxiosError:LK,CanceledError:UK,isCancel:BK,CancelToken:FK,VERSION:jK,all:zK,Cancel:qK,isAxiosError:HK,spread:$K,toFormData:GK,AxiosHeaders:KK,HttpStatusCode:WK,formToJSON:QK,getAdapter:YK,mergeConfig:XK}=Ct;var _H=dk();const Nt=UE(_H);function qk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=qk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function yl(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=qk(n))&&(r&&(r+=" "),r+=e);return r}function Hk(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const vH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function $k(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const EH=W.createContext(),bH=()=>W.useContext(EH)??!1;function W1(n){try{return n.matches(":focus-visible")}catch{}return!1}var A0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function wH(){if(Q1)return ht;Q1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var x=I.$$typeof;switch(x){case n:switch(I=I.type,I){case t:case i:case r:case d:case f:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return x}}case e:return x}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(I){return w(I)===o},ht.isContextProvider=function(I){return w(I)===u},ht.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ht.isForwardRef=function(I){return w(I)===h},ht.isFragment=function(I){return w(I)===t},ht.isLazy=function(I){return w(I)===_},ht.isMemo=function(I){return w(I)===g},ht.isPortal=function(I){return w(I)===e},ht.isProfiler=function(I){return w(I)===i},ht.isStrictMode=function(I){return w(I)===r},ht.isSuspense=function(I){return w(I)===d},ht.isSuspenseList=function(I){return w(I)===f},ht.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===i||I===r||I===d||I===f||I===v||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===T||I.getModuleId!==void 0)},ht.typeOf=w,ht}var Y1;function TH(){return Y1||(Y1=1,A0.exports=wH()),A0.exports}var Gk=TH();function Cs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Kk(n){if(W.isValidElement(n)||Gk.isValidElementType(n)||!Cs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Kk(n[t])}),e}function Rr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Cs(n)&&Cs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||Gk.isValidElementType(e[i])?r[i]=e[i]:Cs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Cs(n[i])?r[i]=Rr(n[i],e[i],t):t.clone?r[i]=Cs(e[i])?Kk(e[i]):e[i]:r[i]=e[i]}),r}function Pl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function lo(n){if(typeof n!="string")throw new Error(Pl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function SH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let X1=0;function AH(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(X1+=1,t(`mui-${X1}`))},[e]),r}const IH={...O0},J1=IH.useId;function Wk(n){if(J1!==void 0){const e=J1();return n??e}return AH(n)}function RH({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,d=W.useCallback(f=>{i||u(f)},[]);return[h,d]}function Qk(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{SH(t,e)})},n)}function RE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=RE(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const Z1=n=>n,CH=()=>{let n=Z1;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Z1}}},xH=CH(),PH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pw(n,e,t="Mui"){const r=PH[e];return r?`${t}-${r}`:`${xH.generate(n)}-${e}`}function Yk(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Pw(n,i,t)}),r}function OH(n){return typeof n=="string"}function DH(n,e,t){return n===void 0||OH(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function kH(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function eC(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function NH(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=yl(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),w={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},I={...t,...i,...r};return T.length>0&&(I.className=T),Object.keys(w).length>0&&(I.style=w),{props:I,internalRef:void 0}}const u=kH({...i,...r}),h=eC(r),d=eC(i),f=e(u),g=yl(f==null?void 0:f.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_={...f==null?void 0:f.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...f,...t,...d,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:f.ref}}function VH(n,e,t){return typeof n=="function"?n(e,t):n}function jd(n,e){return e?Rr(n,e,{clone:!1}):n}function MH(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function LH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function UH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function BH(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const ky={xs:0,sm:600,md:900,lg:1200,xl:1536},tC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${ky[n]}px)`},FH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:ky[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function zs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||tC;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||tC;return Object.keys(e).reduce((u,h)=>{if(LH(o.keys,h)){const d=UH(r.containerQueries?r:FH,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||ky).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function jH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function zH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Ny(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ng(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Ny(n,t)||r,e&&(i=e(i,r,n)),i}function en(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=Ny(d,r)||{};return zs(u,h,_=>{let v=Ng(f,i,_);return _===v&&typeof _=="string"&&(v=Ng(f,i,`${e}${_==="default"?"":lo(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function qH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const HH={m:"margin",p:"padding"},$H={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},GH=qH(n=>{if(n.length>2)if(nC[n])n=nC[n];else return[n];const[e,t]=n.split(""),r=HH[e],i=$H[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Ow=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Dw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ow,...Dw];function Hf(n,e,t,r){const i=Ny(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function kw(n){return Hf(n,"spacing",8)}function $f(n,e){return typeof e=="string"||e==null?e:n(e)}function KH(n,e){return t=>n.reduce((r,i)=>(r[i]=$f(e,t),r),{})}function WH(n,e,t,r){if(!e.includes(t))return null;const i=GH(t),o=KH(i,r),u=n[t];return zs(n,u,o)}function Xk(n,e){const t=kw(n.theme);return Object.keys(n).map(r=>WH(n,e,r,t)).reduce(jd,{})}function qt(n){return Xk(n,Ow)}qt.propTypes={};qt.filterProps=Ow;function Ht(n){return Xk(n,Dw)}Ht.propTypes={};Ht.filterProps=Dw;function Vy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?jd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Kr(n){return typeof n!="number"?n:`${n}px solid`}function Jr(n,e){return en({prop:n,themeKey:"borders",transform:e})}const QH=Jr("border",Kr),YH=Jr("borderTop",Kr),XH=Jr("borderRight",Kr),JH=Jr("borderBottom",Kr),ZH=Jr("borderLeft",Kr),e8=Jr("borderColor"),t8=Jr("borderTopColor"),n8=Jr("borderRightColor"),r8=Jr("borderBottomColor"),i8=Jr("borderLeftColor"),s8=Jr("outline",Kr),a8=Jr("outlineColor"),My=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Hf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:$f(e,r)});return zs(n,n.borderRadius,t)}return null};My.propTypes={};My.filterProps=["borderRadius"];Vy(QH,YH,XH,JH,ZH,e8,t8,n8,r8,i8,My,s8,a8);const Ly=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Hf(n.theme,"spacing",8),t=r=>({gap:$f(e,r)});return zs(n,n.gap,t)}return null};Ly.propTypes={};Ly.filterProps=["gap"];const Uy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Hf(n.theme,"spacing",8),t=r=>({columnGap:$f(e,r)});return zs(n,n.columnGap,t)}return null};Uy.propTypes={};Uy.filterProps=["columnGap"];const By=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Hf(n.theme,"spacing",8),t=r=>({rowGap:$f(e,r)});return zs(n,n.rowGap,t)}return null};By.propTypes={};By.filterProps=["rowGap"];const o8=en({prop:"gridColumn"}),l8=en({prop:"gridRow"}),u8=en({prop:"gridAutoFlow"}),c8=en({prop:"gridAutoColumns"}),h8=en({prop:"gridAutoRows"}),d8=en({prop:"gridTemplateColumns"}),f8=en({prop:"gridTemplateRows"}),p8=en({prop:"gridTemplateAreas"}),m8=en({prop:"gridArea"});Vy(Ly,Uy,By,o8,l8,u8,c8,h8,d8,f8,p8,m8);function Yu(n,e){return e==="grey"?e:n}const g8=en({prop:"color",themeKey:"palette",transform:Yu}),y8=en({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yu}),_8=en({prop:"backgroundColor",themeKey:"palette",transform:Yu});Vy(g8,y8,_8);function Sr(n){return n<=1&&n!==0?`${n*100}%`:n}const v8=en({prop:"width",transform:Sr}),Nw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||ky[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Sr(t)}};return zs(n,n.maxWidth,e)}return null};Nw.filterProps=["maxWidth"];const E8=en({prop:"minWidth",transform:Sr}),b8=en({prop:"height",transform:Sr}),w8=en({prop:"maxHeight",transform:Sr}),T8=en({prop:"minHeight",transform:Sr});en({prop:"size",cssProperty:"width",transform:Sr});en({prop:"size",cssProperty:"height",transform:Sr});const S8=en({prop:"boxSizing"});Vy(v8,Nw,E8,b8,w8,T8,S8);const Fy={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:My},color:{themeKey:"palette",transform:Yu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yu},backgroundColor:{themeKey:"palette",transform:Yu},p:{style:Ht},pt:{style:Ht},pr:{style:Ht},pb:{style:Ht},pl:{style:Ht},px:{style:Ht},py:{style:Ht},padding:{style:Ht},paddingTop:{style:Ht},paddingRight:{style:Ht},paddingBottom:{style:Ht},paddingLeft:{style:Ht},paddingX:{style:Ht},paddingY:{style:Ht},paddingInline:{style:Ht},paddingInlineStart:{style:Ht},paddingInlineEnd:{style:Ht},paddingBlock:{style:Ht},paddingBlockStart:{style:Ht},paddingBlockEnd:{style:Ht},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ly},rowGap:{style:By},columnGap:{style:Uy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Sr},maxWidth:{style:Nw},minWidth:{transform:Sr},height:{transform:Sr},maxHeight:{transform:Sr},minHeight:{transform:Sr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function A8(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function I8(n,e){return typeof n=="function"?n(e):n}function R8(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=Ny(i,f)||{};return _?_(u):zs(u,r,w=>{let I=Ng(v,g,w);return w===I&&typeof w=="string"&&(I=Ng(v,g,`${t}${w==="default"?"":lo(w)}`,w)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Fy;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=jH(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=I8(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=jd(_,n(v,T,i,o));else{const w=zs({theme:i},T,I=>({[v]:I}));A8(w,T)?_[v]=e({sx:T,theme:i}):_=jd(_,w)}else _=jd(_,n(v,T,i,o))}),MH(i,zH(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const wc=R8();wc.filterProps=["sx"];function CE(){return CE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CE.apply(null,arguments)}function C8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function x8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var P8=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(x8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=C8(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),qn="-ms-",Vg="-moz-",rt="-webkit-",Jk="comm",Vw="rule",Mw="decl",O8="@import",Zk="@keyframes",D8="@layer",k8=Math.abs,jy=String.fromCharCode,N8=Object.assign;function V8(n,e){return Mn(n,0)^45?(((e<<2^Mn(n,0))<<2^Mn(n,1))<<2^Mn(n,2))<<2^Mn(n,3):0}function eN(n){return n.trim()}function M8(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function xE(n,e){return n.indexOf(e)}function Mn(n,e){return n.charCodeAt(e)|0}function pf(n,e,t){return n.slice(e,t)}function Ni(n){return n.length}function Lw(n){return n.length}function Sm(n,e){return e.push(n),n}function L8(n,e){return n.map(e).join("")}var zy=1,Tc=1,tN=0,dr=0,ln=0,Hc="";function qy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:zy,column:Tc,length:u,return:""}}function gd(n,e){return N8(qy("",null,null,"",null,null,0),n,{length:-n.length},e)}function U8(){return ln}function B8(){return ln=dr>0?Mn(Hc,--dr):0,Tc--,ln===10&&(Tc=1,zy--),ln}function Cr(){return ln=dr<tN?Mn(Hc,dr++):0,Tc++,ln===10&&(Tc=1,zy++),ln}function Gi(){return Mn(Hc,dr)}function Qm(){return dr}function Gf(n,e){return pf(Hc,n,e)}function mf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nN(n){return zy=Tc=1,tN=Ni(Hc=n),dr=0,[]}function rN(n){return Hc="",n}function Ym(n){return eN(Gf(dr-1,PE(n===91?n+2:n===40?n+1:n)))}function F8(n){for(;(ln=Gi())&&ln<33;)Cr();return mf(n)>2||mf(ln)>3?"":" "}function j8(n,e){for(;--e&&Cr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return Gf(n,Qm()+(e<6&&Gi()==32&&Cr()==32))}function PE(n){for(;Cr();)switch(ln){case n:return dr;case 34:case 39:n!==34&&n!==39&&PE(ln);break;case 40:n===41&&PE(n);break;case 92:Cr();break}return dr}function z8(n,e){for(;Cr()&&n+ln!==57;)if(n+ln===84&&Gi()===47)break;return"/*"+Gf(e,dr-1)+"*"+jy(n===47?n:Cr())}function q8(n){for(;!mf(Gi());)Cr();return Gf(n,dr)}function H8(n){return rN(Xm("",null,null,null,[""],n=nN(n),0,[0],n))}function Xm(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,I=1,x=1,L=1,M=0,U="",H=i,j=o,$=r,V=U;x;)switch(w=M,M=Cr()){case 40:if(w!=108&&Mn(V,_-1)==58){xE(V+=it(Ym(M),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:V+=Ym(M);break;case 9:case 10:case 13:case 32:V+=F8(w);break;case 92:V+=j8(Qm()-1,7);continue;case 47:switch(Gi()){case 42:case 47:Sm($8(z8(Cr(),Qm()),e,t),d);break;default:V+="/"}break;case 123*I:h[f++]=Ni(V)*L;case 125*I:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+g:L==-1&&(V=it(V,/\f/g,"")),T>0&&Ni(V)-_&&Sm(T>32?iC(V+";",r,t,_-1):iC(it(V," ","")+";",r,t,_-2),d);break;case 59:V+=";";default:if(Sm($=rC(V,e,t,f,g,i,h,U,H=[],j=[],_),o),M===123)if(g===0)Xm(V,e,$,$,H,o,_,h,j);else switch(v===99&&Mn(V,3)===110?100:v){case 100:case 108:case 109:case 115:Xm(n,$,$,r&&Sm(rC(n,$,$,0,0,i,h,U,i,H=[],_),j),i,j,_,h,r?H:j);break;default:Xm(V,$,$,$,[""],j,0,h,j)}}f=g=T=0,I=L=1,U=V="",_=u;break;case 58:_=1+Ni(V),T=w;default:if(I<1){if(M==123)--I;else if(M==125&&I++==0&&B8()==125)continue}switch(V+=jy(M),M*I){case 38:L=g>0?1:(V+="\f",-1);break;case 44:h[f++]=(Ni(V)-1)*L,L=1;break;case 64:Gi()===45&&(V+=Ym(Cr())),v=Gi(),g=_=Ni(U=V+=q8(Qm())),M++;break;case 45:w===45&&Ni(V)==2&&(I=0)}}return o}function rC(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],T=Lw(v),w=0,I=0,x=0;w<r;++w)for(var L=0,M=pf(n,_+1,_=k8(I=u[w])),U=n;L<T;++L)(U=eN(I>0?v[L]+" "+M:it(M,/&\f/g,v[L])))&&(d[x++]=U);return qy(n,e,t,i===0?Vw:h,d,f,g)}function $8(n,e,t){return qy(n,e,t,Jk,jy(U8()),pf(n,2,-2),0)}function iC(n,e,t,r){return qy(n,e,t,Mw,pf(n,0,r),pf(n,r+1,-1),r)}function Xu(n,e){for(var t="",r=Lw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function G8(n,e,t,r){switch(n.type){case D8:if(n.children.length)break;case O8:case Mw:return n.return=n.return||n.value;case Jk:return"";case Zk:return n.return=n.value+"{"+Xu(n.children,r)+"}";case Vw:n.value=n.props.join(",")}return Ni(t=Xu(n.children,r))?n.return=n.value+"{"+t+"}":""}function K8(n){var e=Lw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function W8(n){return function(e){e.root||(e=e.return)&&n(e)}}function iN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Q8=function(e,t,r){for(var i=0,o=0;i=o,o=Gi(),i===38&&o===12&&(t[r]=1),!mf(o);)Cr();return Gf(e,dr)},Y8=function(e,t){var r=-1,i=44;do switch(mf(i)){case 0:i===38&&Gi()===12&&(t[r]=1),e[r]+=Q8(dr-1,t,r);break;case 2:e[r]+=Ym(i);break;case 4:if(i===44){e[++r]=Gi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=jy(i)}while(i=Cr());return e},X8=function(e,t){return rN(Y8(nN(e),t))},sC=new WeakMap,J8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!sC.get(r))&&!i){sC.set(e,!0);for(var o=[],u=X8(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},Z8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function sN(n,e){switch(V8(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Vg+n+qn+n+n;case 6828:case 4268:return rt+n+qn+n+n;case 6165:return rt+n+qn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+qn+"flex-$1$2")+n;case 5443:return rt+n+qn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+qn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+qn+it(n,"shrink","negative")+n;case 5292:return rt+n+qn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+qn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(n)-1-e>6)switch(Mn(n,e+1)){case 109:if(Mn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Vg+(Mn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~xE(n,"stretch")?sN(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Mn(n,e+1)!==115)break;case 6444:switch(Mn(n,Ni(n)-3-(~xE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Mn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+qn+"$2box$3")+n}break;case 5936:switch(Mn(n,e+11)){case 114:return rt+n+qn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+qn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+qn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+qn+n+n}return n}var e7=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Mw:e.return=sN(e.value,e.length);break;case Zk:return Xu([gd(e,{value:it(e.value,"@","@"+rt)})],i);case Vw:if(e.length)return L8(e.props,function(o){switch(M8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xu([gd(e,{props:[it(o,/:(read-\w+)/,":"+Vg+"$1")]})],i);case"::placeholder":return Xu([gd(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),gd(e,{props:[it(o,/:(plac\w+)/,":"+Vg+"$1")]}),gd(e,{props:[it(o,/:(plac\w+)/,qn+"input-$1")]})],i)}return""})}},t7=[e7],n7=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var x=I.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||t7,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var x=I.getAttribute("data-emotion").split(" "),L=1;L<x.length;L++)o[x[L]]=!0;h.push(I)});var d,f=[J8,Z8];{var g,_=[G8,W8(function(I){g.insert(I)})],v=K8(f.concat(i,_)),T=function(x){return Xu(H8(x),v)};d=function(x,L,M,U){g=M,T(x?x+"{"+L.styles+"}":L.styles),U&&(w.inserted[L.name]=!0)}}var w={key:t,sheet:new P8({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},r7=!0;function i7(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var aN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||r7===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},s7=function(e,t,r){aN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function a7(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var o7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l7=/[A-Z]|^ms/g,u7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oN=function(e){return e.charCodeAt(1)===45},aC=function(e){return e!=null&&typeof e!="boolean"},I0=iN(function(n){return oN(n)?n:n.replace(l7,"-$&").toLowerCase()}),oC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(u7,function(r,i,o){return Vi={name:i,styles:o,next:Vi},i})}return o7[e]!==1&&!oN(e)&&typeof t=="number"&&t!==0?t+"px":t};function gf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Vi={name:i.name,styles:i.styles,next:Vi},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Vi={name:u.name,styles:u.styles,next:Vi},u=u.next;var h=o.styles+";";return h}return c7(n,e,t)}case"function":{if(n!==void 0){var d=Vi,f=t(n);return Vi=d,gf(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function c7(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=gf(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":aC(h)&&(r+=I0(o)+":"+oC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)aC(u[d])&&(r+=I0(o)+":"+oC(o,u[d])+";");else{var f=gf(n,e,u);switch(o){case"animation":case"animationName":{r+=I0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var lC=/label:\s*([^\s;{]+)\s*(;|$)/g,Vi;function lN(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Vi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=gf(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=gf(t,e,n[h]),r){var d=o;i+=d[h]}lC.lastIndex=0;for(var f="",g;(g=lC.exec(i))!==null;)f+="-"+g[1];var _=a7(i)+f;return{name:_,styles:i,next:Vi}}var h7=function(e){return e()},d7=O0.useInsertionEffect?O0.useInsertionEffect:!1,f7=d7||h7,uN=W.createContext(typeof HTMLElement<"u"?n7({key:"css"}):null);uN.Provider;var p7=function(e){return W.forwardRef(function(t,r){var i=W.useContext(uN);return e(t,i,r)})},m7=W.createContext({}),g7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,y7=iN(function(n){return g7.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),_7=y7,v7=function(e){return e!=="theme"},uC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?_7:v7},cC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},E7=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return aN(t,r,i),f7(function(){return s7(t,r,i)}),null},b7=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=cC(e,t,r),d=h||uC(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var I=p7(function(x,L,M){var U=f&&x.as||i,H="",j=[],$=x;if(x.theme==null){$={};for(var V in x)$[V]=x[V];$.theme=W.useContext(m7)}typeof x.className=="string"?H=i7(L.registered,j,x.className):x.className!=null&&(H=x.className+" ");var C=lN(_.concat(j),L.registered,$);H+=L.key+"-"+C.name,u!==void 0&&(H+=" "+u);var R=f&&h===void 0?uC(U):d,b={};for(var P in x)f&&P==="as"||R(P)&&(b[P]=x[P]);return b.className=H,M&&(b.ref=M),W.createElement(W.Fragment,null,W.createElement(E7,{cache:L,serialized:C,isStringTag:typeof U=="string"}),W.createElement(U,b))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(x,L){var M=n(x,CE({},t,L,{shouldForwardProp:cC(I,L,!0)}));return M.apply(void 0,_)},I}},w7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],OE=b7.bind(null);w7.forEach(function(n){OE[n]=OE(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function T7(n,e){return OE(n,e)}function S7(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const hC=[];function dC(n){return hC[0]=n,lN(hC)}const A7=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function I7(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=A7(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}const R7={borderRadius:4};function cN(n=8,e=kw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function C7(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function hN(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=I7(t),d=cN(i);let f=Rr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...R7,...o}},u);return f=BH(f),f.applyStyles=C7,f=e.reduce((g,_)=>Rr(g,_),f),f.unstable_sxConfig={...Fy,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return wc({sx:_,theme:this})},f}function dN(n){const{variants:e,...t}=n,r={variants:e,style:dC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=dC(i.style))}),r}const x7=hN();function R0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function P7(n){return n?(e,t)=>t[n]:null}function O7(n,e,t){n.theme=N7(n.theme)?t:n.theme[e]||n.theme}function Jm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Jm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return fN(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function fN(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function D7(n={}){const{themeId:e,defaultTheme:t=x7,rootShouldForwardProp:r=R0,slotShouldForwardProp:i=R0}=n;function o(h){O7(h,e,t)}return(h,d={})=>{S7(h,j=>j.filter($=>$!==wc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=P7(M7(g)),...w}=d,I=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,x=v||!1;let L=R0;g==="Root"||g==="root"?L=r:g?L=i:V7(h)&&(L=void 0);const M=T7(h,{shouldForwardProp:L,label:k7(),...w}),U=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(V){return Jm(V,j)};if(Cs(j)){const $=dN(j);return $.variants?function(C){return Jm(C,$)}:$.style}return j},H=(...j)=>{const $=[],V=j.map(U),C=[];if($.push(o),f&&T&&C.push(function(O){var Z,ie;const te=(ie=(Z=O.theme.components)==null?void 0:Z[f])==null?void 0:ie.styleOverrides;if(!te)return null;const B={};for(const ae in te)B[ae]=Jm(O,te[ae]);return T(O,B)}),f&&!I&&C.push(function(O){var B,Z;const D=O.theme,te=(Z=(B=D==null?void 0:D.components)==null?void 0:B[f])==null?void 0:Z.variants;return te?fN(O,te):null}),x||C.push(wc),Array.isArray(V[0])){const P=V.shift(),O=new Array($.length).fill(""),D=new Array(C.length).fill("");let te;te=[...O,...P,...D],te.raw=[...O,...P.raw,...D],$.unshift(te)}const R=[...$,...V,...C],b=M(...R);return h.muiName&&(b.muiName=h.muiName),b};return M.withConfig&&(H.withConfig=M.withConfig),H}}function k7(n,e){return void 0}function N7(n){for(const e in n)return!1;return!0}function V7(n){return typeof n=="string"&&n.charCodeAt(0)>96}function M7(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function Uw(n,e=0,t=1){return Hk(n,e,t)}function L7(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function uo(n){if(n.type)return n;if(n.charAt(0)==="#")return uo(L7(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Pl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Pl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const U7=n=>{const e=uo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Rd=(n,e)=>{try{return U7(n)}catch{return n}};function Hy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function pN(n){n=uo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),Hy({type:h,values:d})}function DE(n){n=uo(n);let e=n.type==="hsl"||n.type==="hsla"?uo(pN(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function B7(n,e){const t=DE(n),r=DE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function F7(n,e){return n=uo(n),e=Uw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Hy(n)}function Am(n,e,t){try{return F7(n,e)}catch{return n}}function Bw(n,e){if(n=uo(n),e=Uw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Hy(n)}function ft(n,e,t){try{return Bw(n,e)}catch{return n}}function Fw(n,e){if(n=uo(n),e=Uw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Hy(n)}function pt(n,e,t){try{return Fw(n,e)}catch{return n}}function j7(n,e=.15){return DE(n)>.5?Bw(n,e):Fw(n,e)}function Im(n,e,t){try{return j7(n,e)}catch{return n}}const z7=W.createContext(void 0);function q7(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?RE(i.defaultProps,r):!i.styleOverrides&&!i.variants?RE(i,r):r}function H7({props:n,name:e}){const t=W.useContext(z7);return q7({props:n,name:e,theme:{components:t}})}const fC={theme:void 0};function $7(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(fC.theme=i.theme,o=dN(n(fC)),e=o,t=i.theme),o}}function G7(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const pC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},K7=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},W7=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function C0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return K7(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=W7(h,d);Object.assign(i,{[g]:_}),pC(o,h,`var(${g})`,f),pC(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function Q7(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=C0(d,e);let v=_;const T={},{[h]:w,...I}=o;if(Object.entries(I||{}).forEach(([U,H])=>{const{vars:j,css:$,varsWithDefaults:V}=C0(H,e);v=Rr(v,V),T[U]={css:$,vars:j}}),w){const{css:U,vars:H,varsWithDefaults:j}=C0(w,e);v=Rr(v,j),T[h]={css:U,vars:H}}function x(U,H){var $,V;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),U){if(j==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((V=($=o[U])==null?void 0:$.palette)==null?void 0:V.mode)||U})`]:{":root":H}};if(j)return n.defaultColorScheme===U?`:root, ${j.replace("%s",String(U))}`:j.replace("%s",String(U))}return":root"}return{vars:v,generateThemeVars:()=>{let U={...f};return Object.entries(T).forEach(([,{vars:H}])=>{U=Rr(U,H)}),U},generateStyleSheets:()=>{var C,R;const U=[],H=n.defaultColorScheme||"light";function j(b,P){Object.keys(P).length&&U.push(typeof b=="string"?{[b]:{...P}}:b)}j(t(void 0,{...g}),g);const{[H]:$,...V}=T;if($){const{css:b}=$,P=(R=(C=o[H])==null?void 0:C.palette)==null?void 0:R.mode,O=!r&&P?{colorScheme:P,...b}:{...b};j(t(H,{...O}),O)}return Object.entries(V).forEach(([b,{css:P}])=>{var te,B;const O=(B=(te=o[b])==null?void 0:te.palette)==null?void 0:B.mode,D=!r&&O?{colorScheme:O,...P}:{...P};j(t(b,{...D}),D)}),U}}}function Y7(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const yf={black:"#000",white:"#fff"},X7={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ou={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Du={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ku={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Nu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Vu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function mN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yf.white,default:yf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const J7=mN();function gN(){return{text:{primary:yf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const mC=gN();function gC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Fw(n.main,i):e==="dark"&&(n.dark=Bw(n.main,o)))}function Z7(n="light"){return n==="dark"?{main:ku[200],light:ku[50],dark:ku[400]}:{main:ku[700],light:ku[400],dark:ku[800]}}function e$(n="light"){return n==="dark"?{main:Ou[200],light:Ou[50],dark:Ou[400]}:{main:Ou[500],light:Ou[300],dark:Ou[700]}}function t$(n="light"){return n==="dark"?{main:Du[500],light:Du[300],dark:Du[700]}:{main:Du[700],light:Du[400],dark:Du[800]}}function n$(n="light"){return n==="dark"?{main:Nu[400],light:Nu[300],dark:Nu[700]}:{main:Nu[700],light:Nu[500],dark:Nu[900]}}function r$(n="light"){return n==="dark"?{main:Vu[400],light:Vu[300],dark:Vu[700]}:{main:Vu[800],light:Vu[500],dark:Vu[900]}}function i$(n="light"){return n==="dark"?{main:yd[400],light:yd[300],dark:yd[700]}:{main:"#ed6c02",light:yd[500],dark:yd[900]}}function jw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||Z7(e),u=n.secondary||e$(e),h=n.error||t$(e),d=n.info||n$(e),f=n.success||r$(e),g=n.warning||i$(e);function _(I){return B7(I,mC.text.primary)>=t?mC.text.primary:J7.text.primary}const v=({color:I,name:x,mainShade:L=500,lightShade:M=300,darkShade:U=700})=>{if(I={...I},!I.main&&I[L]&&(I.main=I[L]),!I.hasOwnProperty("main"))throw new Error(Pl(11,x?` (${x})`:"",L));if(typeof I.main!="string")throw new Error(Pl(12,x?` (${x})`:"",JSON.stringify(I.main)));return gC(I,"light",M,r),gC(I,"dark",U,r),I.contrastText||(I.contrastText=_(I.main)),I};let T;return e==="light"?T=mN():e==="dark"&&(T=gN()),Rr({common:{...yf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:X7,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function s$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function a$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function o$(n){return Math.round(n*1e5)/1e5}const yC={textTransform:"uppercase"},_C='"Roboto", "Helvetica", "Arial", sans-serif';function l$(n,e){const{fontFamily:t=_C,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/d*v}rem`),w=(x,L,M,U,H)=>({fontFamily:t,fontWeight:x,fontSize:T(L),lineHeight:M,...t===_C?{letterSpacing:`${o$(U/L)}em`}:{},...H,...f}),I={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,yC),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,yC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const u$=.2,c$=.14,h$=.12;function wt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${u$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${c$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${h$})`].join(",")}const d$=["none",wt(0,2,1,-1,0,1,1,0,0,1,3,0),wt(0,3,1,-2,0,2,2,0,0,1,5,0),wt(0,3,3,-2,0,3,4,0,0,1,8,0),wt(0,2,4,-1,0,4,5,0,0,1,10,0),wt(0,3,5,-1,0,5,8,0,0,1,14,0),wt(0,3,5,-1,0,6,10,0,0,1,18,0),wt(0,4,5,-2,0,7,10,1,0,2,16,1),wt(0,5,5,-3,0,8,10,1,0,3,14,2),wt(0,5,6,-3,0,9,12,1,0,3,16,2),wt(0,6,6,-3,0,10,14,1,0,4,18,3),wt(0,6,7,-4,0,11,15,1,0,4,20,3),wt(0,7,8,-4,0,12,17,2,0,5,22,4),wt(0,7,8,-4,0,13,19,2,0,5,24,4),wt(0,7,9,-4,0,14,21,2,0,5,26,4),wt(0,8,9,-5,0,15,22,2,0,6,28,5),wt(0,8,10,-5,0,16,24,2,0,6,30,5),wt(0,8,11,-5,0,17,26,2,0,6,32,5),wt(0,9,11,-5,0,18,28,2,0,7,34,6),wt(0,9,12,-6,0,19,29,2,0,7,36,6),wt(0,10,13,-6,0,20,31,3,0,8,38,7),wt(0,10,13,-6,0,21,33,3,0,8,40,7),wt(0,10,14,-6,0,22,35,3,0,8,42,7),wt(0,11,14,-7,0,23,36,3,0,9,44,8),wt(0,11,15,-7,0,24,38,3,0,9,46,8)],f$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},p$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vC(n){return`${Math.round(n)}ms`}function m$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function g$(n){const e={...f$,...n.easing},t={...p$,...n.duration};return{getAutoHeightDuration:m$,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:vC(u)} ${h} ${typeof d=="string"?d:vC(d)}`).join(",")},...n,easing:e,duration:t}}const y$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _$(n){return Cs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function yN(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!_$(h)||u.startsWith("unstable_")?delete r[u]:Cs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function kE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Pl(20));const g=jw(o),_=hN(n);let v=Rr(_,{mixins:a$(_.breakpoints,r),palette:g,shadows:d$.slice(),typography:l$(g,h),transitions:g$(u),zIndex:{...y$}});return v=Rr(v,f),v=e.reduce((T,w)=>Rr(T,w),v),v.unstable_sxConfig={...Fy,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return wc({sx:w,theme:this})},v.toRuntimeSource=yN,v}function v$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const E$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=v$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function _N(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function vN(n){return n==="dark"?E$:[]}function b$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=jw(e);return{palette:o,opacity:{..._N(o.mode),...t},overlays:r||vN(o.mode),...i}}function w$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const T$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],S$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return T$(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function A$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function le(n,e,t){!n[e]&&t&&(n[e]=t)}function Cd(n){return typeof n!="string"||!n.startsWith("hsl")?n:pN(n)}function As(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Rd(Cd(n[e])))}function I$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Oi=n=>{try{return n()}catch{}},R$=(n="mui")=>G7(n);function x0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=b$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=kE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{..._N(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||vN(i)},u}function C$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=w$,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=R$(o),{[_]:T,light:w,dark:I,...x}=t,L={...x};let M=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(M=!0),!M)throw new Error(Pl(21,_));const U=x0(L,M,f,_);w&&!L.light&&x0(L,w,void 0,"light"),I&&!L.dark&&x0(L,I,void 0,"dark");let H={defaultColorScheme:_,...U,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:L,font:{...s$(U.typography),...U.font},spacing:I$(f.spacing)};Object.keys(H.colorSchemes).forEach(R=>{const b=H.colorSchemes[R].palette,P=O=>{const D=O.split("-"),te=D[1],B=D[2];return v(O,b[te][B])};if(b.mode==="light"&&(le(b.common,"background","#fff"),le(b.common,"onBackground","#000")),b.mode==="dark"&&(le(b.common,"background","#000"),le(b.common,"onBackground","#fff")),A$(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){le(b.Alert,"errorColor",ft(b.error.light,.6)),le(b.Alert,"infoColor",ft(b.info.light,.6)),le(b.Alert,"successColor",ft(b.success.light,.6)),le(b.Alert,"warningColor",ft(b.warning.light,.6)),le(b.Alert,"errorFilledBg",P("palette-error-main")),le(b.Alert,"infoFilledBg",P("palette-info-main")),le(b.Alert,"successFilledBg",P("palette-success-main")),le(b.Alert,"warningFilledBg",P("palette-warning-main")),le(b.Alert,"errorFilledColor",Oi(()=>b.getContrastText(b.error.main))),le(b.Alert,"infoFilledColor",Oi(()=>b.getContrastText(b.info.main))),le(b.Alert,"successFilledColor",Oi(()=>b.getContrastText(b.success.main))),le(b.Alert,"warningFilledColor",Oi(()=>b.getContrastText(b.warning.main))),le(b.Alert,"errorStandardBg",pt(b.error.light,.9)),le(b.Alert,"infoStandardBg",pt(b.info.light,.9)),le(b.Alert,"successStandardBg",pt(b.success.light,.9)),le(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),le(b.Alert,"errorIconColor",P("palette-error-main")),le(b.Alert,"infoIconColor",P("palette-info-main")),le(b.Alert,"successIconColor",P("palette-success-main")),le(b.Alert,"warningIconColor",P("palette-warning-main")),le(b.AppBar,"defaultBg",P("palette-grey-100")),le(b.Avatar,"defaultBg",P("palette-grey-400")),le(b.Button,"inheritContainedBg",P("palette-grey-300")),le(b.Button,"inheritContainedHoverBg",P("palette-grey-A100")),le(b.Chip,"defaultBorder",P("palette-grey-400")),le(b.Chip,"defaultAvatarColor",P("palette-grey-700")),le(b.Chip,"defaultIconColor",P("palette-grey-700")),le(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),le(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),le(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),le(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),le(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),le(b.LinearProgress,"errorBg",pt(b.error.main,.62)),le(b.LinearProgress,"infoBg",pt(b.info.main,.62)),le(b.LinearProgress,"successBg",pt(b.success.main,.62)),le(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),le(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),le(b.Slider,"primaryTrack",pt(b.primary.main,.62)),le(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),le(b.Slider,"errorTrack",pt(b.error.main,.62)),le(b.Slider,"infoTrack",pt(b.info.main,.62)),le(b.Slider,"successTrack",pt(b.success.main,.62)),le(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=Im(b.background.default,.8);le(b.SnackbarContent,"bg",O),le(b.SnackbarContent,"color",Oi(()=>b.getContrastText(O))),le(b.SpeedDialAction,"fabHoverBg",Im(b.background.paper,.15)),le(b.StepConnector,"border",P("palette-grey-400")),le(b.StepContent,"border",P("palette-grey-400")),le(b.Switch,"defaultColor",P("palette-common-white")),le(b.Switch,"defaultDisabledColor",P("palette-grey-100")),le(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),le(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),le(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),le(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),le(b.Switch,"successDisabledColor",pt(b.success.main,.62)),le(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),le(b.TableCell,"border",pt(Am(b.divider,1),.88)),le(b.Tooltip,"bg",Am(b.grey[700],.92))}if(b.mode==="dark"){le(b.Alert,"errorColor",pt(b.error.light,.6)),le(b.Alert,"infoColor",pt(b.info.light,.6)),le(b.Alert,"successColor",pt(b.success.light,.6)),le(b.Alert,"warningColor",pt(b.warning.light,.6)),le(b.Alert,"errorFilledBg",P("palette-error-dark")),le(b.Alert,"infoFilledBg",P("palette-info-dark")),le(b.Alert,"successFilledBg",P("palette-success-dark")),le(b.Alert,"warningFilledBg",P("palette-warning-dark")),le(b.Alert,"errorFilledColor",Oi(()=>b.getContrastText(b.error.dark))),le(b.Alert,"infoFilledColor",Oi(()=>b.getContrastText(b.info.dark))),le(b.Alert,"successFilledColor",Oi(()=>b.getContrastText(b.success.dark))),le(b.Alert,"warningFilledColor",Oi(()=>b.getContrastText(b.warning.dark))),le(b.Alert,"errorStandardBg",ft(b.error.light,.9)),le(b.Alert,"infoStandardBg",ft(b.info.light,.9)),le(b.Alert,"successStandardBg",ft(b.success.light,.9)),le(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),le(b.Alert,"errorIconColor",P("palette-error-main")),le(b.Alert,"infoIconColor",P("palette-info-main")),le(b.Alert,"successIconColor",P("palette-success-main")),le(b.Alert,"warningIconColor",P("palette-warning-main")),le(b.AppBar,"defaultBg",P("palette-grey-900")),le(b.AppBar,"darkBg",P("palette-background-paper")),le(b.AppBar,"darkColor",P("palette-text-primary")),le(b.Avatar,"defaultBg",P("palette-grey-600")),le(b.Button,"inheritContainedBg",P("palette-grey-800")),le(b.Button,"inheritContainedHoverBg",P("palette-grey-700")),le(b.Chip,"defaultBorder",P("palette-grey-700")),le(b.Chip,"defaultAvatarColor",P("palette-grey-300")),le(b.Chip,"defaultIconColor",P("palette-grey-300")),le(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),le(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),le(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),le(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),le(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),le(b.LinearProgress,"errorBg",ft(b.error.main,.5)),le(b.LinearProgress,"infoBg",ft(b.info.main,.5)),le(b.LinearProgress,"successBg",ft(b.success.main,.5)),le(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),le(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),le(b.Slider,"primaryTrack",ft(b.primary.main,.5)),le(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),le(b.Slider,"errorTrack",ft(b.error.main,.5)),le(b.Slider,"infoTrack",ft(b.info.main,.5)),le(b.Slider,"successTrack",ft(b.success.main,.5)),le(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=Im(b.background.default,.98);le(b.SnackbarContent,"bg",O),le(b.SnackbarContent,"color",Oi(()=>b.getContrastText(O))),le(b.SpeedDialAction,"fabHoverBg",Im(b.background.paper,.15)),le(b.StepConnector,"border",P("palette-grey-600")),le(b.StepContent,"border",P("palette-grey-600")),le(b.Switch,"defaultColor",P("palette-grey-300")),le(b.Switch,"defaultDisabledColor",P("palette-grey-600")),le(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),le(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),le(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),le(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),le(b.Switch,"successDisabledColor",ft(b.success.main,.55)),le(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),le(b.TableCell,"border",ft(Am(b.divider,1),.68)),le(b.Tooltip,"bg",Am(b.grey[700],.92))}As(b.background,"default"),As(b.background,"paper"),As(b.common,"background"),As(b.common,"onBackground"),As(b,"divider"),Object.keys(b).forEach(O=>{const D=b[O];O!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&le(b[O],"mainChannel",Rd(Cd(D.main))),D.light&&le(b[O],"lightChannel",Rd(Cd(D.light))),D.dark&&le(b[O],"darkChannel",Rd(Cd(D.dark))),D.contrastText&&le(b[O],"contrastTextChannel",Rd(Cd(D.contrastText))),O==="text"&&(As(b[O],"primary"),As(b[O],"secondary")),O==="action"&&(D.active&&As(b[O],"active"),D.selected&&As(b[O],"selected")))})}),H=e.reduce((R,b)=>Rr(R,b),H);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:S$(H)},{vars:$,generateThemeVars:V,generateStyleSheets:C}=Q7(H,j);return H.vars=$,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([R,b])=>{H[R]=b}),H.generateThemeVars=V,H.generateStyleSheets=C,H.generateSpacing=function(){return cN(f.spacing,kw(this))},H.getColorSchemeSelector=Y7(h),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=u,H.unstable_sxConfig={...Fy,...f==null?void 0:f.unstable_sxConfig},H.unstable_sx=function(b){return wc({sx:b,theme:this})},H.toRuntimeSource=yN,H}function EC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:jw({...t===!0?{}:t.palette,mode:e})})}function x$(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return kE(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=kE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},EC(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},EC(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),C$({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const P$=x$(),O$="$$material";function EN(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const D$=n=>EN(n)&&n!=="classes",Kf=D7({themeId:O$,defaultTheme:P$,rootShouldForwardProp:D$}),zw=$7;function bN(n){return H7(n)}function k$(n){return Pw("MuiSvgIcon",n)}Yk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const N$=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${lo(e)}`,`fontSize${lo(t)}`]};return $k(i,k$,r)},V$=Kf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${lo(t.color)}`],e[`fontSize${lo(t.fontSize)}`]]}})(zw(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var x,L;return{props:{color:I},style:{color:(L=(x=(n.vars??n).palette)==null?void 0:x[I])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),NE=W.forwardRef(function(e,t){const r=bN({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=W.isValidElement(i)&&i.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},x={};g||(x.viewBox=v);const L=N$(I);return z.jsxs(V$,{as:h,className:yl(L.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...w&&i.props,ownerState:I,children:[w?i.props.children:i,_?z.jsx("title",{children:_}):null]})});NE.muiName="SvgIcon";function wN(n,e){function t(r,i){return z.jsx(NE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=NE.muiName,W.memo(W.forwardRef(t))}const M$=wN(z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),L$=wN(z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function U$(n){return Pw("MuiRating",n)}const _d=Yk("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function zd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...d}=e,{component:f,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,w=VH(_[n],i),{props:{component:I,...x},internalRef:L}=NH({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:w}),M=Qk(L,w==null?void 0:w.ref,e.ref),U=n==="root"?I||f:I,H=DH(T,{...n==="root"&&!f&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...x,...U&&!h&&{as:U},...U&&h&&{component:U},ref:M},i);return[T,H]}function B$(n){const e=n.toString().split(".")[1];return e?e.length:0}function P0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(B$(e)))}const F$=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${lo(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return $k(h,U$,e)},j$=Kf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${_d.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${lo(t.size)}`],t.readOnly&&e.readOnly]}})(zw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${_d.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${_d.focusVisible} .${_d.iconActive}`]:{outline:"1px solid #999"},[`& .${_d.visuallyHidden}`]:vH,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),TN=Kf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),z$=Kf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(zw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),q$=Kf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>EN(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function H$(n){const{value:e,...t}=n;return z.jsx("span",{...t})}function bC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:I,onClick:x,onFocus:L,readOnly:M,ownerState:U,ratingValue:H,ratingValueRounded:j,slots:$={},slotProps:V={}}=n,C=u?_===H:_<=H,R=_<=h,b=_<=i,P=_===j,O=`${T}-${Wk()}`,D={slots:$,slotProps:V},[te,B]=zd("icon",{elementType:z$,className:yl(e.icon,C?e.iconFilled:e.iconEmpty,R&&e.iconHover,b&&e.iconFocus,g&&e.iconActive),externalForwardedProps:D,ownerState:{...U,iconEmpty:!C,iconFilled:C,iconHover:R,iconFocus:b,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:f}}),[Z,ie]=zd("label",{elementType:TN,externalForwardedProps:D,ownerState:{...U,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:O}}),ae=z.jsx(te,{...B,children:r&&!C?r:d});return M?z.jsx("span",{...v,children:ae}):z.jsxs(W.Fragment,{children:[z.jsxs(Z,{...ie,children:[ae,z.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),z.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:w,onChange:I,onClick:x,disabled:t,value:_,id:O,type:"radio",name:T,checked:P})]})}const $$=z.jsx(M$,{fontSize:"inherit"}),G$=z.jsx(L$,{fontSize:"inherit"});function K$(n){return`${n||"0"} Star${n!==1?"s":""}`}const W$=W.forwardRef(function(e,t){const r=bN({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=G$,emptyLabelText:f="Empty",getLabelText:g=K$,highlightSelectedOnly:_=!1,icon:v=$$,IconContainerComponent:T=H$,max:w=5,name:I,onChange:x,onChangeActive:L,onMouseLeave:M,onMouseMove:U,precision:H=1,readOnly:j=!1,size:$="medium",value:V,slots:C={},slotProps:R={},...b}=r,P=Wk(I),[O,D]=RH({controlled:V,default:u,name:"Rating"}),te=P0(O,H),B=bH(),[{hover:Z,focus:ie},ae]=W.useState({hover:-1,focus:-1});let we=te;Z!==-1&&(we=Z),ie!==-1&&(we=ie);const[q,oe]=W.useState(!1),be=W.useRef(),ve=Qk(be,t),ye=Fe=>{U&&U(Fe);const mt=be.current,{right:Pt,left:hn,width:ei}=mt.getBoundingClientRect();let gt;B?gt=(Pt-Fe.clientX)/ei:gt=(Fe.clientX-hn)/ei;let lt=P0(w*gt+H/2,H);lt=Hk(lt,H,w),ae(Pn=>Pn.hover===lt&&Pn.focus===lt?Pn:{hover:lt,focus:lt}),oe(!1),L&&Z!==lt&&L(Fe,lt)},Oe=Fe=>{M&&M(Fe);const mt=-1;ae({hover:mt,focus:mt}),L&&Z!==mt&&L(Fe,mt)},De=Fe=>{let mt=Fe.target.value===""?null:parseFloat(Fe.target.value);Z!==-1&&(mt=Z),D(mt),x&&x(Fe,mt)},xt=Fe=>{Fe.clientX===0&&Fe.clientY===0||(ae({hover:-1,focus:-1}),D(null),x&&parseFloat(Fe.target.value)===te&&x(Fe,null))},qe=Fe=>{W1(Fe.target)&&oe(!0);const mt=parseFloat(Fe.target.value);ae(Pt=>({hover:Pt.hover,focus:mt}))},bt=Fe=>{if(Z!==-1)return;W1(Fe.target)||oe(!1);const mt=-1;ae(Pt=>({hover:Pt.hover,focus:mt}))},[nt,vn]=W.useState(!1),Wn={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:nt,focusVisible:q,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:H,readOnly:j,size:$},Wt=F$(Wn),Pr={slots:C,slotProps:R},[di,Zr]=zd("root",{ref:ve,className:yl(Wt.root,o),elementType:j$,externalForwardedProps:{...Pr,...b,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:mt=>{var Pt;ye(mt),(Pt=Fe.onMouseMove)==null||Pt.call(Fe,mt)},onMouseLeave:mt=>{var Pt;Oe(mt),(Pt=Fe.onMouseLeave)==null||Pt.call(Fe,mt)}}),ownerState:Wn,additionalProps:{role:j?"img":null,"aria-label":j?g(we):null}}),[Eo,Ys]=zd("label",{className:yl(Wt.label,Wt.labelEmptyValue),elementType:TN,externalForwardedProps:Pr,ownerState:Wn}),[Xs,fi]=zd("decimal",{className:Wt.decimal,elementType:q$,externalForwardedProps:Pr,ownerState:Wn});return z.jsxs(di,{...Zr,children:[Array.from(new Array(w)).map((Fe,mt)=>{const Pt=mt+1,hn={classes:Wt,disabled:h,emptyIcon:d,focus:ie,getLabelText:g,highlightSelectedOnly:_,hover:Z,icon:v,IconContainerComponent:T,name:P,onBlur:bt,onChange:De,onClick:xt,onFocus:qe,ratingValue:we,ratingValueRounded:te,readOnly:j,ownerState:Wn,slots:C,slotProps:R},ei=Pt===Math.ceil(we)&&(Z!==-1||ie!==-1);if(H<1){const gt=Array.from(new Array(1/H));return W.createElement(Xs,{...fi,key:Pt,className:yl(fi.className,ei&&Wt.iconActive),iconActive:ei},gt.map((lt,Pn)=>{const Js=P0(Pt-1+(Pn+1)*H,H);return z.jsx(bC,{...hn,isActive:!1,itemValue:Js,labelProps:{style:gt.length-1===Pn?{}:{width:Js===we?`${(Pn+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Js)}))}return z.jsx(bC,{...hn,isActive:ei,itemValue:Pt},Pt)}),!j&&!h&&z.jsxs(Eo,{...Ys,children:[z.jsx("input",{className:Wt.visuallyHidden,value:"",id:`${P}-empty`,type:"radio",name:P,checked:te==null,onFocus:()=>vn(!0),onBlur:()=>vn(!1),onChange:De}),z.jsx("span",{className:Wt.visuallyHidden,children:f})]})]})});var Zm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var Q$=Zm.exports,wC;function Y$(){return wC||(wC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(Q$,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,I=0,x="",L=1e12,M=1e9,U=1e6,H=1e3,j="",$=!1,V,C,R,b,P,O,D;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(P=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(V=g.match(/a(k|m|b|t)?/),V=V?V[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),C>=L&&!V||V==="t"?(x+=v.abbreviations.trillion,f=f/L):C<L&&C>=M&&!V||V==="b"?(x+=v.abbreviations.billion,f=f/M):C<M&&C>=U&&!V||V==="m"?(x+=v.abbreviations.million,f=f/U):(C<U&&C>=H&&!V||V==="k")&&(x+=v.abbreviations.thousand,f=f/H)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),R=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),j=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):j=e._.toFixed(f,b.length,_),R=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",w&&Number(j.slice(1))===0&&(j="")):R=e._.toFixed(f,0,_),x&&!V&&Number(R)>=1e3&&x!==v.abbreviations.trillion)switch(R=String(Number(R)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),$=!0),R.length<I)for(var te=I-R.length;te>0;te--)R="0"+R;return O>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(R=""),D=R+j+(x||""),T?D=(T&&$?"(":"")+D+(T&&$?")":""):P>=0?D=P===0?($?"-":"+")+D:D+($?"-":"+"):$&&(D="-"+D),D},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,I;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),I,x,L,M;return T.length===2?I=Math.min(Math.max(T[1].length,w),g):I=w,L=Math.pow(10,I),M=(_(f+"e+"+I)/L).toFixed(I),v>g-I&&(x=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),M=M.replace(x,"")),M}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,I,x,L,M;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{L=e.localeData(g)}catch{L=e.localeData(e.locale())}return T=L.currency.symbol,I=L.abbreviations,_=L.delimiters.decimal,L.delimiters.thousands==="."?v="\\.":v=L.delimiters.thousands,M=f.match(/^[^\d]+/),M!==null&&(f=f.substr(1),M[0]!==T)||(M=f.match(/[^\d]+$/),M!==null&&(f=f.slice(0,-1),M[0]!==I.thousand&&M[0]!==I.million&&M[0]!==I.billion&&M[0]!==I.trillion))?!1:(x=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){I=i[T].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,I){var x,L=e._.includes(w,"ib")?g:f,M=e._.includes(w," b")||e._.includes(w," ib")?" ":"",U,H,j;for(w=w.replace(/\s?i?b/,""),U=0;U<=L.suffixes.length;U++)if(H=Math.pow(L.base,U),j=Math.pow(L.base,U+1),T===null||T===0||T>=H&&T<j){M+=L.suffixes[U],H>0&&(T=T/H);break}return x=e._.numberToFormat(T,w,I),x+M},unformat:function(T){var w=e._.stringToNumber(T),I,x;if(w){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(T,f.suffixes[I])){x=Math.pow(f.base,I);break}if(e._.includes(T,g.suffixes[I])){x=Math.pow(g.base,I);break}}w*=x||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,x;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(I=T.before[x],I){case"$":w=e._.insert(w,v.currency.symbol,x);break;case" ":w=e._.insert(w," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(I=T.after[x],I){case"$":w=x===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":w=x===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,I,x,L){var M=e._.correctionFactor(w,I),U=w*M*(I*M)/(M*M);return U}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(Zm)),Zm.exports}var X$=Y$();const J$=UE(X$),qw=({amount:n})=>{const e=J$(n).format("$0, 0.00");return z.jsx("div",{children:e})},Z$="_card_container_16pkx_1",eG="_button_16pkx_9",tG="_rating_16pkx_36",nG="_products_container_16pkx_41",rG="_product_flexed_16pkx_55",ju={card_container:Z$,button:eG,rating:tG,products_container:nG,product_flexed:rG},Qr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function $c({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:u,rating:h,price:d,description:f}=n,[g,_]=W.useContext(qs),v=()=>{_({type:Qr.ADD_TO_BASKET,item:{image:i,title:o,id:u,rating:h,price:d,description:f}})};return z.jsxs("div",{className:`${ju.card_container} ${e?ju.product_flexed:""}`,children:[z.jsx(Fi,{to:`/products/${u}`,children:z.jsx("img",{src:i,alt:"",className:ju.img_container})}),z.jsxs("div",{children:[z.jsx("h1",{children:o}),t&&z.jsx("div",{style:{maxWidth:"750px"},children:f}),z.jsxs("div",{className:ju.rating,children:[z.jsx(W$,{value:h==null?void 0:h.rate,precision:.1}),z.jsx("small",{children:h==null?void 0:h.count})]}),z.jsx("div",{children:z.jsx(qw,{amount:d})}),r&&z.jsx("button",{className:ju.button,onClick:v,children:"Add to Cart"})]})]})}var iG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function SN(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return iG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function qu(n){var e=SN(n);return"".concat(e.value).concat(e.unit)}var AN=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Mg=function(){return Mg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Mg.apply(this,arguments)},sG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},aG=AN("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function VE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=sG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Mg({background:"transparent !important",width:qu(g),height:qu(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(aG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?W.createElement("span",Mg({style:v},_)):null}var sn=function(){return sn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},sn.apply(this,arguments)},oG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},lG=AN("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function uG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?15:f,_=n.width,v=_===void 0?5:_,T=n.radius,w=T===void 0?2:T,I=n.margin,x=I===void 0?2:I,L=oG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),M=SN(x).value,U=M+18,H=U/2+U/5.5,j=sn({display:"inherit",position:"relative",fontSize:"0",top:U,left:U,width:"".concat(U*3,"px"),height:"".concat(U*3,"px")},d),$=function(B){return{position:"absolute",width:qu(v),height:qu(g),margin:qu(x),backgroundColor:i,borderRadius:qu(w),transition:"2s",animationFillMode:"both",animation:"".concat(lG," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},V=sn(sn({},$(1)),{top:"".concat(U,"px"),left:"0"}),C=sn(sn({},$(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),R=sn(sn({},$(3)),{top:"0",left:"".concat(U,"px"),transform:"rotate(90deg)"}),b=sn(sn({},$(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),P=sn(sn({},$(5)),{top:"".concat(-1*U,"px"),left:"0"}),O=sn(sn({},$(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),D=sn(sn({},$(7)),{top:"0",left:"".concat(-1*U,"px"),transform:"rotate(90deg)"}),te=sn(sn({},$(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",sn({style:j},L),W.createElement("span",{style:V}),W.createElement("span",{style:C}),W.createElement("span",{style:R}),W.createElement("span",{style:b}),W.createElement("span",{style:P}),W.createElement("span",{style:O}),W.createElement("span",{style:D}),W.createElement("span",{style:te})):null}function Hw(){return z.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:z.jsx(uG,{})})}function cG(){const[n,e]=W.useState(),[t,r]=W.useState(!1);return W.useEffect(()=>{r(!0),Ct.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),z.jsx(z.Fragment,{children:t?z.jsx(Hw,{}):z.jsx("section",{className:ju.products_container,children:n==null?void 0:n.map(i=>z.jsx($c,{renderAdd:!0,product:i},i.id))})})}function hG(){return z.jsxs(jc,{children:[z.jsx(U9,{}),z.jsx(z9,{}),z.jsx(cG,{})]})}const dG="_login_1kz03_1",fG="_login_container_1kz03_14",pG="_login_signinButton_1kz03_30",mG="_login_registerButton_1kz03_47",Rm={login:dG,login_container:fG,login_signinButton:pG,login_registerButton:mG};function gG(){var T,w;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[{user:u},h]=W.useContext(qs),[d,f]=W.useState({signIn:!1,signUp:!1}),g=Ug(),_=ho(),v=async I=>{I.preventDefault(),I.target.name=="signin"?(console.log(I.target.name),f({...d,signIn:!0}),Jx(Og,n,t).then(x=>{var L;console.log(x),h({type:Qr.SET_USER,user:x.user}),f({...d,signIn:!1}),g(((L=_==null?void 0:_.state)==null?void 0:L.redirect)||"/")}).catch(x=>{console.log(x),o(x.message),f({...d,signIn:!1})})):(f({...d,signUp:!0}),Xx(Og,n,t).then(x=>{var L;console.log(x),h({type:Qr.SET_USER,user:x.user}),f({...d,signUp:!1}),g(((L=_==null?void 0:_.state)==null?void 0:L.redirect)||"/")}).catch(x=>{console.log(x),o(x.message),f({...d,signUp:!1})}))};return z.jsxs("section",{className:Rm.login,children:[z.jsx("div",{children:z.jsx(Fi,{to:"/",children:z.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG12.png",alt:"Amazon Logo"})})}),z.jsxs("div",{className:Rm.login_container,children:[z.jsx("h1",{children:"Sign in"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&z.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(w=_==null?void 0:_.state)==null?void 0:w.msg}),z.jsxs("form",{children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"email",children:"E-mail"}),z.jsx("br",{}),z.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:I=>e(I.target.value)})]}),z.jsx("br",{}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"password",children:"Password"}),z.jsx("br",{}),z.jsx("input",{type:"password",id:"password",value:t,onChange:I=>r(I.target.value)})]}),z.jsx("br",{}),z.jsx("button",{onClick:v,type:"submit",name:"signin",className:Rm.login_signinButton,children:d.signIn?z.jsx(VE,{color:"grey"}):"sign In"}),z.jsx("br",{}),z.jsx("br",{})]}),z.jsx("p",{children:"By signing your agreement to the Amazon fake clone condition of use and sale please see our privacy notice, our cookies notice and our interest-based ads notice"}),z.jsx("br",{}),z.jsx("button",{onClick:v,type:"submit",name:"signup",className:Rm.login_registerButton,children:d.signUp?z.jsx(VE,{color:"grey"}):"Create your Amazon account"}),i&&z.jsx("p",{style:{color:"red"},children:i})]})]})}const yG="_payment_header_q1v1n_1",_G="_payment_q1v1n_1",vG="_flex_q1v1n_10",EG="_payment_card_container_q1v1n_24",bG="_payment_price_q1v1n_32",wG="_payment_details_q1v1n_28",TG="_loading_q1v1n_52",Is={payment_header:yG,payment:_G,flex:vG,payment_card_container:EG,payment_price:bG,payment_details:wG,loading:TG};function TC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function SC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(t),!0).forEach(function(r){IN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eg=function(e){return typeof e}:eg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(n)}function IN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RN(n,e){return SG(n)||AG(n,e)||IG(n,e)||RG()}function SG(n){if(Array.isArray(n))return n}function AG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function IG(n,e){if(n){if(typeof n=="string")return AC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return AC(n,e)}}function AC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function RG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var br=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},ME=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},Sc=function(e){return e!==null&&eg(e)==="object"},CG=function(e){return Sc(e)&&typeof e.then=="function"},xG=function(e){return Sc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},IC="[object Object]",PG=function n(e,t){if(!Sc(e)||!Sc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===IC,u=Object.prototype.toString.call(t)===IC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,I=function(L){return n(T[L],w[L])};return v.every(I)},CN=function(e,t,r){return Sc(e)?Object.keys(e).reduce(function(i,o){var u=!Sc(t)||!PG(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?SC(SC({},i||{}),{},IN({},o,e[o])):i},null):null},xN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",RC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xN;if(e===null||xG(e))return e;throw new Error(t)},OG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xN;if(CG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return RC(i,t)})};var r=RC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},DG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},$y=Ke.createContext(null);$y.displayName="ElementsContext";var PN=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ON=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return OG(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=RN(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,T=function(I){f(function(x){return x.stripe?x:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=ME(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=ME(r);return Ke.useEffect(function(){if(d.elements){var v=CN(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){DG(d.stripe)},[d.stripe]),Ke.createElement($y.Provider,{value:d},i)};ON.propTypes={stripe:Nt.any,options:Nt.object};var kG=function(e){var t=Ke.useContext($y);return PN(t,e)},NG=function(){var e=kG("calls useElements()"),t=e.elements;return t};Nt.func.isRequired;var DN=Ke.createContext(null);DN.displayName="CheckoutSdkContext";var VG=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},MG=Ke.createContext(null);MG.displayName="CheckoutContext";Nt.any,Nt.shape({clientSecret:Nt.string.isRequired,elementsOptions:Nt.object}).isRequired;var LE=function(e){var t=Ke.useContext(DN),r=Ke.useContext($y);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?VG(t,e):PN(r,e)},LG=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},un=function(e,t){var r="".concat(LG(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,I=d.onReady,x=d.onChange,L=d.onEscape,M=d.onClick,U=d.onLoadError,H=d.onLoaderStart,j=d.onNetworksChange,$=d.onConfirm,V=d.onCancel,C=d.onShippingAddressChange,R=d.onShippingRateChange,b=LE("mounts <".concat(r,">")),P="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,D=Ke.useState(null),te=RN(D,2),B=te[0],Z=te[1],ie=Ke.useRef(null),ae=Ke.useRef(null);br(B,"blur",T),br(B,"focus",w),br(B,"escape",L),br(B,"click",M),br(B,"loaderror",U),br(B,"loaderstart",H),br(B,"networkschange",j),br(B,"confirm",$),br(B,"cancel",V),br(B,"shippingaddresschange",C),br(B,"shippingratechange",R),br(B,"change",x);var we;I&&(e==="expressCheckout"?we=I:we=function(){I(B)}),br(B,"ready",we),Ke.useLayoutEffect(function(){if(ie.current===null&&ae.current!==null&&(P||O)){var oe=null;O?oe=O.createElement(e,v):P&&(oe=P.create(e,v)),ie.current=oe,Z(oe),oe&&oe.mount(ae.current)}},[P,O,v]);var q=ME(v);return Ke.useEffect(function(){if(ie.current){var oe=CN(v,q,["paymentRequest"]);oe&&"update"in ie.current&&ie.current.update(oe)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ae})},o=function(d){LE("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Nt.string,className:Nt.string,onChange:Nt.func,onBlur:Nt.func,onFocus:Nt.func,onReady:Nt.func,onEscape:Nt.func,onClick:Nt.func,onLoadError:Nt.func,onLoaderStart:Nt.func,onNetworksChange:Nt.func,onConfirm:Nt.func,onCancel:Nt.func,onShippingAddressChange:Nt.func,onShippingRateChange:Nt.func,options:Nt.object},u.displayName=r,u.__elementType=e,u},cn=typeof window>"u",UG=Ke.createContext(null);UG.displayName="EmbeddedCheckoutProviderContext";var BG=function(){var e=LE("calls useStripe()"),t=e.stripe;return t};un("auBankAccount",cn);var CC=un("card",cn);un("cardNumber",cn);un("cardExpiry",cn);un("cardCvc",cn);un("fpxBank",cn);un("iban",cn);un("idealBank",cn);un("p24Bank",cn);un("epsBank",cn);un("payment",cn);un("expressCheckout",cn);un("currencySelector",cn);un("paymentRequestButton",cn);un("linkAuthentication",cn);un("address",cn);un("shippingAddress",cn);un("paymentMethodMessaging",cn);un("affirmMessage",cn);un("afterpayClearpayMessage",cn);const FG=Ct.create({baseURL:"https://amazon-api-deploy-4ij9.onrender.com/"});function jG(){const[{basket:n,user:e},t]=W.useContext(qs),r=Array.isArray(n)?n.reduce((w,I)=>w+I.amount,0):0,i=n.reduce((w,I)=>I.price*I.amount+w,0),[o,u]=W.useState(null),[h,d]=W.useState(!1),f=BG(),g=NG(),_=Ug(),v=w=>{var I,x;console.log(w),(I=w==null?void 0:w.error)!=null&&I.message?u((x=w==null?void 0:w.error)==null?void 0:x.message):u(null)},T=async w=>{var I;w.preventDefault();try{d(!0);const L=(I=(await FG({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:I.clientSecret,{paymentIntent:M}=await f.confirmCardPayment(L,{payment_method:{card:g.getElement(CC)}});await hk.collection("users").doc(e.uid).collection("orders").doc(M.id).set({basket:n,amount:M.amount,created:M.created}),t({type:Qr.EMPTY_BASKET}),d(!1),_("/orders",{state:{msg:"you have placed new orders"}})}catch(x){console.log(x),d(!1)}};return z.jsxs(jc,{children:[z.jsxs("div",{className:Is.payment_header,children:["Checkout (",r," )items"]}),z.jsxs("section",{className:Is.payment,children:[z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Delivery Address"}),z.jsxs("div",{children:[z.jsx("div",{children:e==null?void 0:e.email}),z.jsx("div",{children:"7020 Rainier Ave S"}),z.jsx("div",{children:"Seattle, WA"})]})]}),z.jsx("hr",{}),z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Review item and deliver info. "}),z.jsx("div",{children:n==null?void 0:n.map((w,I)=>z.jsx($c,{product:w,flex:!0},I))})]}),z.jsx("hr",{}),z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"payment methods"}),z.jsx("div",{className:Is.payment_card_container,children:z.jsx("div",{className:Is.payment_details,children:z.jsxs("form",{onSubmit:T,children:[o&&z.jsx("small",{style:{color:"red"},children:o}),z.jsx(CC,{onChange:v}),z.jsxs("div",{className:Is.payment_price,children:[z.jsx("div",{children:z.jsxs("span",{style:{display:"flex",gap:"10px"},children:[z.jsx("p",{children:"Total Order |"})," ",z.jsx(qw,{amount:i})]})}),z.jsx("button",{type:"submit",children:h?z.jsxs("div",{className:Is.loading,children:[z.jsx(VE,{color:"grey",size:12}),z.jsx("p",{children:"please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const zG="_container_1x91h_1",qG="_Orders__container_1x91h_5",xC={container:zG,Orders__container:qG};function HG(){const[{user:n},e]=W.useContext(qs),[t,r]=W.useState([]);return W.useEffect(()=>{n?hk.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{var o;console.log(i),r((o=i==null?void 0:i.docs)==null?void 0:o.map(u=>({id:u.id,data:u.data()})))}):r([])},[]),z.jsx(jc,{children:z.jsx("section",{className:xC.container,children:z.jsxs("div",{className:xC.Orders__container,children:[z.jsx("h2",{children:"Your Orders"}),t.length==0&&z.jsx("p",{style:{padding:"20px"},children:"You don't have orders yet."}),z.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return z.jsxs("div",{children:[z.jsx("hr",{}),z.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(d=>z.jsx($c,{flex:!0,product:d},d.id))]},o)})})]})})})}const $G="_container_1yok5_1",GG="_cart_product_1yok5_11",KG="_btn_container_1yok5_15",WG="_btn_1yok5_15",QG="_subtotal_1yok5_33",YG="_cart_container_1yok5_36",Zo={container:$G,cart_product:GG,btn_container:KG,btn:WG,subtotal:QG,cart_container:YG};function XG(n){return Rc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function JG(n){return Rc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function ZG(){const[{basket:n,user:e},t]=W.useContext(qs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Qr.ADD_TO_BASKET,item:u})},o=u=>{t({type:Qr.REMOVE_FROM_BASKET,id:u})};return z.jsx(jc,{children:z.jsxs("section",{className:Zo.container,children:[z.jsxs("div",{className:Zo.cart_container,children:[z.jsx("h2",{children:"Hello"}),z.jsx("h3",{children:"your shopping basket"}),z.jsx("hr",{}),(n==null?void 0:n.length)==0?z.jsx("p",{children:"Opps ! No item in your Cart "}):n==null?void 0:n.map((u,h)=>z.jsxs("section",{className:Zo.cart_product,children:[z.jsx($c,{product:u,renderDesc:!0,renderAdd:!1,flex:!0},h),z.jsxs("div",{className:Zo.btn_container,children:[z.jsx("button",{className:Zo.btn,onClick:()=>i(u),children:z.jsx(JG,{size:20})}),z.jsx("span",{children:u.amount}),z.jsx("button",{className:Zo.btn,onClick:()=>o(u.id),children:z.jsx(XG,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&z.jsxs("div",{className:Zo.subtotal,children:[z.jsxs("div",{children:[z.jsxs("p",{children:["subtotal (",n==null?void 0:n.length," items)"]}),z.jsx(qw,{amount:r})]}),z.jsxs("span",{children:[z.jsx("input",{type:"checkbox"}),z.jsx("small",{children:"This order contain a gift"})]}),z.jsx(Fi,{to:"/payments",children:"Continue to checkout"})]})]})})}const eK="_products_container_1v9pi_1",tK={products_container:eK},kN="https://fakestoreapi.com";function nK(){const[n,e]=W.useState([]),{categoryName:t}=jC(),[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0),Ct.get(`${kN}/products/category/${t}`).then(o=>{e(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),z.jsx(jc,{children:z.jsxs("section",{children:[z.jsx("h1",{style:{padding:"30px"},children:" Results"}),z.jsxs("p",{style:{padding:"30px"},children:["Category/ ",t]}),z.jsx("hr",{}),r?z.jsx(Hw,{}):z.jsx("div",{className:tK.products_container,children:n==null?void 0:n.map(o=>z.jsx($c,{renderAdd:!0,renderDesc:!1,product:o},o.id))})]})})}function rK(){const[n,e]=W.useState({}),[t,r]=W.useState(!1),{productId:i}=jC();return W.useEffect(()=>{r(!0),Ct.get(`${kN}/products/${i}`).then(o=>{e(o.data),r(!1)}).catch(o=>{console.log(o),r(!1)})},[]),z.jsx(jc,{children:t?z.jsx(Hw,{}):z.jsx($c,{product:n,flex:!0,renderDesc:!0,renderAdd:!0})})}var iK="v3",sK=function(e){return e===3?"v3":e},NN="https://js.stripe.com",aK="".concat(NN,"/v3"),oK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,lK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var uK=function(e){return oK.test(e)||lK.test(e)},cK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(NN,'"]')),t=0;t<e.length;t++){var r=e[t];if(uK(r.src))return r}return null},PC=function(e){var t="",r=document.createElement("script");r.src="".concat(aK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},hK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})},vd=null,Cm=null,xm=null,dK=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},fK=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},pK=function(e){return vd!==null?vd:(vd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=cK();if(!(i&&e)){if(!i)i=PC(e);else if(i&&xm!==null&&Cm!==null){var o;i.removeEventListener("load",xm),i.removeEventListener("error",Cm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=PC(e)}}xm=fK(t,r),Cm=dK(r),i.addEventListener("load",xm),i.addEventListener("error",Cm)}catch(u){r(u);return}}),vd.catch(function(t){return vd=null,Promise.reject(t)}))},mK=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=sK(e.version),h=iK;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return hK(d,r),d},Ed,VN=!1,MN=function(){return Ed||(Ed=pK(null).catch(function(e){return Ed=null,Promise.reject(e)}),Ed)};Promise.resolve().then(function(){return MN()}).catch(function(n){VN||console.warn(n)});var gK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];VN=!0;var i=Date.now();return MN().then(function(o){return mK(o,t,i)})};const OC=({children:n,msg:e,redirect:t})=>{const r=Ug(),[{user:i},o]=W.useContext(qs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},yK=gK("pk_test_51R0DlcKb4pcdW9JrdMSWU4K91CfA9q3FJmCp9hkY5XBU8VJYG2r4ncQGK6cGJIBYRd5kGIcGyWcvoVo7Y8Xvc0gN00X4Qym9Fm");function _K(){return z.jsx(OM,{basename:"/Amazon-Clone-2025",children:z.jsxs(lM,{children:[z.jsx(Ba,{path:"/",element:z.jsx(hG,{})}),z.jsx(Ba,{path:"/auth",element:z.jsx(gG,{})}),z.jsx(Ba,{path:"/payments",element:z.jsx(OC,{msg:"you must login to pay",redirect:"/payments",children:z.jsx(ON,{stripe:yK,children:z.jsx(jG,{})})})}),z.jsx(Ba,{path:"/orders",element:z.jsx(OC,{msg:"you must login to access your orders",redirect:"/orders",children:z.jsx(HG,{})})}),z.jsx(Ba,{path:"/category/:categoryName",element:z.jsx(nK,{})}),z.jsx(Ba,{path:"/products/:productId",element:z.jsx(rK,{})}),z.jsx(Ba,{path:"/cart",element:z.jsx(ZG,{})})]})})}function vK(){const[{user:n},e]=W.useContext(qs);return W.useEffect(()=>{Og.onAuthStateChanged(t=>{e(t?{type:Qr.SET_USER,user:t}:{type:Qr.SET_USER,user:null})})},[]),z.jsx(z.Fragment,{children:z.jsx(_K,{})})}const LN={basket:[],user:null},EK=(n=LN,e)=>{switch(e.type){case Qr.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Qr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Qr.EMPTY_BASKET:return{...n,basket:[]};case Qr.SET_USER:return{...n,user:e.user};default:return n}};_V.createRoot(document.getElementById("root")).render(z.jsx(W.StrictMode,{children:z.jsx(lL,{reducer:EK,initialState:LN,children:z.jsx(vK,{})})}));
